var MovieSearch=function(e){var t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(n,i,function(t){return e[t]}.bind(null,i));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=81)}([function(e,t,r){"use strict";function n(e,t){return"function"==typeof e[t]}function i(e,t){return!!e&&a(e[t])}function o(e,t){return!!e&&!!Object.getOwnPropertyDescriptor(e,t)}function a(e){return void 0!==e}function s(e){return null===e}function u(e){return Array.isArray(e)}function c(e){return"string"==typeof e||e instanceof String}function f(e){return"boolean"==typeof e}function l(e){return"number"==typeof e||e instanceof Number}function p(e){return!!l(e)&&e%1==0}function h(e){return!!l(e)&&e%1!=0}function d(e){return e instanceof Date||"object"==typeof e&&"[object Date]"===Object.prototype.toString.call(e)}function g(e){return"object"==typeof e&&!!e}function y(e){return g(e)&&!u(e)&&!d(e)&&!m(e)&&!("undefined"!=typeof Blob&&e instanceof Blob)&&!("[object Set]"===Object.prototype.toString.call(e))}function v(e){return"function"==typeof e}function m(e){return g(e)&&n(e,"get")&&n(e,"has")&&i(e,"size")&&n(e,"clear")&&n(e,"delete")&&n(e,"entries")&&n(e,"forEach")&&n(e,"get")&&n(e,"has")&&n(e,"keys")&&n(e,"set")&&n(e,"values")}function b(e){if(!c(e))return!1;switch(e.toLowerCase()){case"true":case"yes":case"y":case"1":return!0;case"false":case"no":case"n":case"0":default:return!1}}function w(e){return new Promise((function(t){return t(e?e():void 0)}))}r.r(t),r.d(t,"hasFunction",(function(){return n})),r.d(t,"hasProperty",(function(){return i})),r.d(t,"hasPropertyDefined",(function(){return o})),r.d(t,"isDefined",(function(){return a})),r.d(t,"isNull",(function(){return s})),r.d(t,"isArray",(function(){return u})),r.d(t,"isString",(function(){return c})),r.d(t,"isBoolean",(function(){return f})),r.d(t,"isNumber",(function(){return l})),r.d(t,"isInteger",(function(){return p})),r.d(t,"isDouble",(function(){return h})),r.d(t,"isDate",(function(){return d})),r.d(t,"isObject",(function(){return g})),r.d(t,"isPlainObject",(function(){return y})),r.d(t,"isFunction",(function(){return v})),r.d(t,"isMap",(function(){return m})),r.d(t,"parseBoolean",(function(){return b})),r.d(t,"promiseMethod",(function(){return w})),r.d(t,"ArrayUtils",(function(){return _})),r.d(t,"ObjectUtils",(function(){return P})),r.d(t,"StringUtils",(function(){return T})),r.d(t,"MapUtils",(function(){return E})),r.d(t,"UUIDUtils",(function(){return O})),r.d(t,"_isExistingValue",(function(){return S}));var _=function(){function e(){}return e.from=function(e){for(var t=[],r=e.next();!r.done;)t.push(r.value),r=e.next();return t},e.joinWithoutDuplicates=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var r=e[0].slice(),n=1,i=e.length;n<i;n++)r=r.concat(e[n].filter((function(e){return r.indexOf(e)<0})));return r},e}(),P=function(){function e(){}return e.extend=function(t,r,n){if(void 0===n&&(n={arrays:!1,objects:!1}),(u(r)||y(r))&&(u(t)||y(t))){r.__CarbonSDK_circularReferenceFlag=t;for(var i=0,o=Object.keys(r);i<o.length;i++){var a=o[i];if(!v(r[a])&&"__CarbonSDK_circularReferenceFlag"!==a){var s=r[a];(u(s)&&n.arrays||y(s)&&n.objects)&&(s="__CarbonSDK_circularReferenceFlag"in s?s.__CarbonSDK_circularReferenceFlag:a in t&&t[a].constructor===s.constructor?e.extend(t[a],s,n):e.clone(s,n)),null!==s?t[a]=s:t[a]&&delete t[a]}}return delete r.__CarbonSDK_circularReferenceFlag,t}},e.clone=function(t,r){void 0===r&&(r={arrays:!1,objects:!1});var n=u(t);if(n||y(t)){var i=n?[]:Object.create(Object.getPrototypeOf(t));return e.extend(i,t,r)}},e.areEqual=function(e,t,r,n){return void 0===r&&(r={arrays:!1,objects:!1}),void 0===n&&(n={}),function e(t,r,n,i,o,a){void 0===a&&(a={});if(t===r)return!0;if(!g(t)||!g(r))return!1;if(d(t))return t.getTime()===r.getTime();var s=_.joinWithoutDuplicates(Object.keys(t),Object.keys(r));for(var c=0,f=s;c<f.length;c++){var l=f[c];if(!(l in a)){if(!(l in t&&l in r))return!1;if(typeof t[l]!=typeof r[l])return!1;if(!v(t[l])){var p=y(t[l]);if(u(t[l])&&n.arrays||p&&n.objects||d(t[l])){if(p){for(var h=i.length;h--;)if(i[h]===t[l])return o[h]===r[l];i.push(t[l]),o.push(r[l])}if(!e(t[l],r[l],n,i,o))return!1;p&&(i.pop(),o.pop())}else if(t[l]!==r[l])return!1}}}return!0}(e,t,r,[e],[t],n)},e.areShallowlyEqual=function(e,t){if(e===t)return!0;if(!g(e)||!g(t))return!1;var r=[];for(var n in e)if(e.hasOwnProperty(n)&&!v(e[n])){if(!(n in t))return!1;if(e[n]!==t[n])return!1;r.push(n)}for(var n in t)if(t.hasOwnProperty(n)&&!v(t[n])){if(!(n in e))return!1;if(-1===r.indexOf(n))return!1}return!0},e}();var T=function(){function e(){}return e.startsWith=function(e,t){return 0===e.lastIndexOf(t,0)},e.endsWith=function(e,t){return-1!==e.indexOf(t,e.length-t.length)},e.contains=function(e,t){return-1!==e.indexOf(t)},e}(),E=function(){function e(){}return e.from=function(e){for(var t=new Map,r=0,n=Object.keys(e);r<n.length;r++){var i=n[r];t.set(i,e[i])}return t},e.extend=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];for(var n=0,i=t;n<i.length;n++){var o=i[n];o&&o.forEach((function(t,r){return e.set(r,t)}))}return e},e}(),O=function(){function e(){}return e.is=function(t){return e.regExp.test(t)},e.generate=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}))},e.regExp=/^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i,e}();function S(e){return null!=e}},function(e,t,r){"use strict";r.d(t,"c",(function(){return i})),r.d(t,"a",(function(){return o})),r.d(t,"b",(function(){return a})),r.d(t,"d",(function(){return s}));
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
var n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)};function i(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}var o=function(){return(o=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function a(e,t,r,n){return new(r||(r=Promise))((function(i,o){function a(e){try{u(n.next(e))}catch(e){o(e)}}function s(e){try{u(n.throw(e))}catch(e){o(e)}}function u(e){e.done?i(e.value):new r((function(t){t(e.value)})).then(a,s)}u((n=n.apply(e,t||[])).next())}))}function s(e,t){var r,n,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,n=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}},function(e,t,r){"use strict";r.d(t,"a",(function(){return i}));var n=r(1),i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.c(t,e),Object.defineProperty(t.prototype,"name",{get:function(){return"IllegalArgumentError"},enumerable:!0,configurable:!0}),t}(r(7).a)},function(e,t,r){"use strict";(function(e){r.d(t,"a",(function(){return w})),r.d(t,"b",(function(){return _}));var n=r(1),i=r(44),o=r.n(i),a=r(45),s=r.n(a),u=r(29),c=r.n(u),f=r(0),l=r(21),p=r(10),h=r(24),d=r(11),g=r(12),y=r(17);function v(e,t,r){if(r.status>=200&&r.status<=299)e(r);else{if(!l.statusCodeMap.has(r.status))return t(new h.a(r.data,r));t(new(l.statusCodeMap.get(r.status))(r.data,r))}}function m(t,r,n,i){return new Promise((function(a,u){var f=0;!function r(l){var p=c.a.parse(l),h="http:"===p.protocol?o.a:s.a,d={protocol:p.protocol,hostname:p.hostname,port:p.port,path:p.path,method:t,headers:{}};i.headers&&i.headers.forEach((function(e,t){return d.headers[t]=e.toString()}));var g=h.request(d);i.timeout&&g.setTimeout(i.timeout),g.on("response",(function(t){if(t.statusCode>=300&&t.statusCode<=399&&"location"in t.headers&&++f<10)return r(c.a.resolve(l,t.headers.location));!function(t,r){var n=[];r.on("data",(function(t){"string"==typeof t&&(t=e.from(t,"utf-8")),n.push(t)})).on("end",(function(){var i=e.concat(n).toString("utf8"),o=new y.a(t,i,r);v(a,u,o)}))}(g,t)})),g.on("error",(function(e){var t=new y.a(g,e.message);v(a,u,t)})),n&&("DELETE"===t&&(g.useChunkedEncodingByDefault=!0),g.write(n)),g.end()}(r)}))}function b(e,t,r,n){return"undefined"!=typeof XMLHttpRequest?function(e,t,r,n){return new Promise((function(i,o){var a=n.request?n.request:new XMLHttpRequest;a.open(e,t,!0),n.headers&&n.headers.forEach((function(e,t){return a.setRequestHeader(t,e.toString())})),a.withCredentials=!!n.sendCredentialsOnCORS,n.timeout&&(a.timeout=n.timeout),a.onload=a.onerror=function(){var e=new y.a(a);v(i,o,e)},r?a.send(r):a.send()}))}(e,t,r,n):m(e,t,r,n)}var w=function(){function t(){}return t.send=function(r,n,i,o,a){var s,u=this,c=void 0,l=Object(f.hasProperty)(o,"parse")?i:o;a=Object(f.hasProperty)(o,"parse")?o:a,!i||(s=i,Object(f.isString)(s)||"undefined"!=typeof Blob&&s instanceof Blob||void 0!==e&&s instanceof e)?c=i:l=i||l,l=Object.assign({},t.defaultOptions,l),Object(f.isNumber)(r)&&(r=g.a[r]);var p=b(r,n,c,l).then((function(e){return"GET"===r&&l.headers?u.__handleGETResponse(n,l,e):e}));return a?p.then((function(e){return a.parse(e.data).then((function(t){return[t,e]}))})):p},t.options=function(e,r){return void 0===r&&(r=t.defaultOptions),t.send(g.a.OPTIONS,e,r)},t.head=function(e,r){return void 0===r&&(r=t.defaultOptions),t.send(g.a.HEAD,e,r)},t.get=function(e,r,n){return void 0===r&&(r=t.defaultOptions),t.send(g.a.GET,e,void 0,r,n)},t.post=function(e,r,n,i){return void 0===r&&(r=t.defaultOptions),void 0===n&&(n=t.defaultOptions),t.send(g.a.POST,e,r,n,i)},t.put=function(e,r,n,i){return void 0===r&&(r=t.defaultOptions),void 0===n&&(n=t.defaultOptions),t.send(g.a.PUT,e,r,n,i)},t.patch=function(e,r,n,i){return void 0===r&&(r=t.defaultOptions),void 0===n&&(n=t.defaultOptions),t.send(g.a.PATCH,e,r,n,i)},t.delete=function(e,r,n,i){return void 0===r&&(r=t.defaultOptions),void 0===n&&(n=t.defaultOptions),t.send(g.a.DELETE,e,r,n,i)},t.__handleGETResponse=function(e,t,r){var n=this;return Promise.resolve().then((function(){return n.__contentTypeIsAccepted(t,r)?r:(n.__setNoCacheHeaders(t),n.__isChromiumAgent()||n.__setFalseETag(t),b("GET",e,void 0,t).then((function(e){if(!n.__contentTypeIsAccepted(t,r))throw new p.a("The server responded with an unacceptable Content-Type",r);return e})))}))},t.__contentTypeIsAccepted=function(e,t){if(!e.headers)return!0;var r=e.headers.has("accept")?e.headers.get("accept").values:[],n=t.headers.has("content-type")?t.headers.get("content-type"):void 0;return!n||r.some(n.hasValue,n)},t.__setNoCacheHeaders=function(e){e.headers.set("pragma",new d.a("no-cache")).set("cache-control",new d.a("no-cache, max-age=0"))},t.__isChromiumAgent=function(){return"undefined"!=typeof window&&!!window.chrome},t.__setFalseETag=function(e){e.headers.set("if-none-match",new d.a)},t.defaultOptions={sendCredentialsOnCORS:!0},t}(),_=function(){function e(){}return e.getHeader=function(e,t,r){if(!t.headers){if(!r)return;t.headers=new Map}e=e.toLowerCase();var n=t.headers.get(e);if(!n){if(!r)return;n=new d.a,t.headers.set(e,n)}return n},e.setAcceptHeader=function(t,r){return e.__addHeaderValue("accept",t,r),r},e.setContentTypeHeader=function(t,r){return e.__addHeaderValue("content-type",t,r),r},e.setIfMatchHeader=function(t,r){return t?(e.__addHeaderValue("if-match",t,r),r):r},e.setIfNoneMatchHeader=function(t,r){return t?(e.__addHeaderValue("if-none-match",t,r),r):r},e.setPreferredInteractionModel=function(t,r){var n=t+"; rel=interaction-model";return e.__addHeaderValue("prefer",n,r),r},e.setPreferredRetrieval=function(t,r){var n="return="+t;return e.__addHeaderValue("prefer",n,r),r},e.setRetrievalPreferences=function(t,r){for(var n=e.getHeader("prefer",r,!0),i=0,o=["include","omit"];i<o.length;i++){var a=o[i];if(a in t&&!(t[a].length<=0)){var s=t[a].join(" ");n.values.push(a+'="'+s+'"')}}return r},e.setSlug=function(t,r){return e.__addHeaderValue("slug",t,r),r},e.isOptions=function(e){return Object(f.hasPropertyDefined)(e,"headers")||Object(f.hasPropertyDefined)(e,"sendCredentialsOnCORS")||Object(f.hasPropertyDefined)(e,"timeout")||Object(f.hasPropertyDefined)(e,"request")},e.cloneOptions=function(e){var t=n.a({},e,{headers:new Map});return e.headers&&e.headers.forEach((function(e,r){return t.headers.set(r,new d.a(e.values.slice()))})),t},e.__addHeaderValue=function(t,r,n){e.getHeader(t,n,!0).addValue(r)},e}()}).call(this,r(48).Buffer)},function(e,t,r){"use strict";r.d(t,"a",(function(){return i}));var n=r(1),i=function(e){function t(t,r){var n=e.call(this,t)||this;return n.response=r,n}return n.c(t,e),Object.defineProperty(t,"statusCode",{get:function(){return null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return"HTTPError"},enumerable:!0,configurable:!0}),t}(r(7).a)},function(e,t){"function"==typeof Object.create?e.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(e,t){if(t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}}},function(e,t){var r;r=function(){return this}();try{r=r||new Function("return this")()}catch(e){"object"==typeof window&&(r=window)}e.exports=r},function(e,t,r){"use strict";r.d(t,"a",(function(){return i}));var n=r(1),i=function(e){function t(t){var r=this.constructor,n=e.call(this,t)||this;return Object.setPrototypeOf(n,r.prototype),"captureStackTrace"in Error&&Error.captureStackTrace(n,n.constructor),n}return n.c(t,e),Object.defineProperty(t.prototype,"name",{get:function(){return"AbstractError"},enumerable:!0,configurable:!0}),t}(Error)},function(e,t,r){"use strict";var n=r(5),i=r(31);function o(){i.call(this)}n(o,i),o.prototype.removeAllListeners=function(e){e?delete this._listeners[e]:this._listeners={}},o.prototype.once=function(e,t){var r=this,n=!1;this.on(e,(function i(){r.removeListener(e,i),n||(n=!0,t.apply(this,arguments))}))},o.prototype.emit=function(){var e=arguments[0],t=this._listeners[e];if(t){for(var r=arguments.length,n=new Array(r-1),i=1;i<r;i++)n[i-1]=arguments[i];for(var o=0;o<t.length;o++)t[o].apply(this,n)}},o.prototype.on=o.prototype.addListener=i.prototype.addEventListener,o.prototype.removeListener=i.prototype.removeEventListener,e.exports.EventEmitter=o},function(e,t,r){"use strict";var n=r(30);e.exports={getOrigin:function(e){if(!e)return null;var t=new n(e);if("file:"===t.protocol)return null;var r=t.port;return r||(r="https:"===t.protocol?"443":"80"),t.protocol+"//"+t.hostname+":"+r},isOriginEqual:function(e,t){var r=this.getOrigin(e)===this.getOrigin(t);return r},isSchemeEqual:function(e,t){return e.split(":")[0]===t.split(":")[0]},addPath:function(e,t){var r=e.split("?");return r[0]+t+(r[1]?"?"+r[1]:"")},addQuery:function(e,t){return e+(-1===e.indexOf("?")?"?"+t:"&"+t)}}},function(e,t,r){"use strict";r.d(t,"a",(function(){return o}));var n=r(1),i=r(4),o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.c(t,e),Object.defineProperty(t,"statusCode",{get:function(){return 0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return"BadResponseError"},enumerable:!0,configurable:!0}),t}(i.a)},function(e,t,r){"use strict";r.d(t,"a",(function(){return i}));var n=r(2),i=function(){function e(t){this.values=Array.isArray(t)?t:e.__parseValues(t)}return e.parseHeaders=function(t){var r=new Map;return t.split(/\r?\n/).forEach((function(t){var i;if(t.trim()){var o=t.split(":");if(o.length<2)throw new n.a("The header couldn't be parsed.");var a=o[0].trim().toLowerCase(),s=e.__parseValues(o.slice(1).join(":"));r.has(a)?(i=r.get(a).values).push.apply(i,s):r.set(a,new e(s))}})),r},e.__parseValues=function(e){return e?e.split(",").map((function(e){return e.trim()})):[]},e.prototype.hasValue=function(e){return-1!==this.values.indexOf(e)},e.prototype.addValue=function(t){var r,n=e.__parseValues(t);(r=this.values).push.apply(r,n)},e.prototype.toString=function(){return this.values.join(", ")},e}()},function(e,t,r){"use strict";var n;r.d(t,"a",(function(){return n})),function(e){e[e.OPTIONS=0]="OPTIONS",e[e.HEAD=1]="HEAD",e[e.GET=2]="GET",e[e.POST=3]="POST",e[e.PUT=4]="PUT",e[e.PATCH=5]="PATCH",e[e.DELETE=6]="DELETE"}(n||(n={}))},function(e,t,r){(function(e,n){var i;/*! JSON v3.3.2 | https://bestiejs.github.io/json3 | Copyright 2012-2015, Kit Cambridge, Benjamin Tan | http://kit.mit-license.org */(function(){var o=r(63),a={function:!0,object:!0},s=a[typeof t]&&t&&!t.nodeType&&t,u=a[typeof window]&&window||this,c=s&&a[typeof e]&&e&&!e.nodeType&&"object"==typeof n&&n;function f(e,t){e||(e=u.Object()),t||(t=u.Object());var r=e.Number||u.Number,n=e.String||u.String,i=e.Object||u.Object,o=e.Date||u.Date,s=e.SyntaxError||u.SyntaxError,c=e.TypeError||u.TypeError,l=e.Math||u.Math,p=e.JSON||u.JSON;"object"==typeof p&&p&&(t.stringify=p.stringify,t.parse=p.parse);var h,d=i.prototype,g=d.toString,y=d.hasOwnProperty;function v(e,t){try{e()}catch(e){t&&t()}}var m=new o(-0xc782b5b800cec);function b(e){if(null!=b[e])return b[e];var i;if("bug-string-char-index"==e)i="a"!="a"[0];else if("json"==e)i=b("json-stringify")&&b("date-serialization")&&b("json-parse");else if("date-serialization"==e){if(i=b("json-stringify")&&m){var a=t.stringify;v((function(){i='"-271821-04-20T00:00:00.000Z"'==a(new o(-864e13))&&'"+275760-09-13T00:00:00.000Z"'==a(new o(864e13))&&'"-000001-01-01T00:00:00.000Z"'==a(new o(-621987552e5))&&'"1969-12-31T23:59:59.999Z"'==a(new o(-1))}))}}else{var s,u='{"a":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}';if("json-stringify"==e){var c="function"==typeof(a=t.stringify);c&&((s=function(){return 1}).toJSON=s,v((function(){c="0"===a(0)&&"0"===a(new r)&&'""'==a(new n)&&a(g)===h&&a(h)===h&&a()===h&&"1"===a(s)&&"[1]"==a([s])&&"[null]"==a([h])&&"null"==a(null)&&"[null,null,null]"==a([h,g,null])&&a({a:[s,!0,!1,null,"\0\b\n\f\r\t"]})==u&&"1"===a(null,s)&&"[\n 1,\n 2\n]"==a([1,2],null,1)}),(function(){c=!1}))),i=c}if("json-parse"==e){var f,l=t.parse;"function"==typeof l&&v((function(){0!==l("0")||l(!1)||(s=l(u),(f=5==s.a.length&&1===s.a[0])&&(v((function(){f=!l('"\t"')})),f&&v((function(){f=1!==l("01")})),f&&v((function(){f=1!==l("1.")}))))}),(function(){f=!1})),i=f}}return b[e]=!!i}if(v((function(){m=-109252==m.getUTCFullYear()&&0===m.getUTCMonth()&&1===m.getUTCDate()&&10==m.getUTCHours()&&37==m.getUTCMinutes()&&6==m.getUTCSeconds()&&708==m.getUTCMilliseconds()})),b["bug-string-char-index"]=b["date-serialization"]=b.json=b["json-stringify"]=b["json-parse"]=null,!b("json")){var w=b("bug-string-char-index"),_=function(e,t){var r,n,i,o=0;for(i in(r=function(){this.valueOf=0}).prototype.valueOf=0,n=new r)y.call(n,i)&&o++;return r=n=null,o?_=function(e,t){var r,n,i="[object Function]"==g.call(e);for(r in e)i&&"prototype"==r||!y.call(e,r)||(n="constructor"===r)||t(r);(n||y.call(e,r="constructor"))&&t(r)}:(n=["valueOf","toString","toLocaleString","propertyIsEnumerable","isPrototypeOf","hasOwnProperty","constructor"],_=function(e,t){var r,i,o="[object Function]"==g.call(e),s=!o&&"function"!=typeof e.constructor&&a[typeof e.hasOwnProperty]&&e.hasOwnProperty||y;for(r in e)o&&"prototype"==r||!s.call(e,r)||t(r);for(i=n.length;r=n[--i];)s.call(e,r)&&t(r)}),_(e,t)};if(!b("json-stringify")&&!b("date-serialization")){var P={92:"\\\\",34:'\\"',8:"\\b",12:"\\f",10:"\\n",13:"\\r",9:"\\t"},T=function(e,t){return("000000"+(t||0)).slice(-e)},E=function(e){var t,r,n,i,o,a,s,u,c;if(m)t=function(e){r=e.getUTCFullYear(),n=e.getUTCMonth(),i=e.getUTCDate(),a=e.getUTCHours(),s=e.getUTCMinutes(),u=e.getUTCSeconds(),c=e.getUTCMilliseconds()};else{var f=l.floor,p=[0,31,59,90,120,151,181,212,243,273,304,334],h=function(e,t){return p[t]+365*(e-1970)+f((e-1969+(t=+(t>1)))/4)-f((e-1901+t)/100)+f((e-1601+t)/400)};t=function(e){for(i=f(e/864e5),r=f(i/365.2425)+1970-1;h(r+1,0)<=i;r++);for(n=f((i-h(r,0))/30.42);h(r,n+1)<=i;n++);i=1+i-h(r,n),a=f((o=(e%864e5+864e5)%864e5)/36e5)%24,s=f(o/6e4)%60,u=f(o/1e3)%60,c=o%1e3}}return(E=function(e){return e>-1/0&&e<1/0?(t(e),e=(r<=0||r>=1e4?(r<0?"-":"+")+T(6,r<0?-r:r):T(4,r))+"-"+T(2,n+1)+"-"+T(2,i)+"T"+T(2,a)+":"+T(2,s)+":"+T(2,u)+"."+T(3,c)+"Z",r=n=i=a=s=u=c=null):e=null,e})(e)};if(b("json-stringify")&&!b("date-serialization")){function O(e){return E(this)}var S=t.stringify;t.stringify=function(e,t,r){var n=o.prototype.toJSON;o.prototype.toJSON=O;var i=S(e,t,r);return o.prototype.toJSON=n,i}}else{var x=function(e){var t=e.charCodeAt(0),r=P[t];return r||"\\u00"+T(2,t.toString(16))},R=/[\x00-\x1f\x22\x5c]/g,j=function(e){return R.lastIndex=0,'"'+(R.test(e)?e.replace(R,x):e)+'"'},A=function(e,t,r,n,i,a,s){var u,f,l,p,d,y,m,b,w;if(v((function(){u=t[e]})),"object"==typeof u&&u&&(u.getUTCFullYear&&"[object Date]"==g.call(u)&&u.toJSON===o.prototype.toJSON?u=E(u):"function"==typeof u.toJSON&&(u=u.toJSON(e))),r&&(u=r.call(t,e,u)),u==h)return u===h?u:"null";switch("object"==(f=typeof u)&&(l=g.call(u)),l||f){case"boolean":case"[object Boolean]":return""+u;case"number":case"[object Number]":return u>-1/0&&u<1/0?""+u:"null";case"string":case"[object String]":return j(""+u)}if("object"==typeof u){for(m=s.length;m--;)if(s[m]===u)throw c();if(s.push(u),p=[],b=a,a+=i,"[object Array]"==l){for(y=0,m=u.length;y<m;y++)d=A(y,u,r,n,i,a,s),p.push(d===h?"null":d);w=p.length?i?"[\n"+a+p.join(",\n"+a)+"\n"+b+"]":"["+p.join(",")+"]":"[]"}else _(n||u,(function(e){var t=A(e,u,r,n,i,a,s);t!==h&&p.push(j(e)+":"+(i?" ":"")+t)})),w=p.length?i?"{\n"+a+p.join(",\n"+a)+"\n"+b+"}":"{"+p.join(",")+"}":"{}";return s.pop(),w}};t.stringify=function(e,t,r){var n,i,o,s;if(a[typeof t]&&t)if("[object Function]"==(s=g.call(t)))i=t;else if("[object Array]"==s){o={};for(var u,c=0,f=t.length;c<f;)u=t[c++],"[object String]"!=(s=g.call(u))&&"[object Number]"!=s||(o[u]=1)}if(r)if("[object Number]"==(s=g.call(r))){if((r-=r%1)>0)for(r>10&&(r=10),n="";n.length<r;)n+=" "}else"[object String]"==s&&(n=r.length<=10?r:r.slice(0,10));return A("",((u={})[""]=e,u),i,o,n,"",[])}}}if(!b("json-parse")){var C,I,D=n.fromCharCode,M={92:"\\",34:'"',47:"/",98:"\b",116:"\t",110:"\n",102:"\f",114:"\r"},F=function(){throw C=I=null,s()},N=function(){for(var e,t,r,n,i,o=I,a=o.length;C<a;)switch(i=o.charCodeAt(C)){case 9:case 10:case 13:case 32:C++;break;case 123:case 125:case 91:case 93:case 58:case 44:return e=w?o.charAt(C):o[C],C++,e;case 34:for(e="@",C++;C<a;)if((i=o.charCodeAt(C))<32)F();else if(92==i)switch(i=o.charCodeAt(++C)){case 92:case 34:case 47:case 98:case 116:case 110:case 102:case 114:e+=M[i],C++;break;case 117:for(t=++C,r=C+4;C<r;C++)(i=o.charCodeAt(C))>=48&&i<=57||i>=97&&i<=102||i>=65&&i<=70||F();e+=D("0x"+o.slice(t,C));break;default:F()}else{if(34==i)break;for(i=o.charCodeAt(C),t=C;i>=32&&92!=i&&34!=i;)i=o.charCodeAt(++C);e+=o.slice(t,C)}if(34==o.charCodeAt(C))return C++,e;F();default:if(t=C,45==i&&(n=!0,i=o.charCodeAt(++C)),i>=48&&i<=57){for(48==i&&((i=o.charCodeAt(C+1))>=48&&i<=57)&&F(),n=!1;C<a&&((i=o.charCodeAt(C))>=48&&i<=57);C++);if(46==o.charCodeAt(C)){for(r=++C;r<a&&!((i=o.charCodeAt(r))<48||i>57);r++);r==C&&F(),C=r}if(101==(i=o.charCodeAt(C))||69==i){for(43!=(i=o.charCodeAt(++C))&&45!=i||C++,r=C;r<a&&!((i=o.charCodeAt(r))<48||i>57);r++);r==C&&F(),C=r}return+o.slice(t,C)}n&&F();var s=o.slice(C,C+4);if("true"==s)return C+=4,!0;if("fals"==s&&101==o.charCodeAt(C+4))return C+=5,!1;if("null"==s)return C+=4,null;F()}return"$"},k=function(e){var t,r;if("$"==e&&F(),"string"==typeof e){if("@"==(w?e.charAt(0):e[0]))return e.slice(1);if("["==e){for(t=[];"]"!=(e=N());)r?","==e?"]"==(e=N())&&F():F():r=!0,","==e&&F(),t.push(k(e));return t}if("{"==e){for(t={};"}"!=(e=N());)r?","==e?"}"==(e=N())&&F():F():r=!0,","!=e&&"string"==typeof e&&"@"==(w?e.charAt(0):e[0])&&":"==N()||F(),t[e.slice(1)]=k(N());return t}F()}return e},L=function(e,t,r){var n=$(e,t,r);n===h?delete e[t]:e[t]=n},$=function(e,t,r){var n,i=e[t];if("object"==typeof i&&i)if("[object Array]"==g.call(i))for(n=i.length;n--;)L(g,_,i);else _(i,(function(e){L(i,e,r)}));return r.call(e,t,i)};t.parse=function(e,t){var r,n;return C=0,I=""+e,r=k(N()),"$"!=N()&&F(),C=I=null,t&&"[object Function]"==g.call(t)?$(((n={})[""]=r,n),"",t):r}}}return t.runInContext=f,t}if(!c||c.global!==c&&c.window!==c&&c.self!==c||(u=c),s&&!o)f(u,s);else{var l=u.JSON,p=u.JSON3,h=!1,d=f(u,u.JSON3={noConflict:function(){return h||(h=!0,u.JSON=l,u.JSON3=p,l=p=null),d}});u.JSON={parse:d.parse,stringify:d.stringify}}o&&(void 0===(i=function(){return d}.call(t,r,t,e))||(e.exports=i))}).call(this)}).call(this,r(62)(e),r(6))},function(e,t,r){"use strict";(function(t){var n=r(15),i={},o=!1,a=t.chrome&&t.chrome.app&&t.chrome.app.runtime;e.exports={attachEvent:function(e,r){void 0!==t.addEventListener?t.addEventListener(e,r,!1):t.document&&t.attachEvent&&(t.document.attachEvent("on"+e,r),t.attachEvent("on"+e,r))},detachEvent:function(e,r){void 0!==t.addEventListener?t.removeEventListener(e,r,!1):t.document&&t.detachEvent&&(t.document.detachEvent("on"+e,r),t.detachEvent("on"+e,r))},unloadAdd:function(e){if(a)return null;var t=n.string(8);return i[t]=e,o&&setTimeout(this.triggerUnloadCallbacks,0),t},unloadDel:function(e){e in i&&delete i[e]},triggerUnloadCallbacks:function(){for(var e in i)i[e](),delete i[e]}};a||e.exports.attachEvent("unload",(function(){o||(o=!0,e.exports.triggerUnloadCallbacks())}))}).call(this,r(6))},function(e,t,r){"use strict";var n=r(54);e.exports={string:function(e){for(var t="abcdefghijklmnopqrstuvwxyz012345".length,r=n.randomBytes(e),i=[],o=0;o<e;o++)i.push("abcdefghijklmnopqrstuvwxyz012345".substr(r[o]%t,1));return i.join("")},number:function(e){return Math.floor(Math.random()*e)},numberString:function(e){var t=(""+(e-1)).length;return(new Array(t+1).join("0")+this.number(e)).slice(-t)}}},function(e,t,r){"use strict";var n=r(5),i=r(9),o=r(32),a=function(){};function s(e,t,r,n){o.call(this,e,t,function(e){return function(t,r,n){a("create ajax sender",t,r);var o={};"string"==typeof r&&(o.headers={"Content-type":"text/plain"});var s=i.addPath(t,"/xhr_send"),u=new e("POST",s,r,o);return u.once("finish",(function(e){if(a("finish",e),u=null,200!==e&&204!==e)return n(new Error("http status "+e));n()})),function(){a("abort"),u.close(),u=null;var e=new Error("Aborted");e.code=1e3,n(e)}}}(n),r,n)}n(s,o),e.exports=s},function(e,t,r){"use strict";r.d(t,"a",(function(){return o}));var n=r(10),i=r(11),o=function(){function e(e,t,r){if(this.request=e,"undefined"!=typeof XMLHttpRequest&&e instanceof XMLHttpRequest)this.status=e.status,this.data=e.responseText,this.headers=i.a.parseHeaders(e.getAllResponseHeaders());else{if(this.data=t||"",this.status=r&&r.statusCode||0,this.headers=new Map,!r)return;for(var n in r.headers){var o=new i.a(r.headers[n]);this.headers.set(n.toLowerCase(),o)}}}return e.prototype.getHeader=function(e){return e=e.toLowerCase(),this.headers.get(e)||null},e.prototype.getETag=function(){var e=this.getHeader("ETag");if(!e||!e.values.length)throw new n.a("The response doesn't contain an ETag",this);return e.values[0]},e}()},function(e,t,r){"use strict";var n=r(5),i=r(33);function o(e,t,r){i.call(this,e,t,r,{noCredentials:!0})}n(o,i),o.enabled=i.enabled,e.exports=o},function(e,t,r){"use strict";(function(t){e.exports={isOpera:function(){return t.navigator&&/opera/i.test(t.navigator.userAgent)},isKonqueror:function(){return t.navigator&&/konqueror/i.test(t.navigator.userAgent)},hasDomain:function(){if(!t.document)return!0;try{return!!t.document.domain}catch(e){return!1}}}}).call(this,r(6))},function(e,t,r){"use strict";(function(t){var n=r(14),i=r(13),o=r(19);e.exports={WPrefix:"_jp",currentWindowId:null,polluteGlobalNamespace:function(){e.exports.WPrefix in t||(t[e.exports.WPrefix]={})},postMessage:function(r,n){t.parent!==t&&t.parent.postMessage(i.stringify({windowId:e.exports.currentWindowId,type:r,data:n||""}),"*")},createIframe:function(e,r){var i,o,a=t.document.createElement("iframe"),s=function(){clearTimeout(i);try{a.onload=null}catch(e){}a.onerror=null},u=function(){a&&(s(),setTimeout((function(){a&&a.parentNode.removeChild(a),a=null}),0),n.unloadDel(o))},c=function(e){a&&(u(),r(e))};return a.src=e,a.style.display="none",a.style.position="absolute",a.onerror=function(){c("onerror")},a.onload=function(){clearTimeout(i),i=setTimeout((function(){c("onload timeout")}),2e3)},t.document.body.appendChild(a),i=setTimeout((function(){c("timeout")}),15e3),o=n.unloadAdd(u),{post:function(e,t){setTimeout((function(){try{a&&a.contentWindow&&a.contentWindow.postMessage(e,t)}catch(e){}}),0)},cleanup:u,loaded:s}},createHtmlfile:function(r,i){var o,a,s,u=["Active"].concat("Object").join("X"),c=new t[u]("htmlfile"),f=function(){clearTimeout(o),s.onerror=null},l=function(){c&&(f(),n.unloadDel(a),s.parentNode.removeChild(s),s=c=null,CollectGarbage())},p=function(e){c&&(l(),i(e))};c.open(),c.write('<html><script>document.domain="'+t.document.domain+'";<\/script></html>'),c.close(),c.parentWindow[e.exports.WPrefix]=t[e.exports.WPrefix];var h=c.createElement("div");return c.body.appendChild(h),s=c.createElement("iframe"),h.appendChild(s),s.src=r,s.onerror=function(){p("onerror")},o=setTimeout((function(){p("timeout")}),15e3),a=n.unloadAdd(l),{post:function(e,t){try{setTimeout((function(){s&&s.contentWindow&&s.contentWindow.postMessage(e,t)}),0)}catch(e){}},cleanup:l,loaded:f}}},e.exports.iframeEnabled=!1,t.document&&(e.exports.iframeEnabled=("function"==typeof t.postMessage||"object"==typeof t.postMessage)&&!o.isKonqueror())}).call(this,r(6))},function(e,t,r){"use strict";r.r(t);var n={};r.r(n),r.d(n,"BadRequestError",(function(){return s})),r.d(n,"ConflictError",(function(){return u})),r.d(n,"ForbiddenError",(function(){return c})),r.d(n,"MethodNotAllowedError",(function(){return f})),r.d(n,"NotAcceptableError",(function(){return l})),r.d(n,"NotFoundError",(function(){return p})),r.d(n,"PreconditionFailedError",(function(){return h})),r.d(n,"PreconditionRequiredError",(function(){return d})),r.d(n,"RequestEntityTooLargeError",(function(){return g})),r.d(n,"RequestHeaderFieldsTooLargeError",(function(){return y})),r.d(n,"RequestURITooLongError",(function(){return v})),r.d(n,"TooManyRequestsError",(function(){return m})),r.d(n,"UnauthorizedError",(function(){return b})),r.d(n,"UnsupportedMediaTypeError",(function(){return w}));var i={};r.r(i),r.d(i,"BadResponseError",(function(){return _.a})),r.d(i,"BadGatewayError",(function(){return P})),r.d(i,"GatewayTimeoutError",(function(){return T})),r.d(i,"HTTPVersionNotSupportedError",(function(){return E})),r.d(i,"InternalServerErrorError",(function(){return O})),r.d(i,"NotImplementedError",(function(){return S})),r.d(i,"ServiceUnavailableError",(function(){return x}));var o=r(1),a=r(4),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o.c(t,e),Object.defineProperty(t,"statusCode",{get:function(){return 400},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return"BadRequestError"},enumerable:!0,configurable:!0}),t}(a.a),u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o.c(t,e),Object.defineProperty(t,"statusCode",{get:function(){return 409},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return"ConflictError"},enumerable:!0,configurable:!0}),t}(a.a),c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o.c(t,e),Object.defineProperty(t,"statusCode",{get:function(){return 403},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return"ForbiddenError"},enumerable:!0,configurable:!0}),t}(a.a),f=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o.c(t,e),Object.defineProperty(t,"statusCode",{get:function(){return 405},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return"MethodNotAllowedError"},enumerable:!0,configurable:!0}),t}(a.a),l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o.c(t,e),Object.defineProperty(t,"statusCode",{get:function(){return 406},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return"NotAcceptableError"},enumerable:!0,configurable:!0}),t}(a.a),p=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o.c(t,e),Object.defineProperty(t,"statusCode",{get:function(){return 404},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return"NotFoundError"},enumerable:!0,configurable:!0}),t}(a.a),h=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o.c(t,e),Object.defineProperty(t,"statusCode",{get:function(){return 412},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return"PreconditionFailedError"},enumerable:!0,configurable:!0}),t}(a.a),d=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o.c(t,e),Object.defineProperty(t,"statusCode",{get:function(){return 428},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return"PreconditionRequiredError"},enumerable:!0,configurable:!0}),t}(a.a),g=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o.c(t,e),Object.defineProperty(t,"statusCode",{get:function(){return 413},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return"RequestEntityTooLargeError"},enumerable:!0,configurable:!0}),t}(a.a),y=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o.c(t,e),Object.defineProperty(t,"statusCode",{get:function(){return 431},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return"RequestHeaderFieldsTooLargeError"},enumerable:!0,configurable:!0}),t}(a.a),v=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o.c(t,e),Object.defineProperty(t,"statusCode",{get:function(){return 414},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return"RequestURITooLongError"},enumerable:!0,configurable:!0}),t}(a.a),m=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o.c(t,e),Object.defineProperty(t,"statusCode",{get:function(){return 429},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return"TooManyRequestsError"},enumerable:!0,configurable:!0}),t}(a.a),b=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o.c(t,e),Object.defineProperty(t,"statusCode",{get:function(){return 401},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return"UnauthorizedError"},enumerable:!0,configurable:!0}),t}(a.a),w=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o.c(t,e),Object.defineProperty(t,"statusCode",{get:function(){return 415},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return"UnsupportedMediaTypeError"},enumerable:!0,configurable:!0}),t}(a.a),_=r(10),P=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o.c(t,e),Object.defineProperty(t,"statusCode",{get:function(){return 502},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return"BadGatewayError"},enumerable:!0,configurable:!0}),t}(a.a),T=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o.c(t,e),Object.defineProperty(t,"statusCode",{get:function(){return 504},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return"GatewayTimeoutError"},enumerable:!0,configurable:!0}),t}(a.a),E=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o.c(t,e),Object.defineProperty(t,"statusCode",{get:function(){return 505},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return"HTTPVersionNotSupportedError"},enumerable:!0,configurable:!0}),t}(a.a),O=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o.c(t,e),Object.defineProperty(t,"statusCode",{get:function(){return 500},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return"InternalServerErrorError"},enumerable:!0,configurable:!0}),t}(a.a),S=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o.c(t,e),Object.defineProperty(t,"statusCode",{get:function(){return 501},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return"NotImplementedError"},enumerable:!0,configurable:!0}),t}(a.a),x=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o.c(t,e),Object.defineProperty(t,"statusCode",{get:function(){return 503},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return"ServiceUnavailableError"},enumerable:!0,configurable:!0}),t}(a.a),R=r(24);r.d(t,"statusCodeMap",(function(){return j})),r.d(t,"BadRequestError",(function(){return s})),r.d(t,"ConflictError",(function(){return u})),r.d(t,"ForbiddenError",(function(){return c})),r.d(t,"MethodNotAllowedError",(function(){return f})),r.d(t,"NotAcceptableError",(function(){return l})),r.d(t,"NotFoundError",(function(){return p})),r.d(t,"PreconditionFailedError",(function(){return h})),r.d(t,"PreconditionRequiredError",(function(){return d})),r.d(t,"RequestEntityTooLargeError",(function(){return g})),r.d(t,"RequestHeaderFieldsTooLargeError",(function(){return y})),r.d(t,"RequestURITooLongError",(function(){return v})),r.d(t,"TooManyRequestsError",(function(){return m})),r.d(t,"UnauthorizedError",(function(){return b})),r.d(t,"UnsupportedMediaTypeError",(function(){return w})),r.d(t,"BadResponseError",(function(){return _.a})),r.d(t,"BadGatewayError",(function(){return P})),r.d(t,"GatewayTimeoutError",(function(){return T})),r.d(t,"HTTPVersionNotSupportedError",(function(){return E})),r.d(t,"InternalServerErrorError",(function(){return O})),r.d(t,"NotImplementedError",(function(){return S})),r.d(t,"ServiceUnavailableError",(function(){return x})),r.d(t,"HTTPError",(function(){return a.a})),r.d(t,"UnknownError",(function(){return R.a}));var j=new Map,A=function(e){return Object.keys(e).map((function(t){return e[t]})).forEach((function(e){return j.set(e.statusCode,e)}))};A(n),A(i)},function(e,t,r){"use strict";var n=r(5),i=r(8).EventEmitter,o=function(){};function a(e,t){o(e),i.call(this);var r=this;this.bufferPosition=0,this.xo=new t("POST",e,null),this.xo.on("chunk",this._chunkHandler.bind(this)),this.xo.once("finish",(function(e,t){o("finish",e,t),r._chunkHandler(e,t),r.xo=null;var n=200===e?"network":"permanent";o("close",n),r.emit("close",null,n),r._cleanup()}))}n(a,i),a.prototype._chunkHandler=function(e,t){if(o("_chunkHandler",e),200===e&&t)for(var r=-1;;this.bufferPosition+=r+1){var n=t.slice(this.bufferPosition);if(-1===(r=n.indexOf("\n")))break;var i=n.slice(0,r);i&&(o("message",i),this.emit("message",i))}},a.prototype._cleanup=function(){o("_cleanup"),this.removeAllListeners()},a.prototype.abort=function(){o("abort"),this.xo&&(this.xo.close(),o("close"),this.emit("close",null,"user"),this.xo=null),this._cleanup()},e.exports=a},function(e,t,r){"use strict";var n=r(5),i=r(33);function o(e,t,r,n){i.call(this,e,t,r,n)}n(o,i),o.enabled=i.enabled&&i.supportsCORS,e.exports=o},function(e,t,r){"use strict";r.d(t,"a",(function(){return o}));var n=r(1),i=r(4),o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.c(t,e),Object.defineProperty(t.prototype,"name",{get:function(){return"UnknownError"},enumerable:!0,configurable:!0}),t}(i.a)},function(e,t,r){"use strict";(function(t){var n=r(8).EventEmitter,i=r(5),o=r(14),a=r(19),s=r(9),u=function(){};function c(e,t,r){u(e,t);var i=this;n.call(this),setTimeout((function(){i._start(e,t,r)}),0)}i(c,n),c.prototype._start=function(e,r,n){u("_start");var i=this,a=new t.XDomainRequest;r=s.addQuery(r,"t="+ +new Date),a.onerror=function(){u("onerror"),i._error()},a.ontimeout=function(){u("ontimeout"),i._error()},a.onprogress=function(){u("progress",a.responseText),i.emit("chunk",200,a.responseText)},a.onload=function(){u("load"),i.emit("finish",200,a.responseText),i._cleanup(!1)},this.xdr=a,this.unloadRef=o.unloadAdd((function(){i._cleanup(!0)}));try{this.xdr.open(e,r),this.timeout&&(this.xdr.timeout=this.timeout),this.xdr.send(n)}catch(e){this._error()}},c.prototype._error=function(){this.emit("finish",0,""),this._cleanup(!1)},c.prototype._cleanup=function(e){if(u("cleanup",e),this.xdr){if(this.removeAllListeners(),o.unloadDel(this.unloadRef),this.xdr.ontimeout=this.xdr.onerror=this.xdr.onprogress=this.xdr.onload=null,e)try{this.xdr.abort()}catch(e){}this.unloadRef=this.xdr=null}},c.prototype.close=function(){u("close"),this._cleanup(!0)},c.enabled=!(!t.XDomainRequest||!a.hasDomain()),e.exports=c}).call(this,r(6))},function(e,t,r){"use strict";(function(t){var n=r(5),i=r(37),o=r(27);e.exports=function(e){function r(t,r){i.call(this,e.transportName,t,r)}return n(r,i),r.enabled=function(r,n){if(!t.document)return!1;var a=o.extend({},n);return a.sameOrigin=!0,e.enabled(a)&&i.enabled()},r.transportName="iframe-"+e.transportName,r.needBody=!0,r.roundTrips=i.roundTrips+e.roundTrips-1,r.facadeTransport=e,r}}).call(this,r(6))},function(e,t,r){"use strict";e.exports={isObject:function(e){var t=typeof e;return"function"===t||"object"===t&&!!e},extend:function(e){if(!this.isObject(e))return e;for(var t,r,n=1,i=arguments.length;n<i;n++)for(r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}}},function(e,t,r){"use strict";function n(e){this.type=e}n.prototype.initEvent=function(e,t,r){return this.type=e,this.bubbles=t,this.cancelable=r,this.timeStamp=+new Date,this},n.prototype.stopPropagation=function(){},n.prototype.preventDefault=function(){},n.CAPTURING_PHASE=1,n.AT_TARGET=2,n.BUBBLING_PHASE=3,e.exports=n},function(e,t){},function(e,t,r){"use strict";(function(t){var n=r(55),i=r(56),o=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,a=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\S\s]*)/i,s=new RegExp("^[\\x09\\x0A\\x0B\\x0C\\x0D\\x20\\xA0\\u1680\\u180E\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200A\\u202F\\u205F\\u3000\\u2028\\u2029\\uFEFF]+");function u(e){return(e||"").toString().replace(s,"")}var c=[["#","hash"],["?","query"],function(e){return e.replace("\\","/")},["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d+)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],f={hash:1,query:1};function l(e){var r,n=("undefined"!=typeof window?window:void 0!==t?t:"undefined"!=typeof self?self:{}).location||{},i={},a=typeof(e=e||n);if("blob:"===e.protocol)i=new h(unescape(e.pathname),{});else if("string"===a)for(r in i=new h(e,{}),f)delete i[r];else if("object"===a){for(r in e)r in f||(i[r]=e[r]);void 0===i.slashes&&(i.slashes=o.test(e.href))}return i}function p(e){e=u(e);var t=a.exec(e);return{protocol:t[1]?t[1].toLowerCase():"",slashes:!!t[2],rest:t[3]}}function h(e,t,r){if(e=u(e),!(this instanceof h))return new h(e,t,r);var o,a,s,f,d,g,y=c.slice(),v=typeof t,m=this,b=0;for("object"!==v&&"string"!==v&&(r=t,t=null),r&&"function"!=typeof r&&(r=i.parse),t=l(t),o=!(a=p(e||"")).protocol&&!a.slashes,m.slashes=a.slashes||o&&t.slashes,m.protocol=a.protocol||t.protocol||"",e=a.rest,a.slashes||(y[3]=[/(.*)/,"pathname"]);b<y.length;b++)"function"!=typeof(f=y[b])?(s=f[0],g=f[1],s!=s?m[g]=e:"string"==typeof s?~(d=e.indexOf(s))&&("number"==typeof f[2]?(m[g]=e.slice(0,d),e=e.slice(d+f[2])):(m[g]=e.slice(d),e=e.slice(0,d))):(d=s.exec(e))&&(m[g]=d[1],e=e.slice(0,d.index)),m[g]=m[g]||o&&f[3]&&t[g]||"",f[4]&&(m[g]=m[g].toLowerCase())):e=f(e);r&&(m.query=r(m.query)),o&&t.slashes&&"/"!==m.pathname.charAt(0)&&(""!==m.pathname||""!==t.pathname)&&(m.pathname=function(e,t){if(""===e)return t;for(var r=(t||"/").split("/").slice(0,-1).concat(e.split("/")),n=r.length,i=r[n-1],o=!1,a=0;n--;)"."===r[n]?r.splice(n,1):".."===r[n]?(r.splice(n,1),a++):a&&(0===n&&(o=!0),r.splice(n,1),a--);return o&&r.unshift(""),"."!==i&&".."!==i||r.push(""),r.join("/")}(m.pathname,t.pathname)),n(m.port,m.protocol)||(m.host=m.hostname,m.port=""),m.username=m.password="",m.auth&&(f=m.auth.split(":"),m.username=f[0]||"",m.password=f[1]||""),m.origin=m.protocol&&m.host&&"file:"!==m.protocol?m.protocol+"//"+m.host:"null",m.href=m.toString()}h.prototype={set:function(e,t,r){var o=this;switch(e){case"query":"string"==typeof t&&t.length&&(t=(r||i.parse)(t)),o[e]=t;break;case"port":o[e]=t,n(t,o.protocol)?t&&(o.host=o.hostname+":"+t):(o.host=o.hostname,o[e]="");break;case"hostname":o[e]=t,o.port&&(t+=":"+o.port),o.host=t;break;case"host":o[e]=t,/:\d+$/.test(t)?(t=t.split(":"),o.port=t.pop(),o.hostname=t.join(":")):(o.hostname=t,o.port="");break;case"protocol":o.protocol=t.toLowerCase(),o.slashes=!r;break;case"pathname":case"hash":if(t){var a="pathname"===e?"/":"#";o[e]=t.charAt(0)!==a?a+t:t}else o[e]=t;break;default:o[e]=t}for(var s=0;s<c.length;s++){var u=c[s];u[4]&&(o[u[1]]=o[u[1]].toLowerCase())}return o.origin=o.protocol&&o.host&&"file:"!==o.protocol?o.protocol+"//"+o.host:"null",o.href=o.toString(),o},toString:function(e){e&&"function"==typeof e||(e=i.stringify);var t,r=this,n=r.protocol;n&&":"!==n.charAt(n.length-1)&&(n+=":");var o=n+(r.slashes?"//":"");return r.username&&(o+=r.username,r.password&&(o+=":"+r.password),o+="@"),o+=r.host+r.pathname,(t="object"==typeof r.query?e(r.query):r.query)&&(o+="?"!==t.charAt(0)?"?"+t:t),r.hash&&(o+=r.hash),o}},h.extractProtocol=p,h.location=l,h.trimLeft=u,h.qs=i,e.exports=h}).call(this,r(6))},function(e,t,r){"use strict";function n(){this._listeners={}}n.prototype.addEventListener=function(e,t){e in this._listeners||(this._listeners[e]=[]);var r=this._listeners[e];-1===r.indexOf(t)&&(r=r.concat([t])),this._listeners[e]=r},n.prototype.removeEventListener=function(e,t){var r=this._listeners[e];if(r){var n=r.indexOf(t);-1===n||(r.length>1?this._listeners[e]=r.slice(0,n).concat(r.slice(n+1)):delete this._listeners[e])}},n.prototype.dispatchEvent=function(){var e=arguments[0],t=e.type,r=1===arguments.length?[e]:Array.apply(null,arguments);if(this["on"+t]&&this["on"+t].apply(this,r),t in this._listeners)for(var n=this._listeners[t],i=0;i<n.length;i++)n[i].apply(this,r)},e.exports=n},function(e,t,r){"use strict";var n=r(5),i=r(9),o=r(59),a=r(60),s=function(){};function u(e,t,r,n,u){var c=i.addPath(e,t);s(c);var f=this;o.call(this,e,r),this.poll=new a(n,c,u),this.poll.on("message",(function(e){s("poll message",e),f.emit("message",e)})),this.poll.once("close",(function(e,t){s("poll close",e,t),f.poll=null,f.emit("close",e,t),f.close()}))}n(u,o),u.prototype.close=function(){o.prototype.close.call(this),s("close"),this.removeAllListeners(),this.poll&&(this.poll.abort(),this.poll=null)},e.exports=u},function(e,t,r){"use strict";(function(t){var n=r(8).EventEmitter,i=r(5),o=r(14),a=r(9),s=t.XMLHttpRequest,u=function(){};function c(e,t,r,i){u(e,t);var o=this;n.call(this),setTimeout((function(){o._start(e,t,r,i)}),0)}i(c,n),c.prototype._start=function(e,t,r,n){var i=this;try{this.xhr=new s}catch(e){}if(!this.xhr)return u("no xhr"),this.emit("finish",0,"no xhr support"),void this._cleanup();t=a.addQuery(t,"t="+ +new Date),this.unloadRef=o.unloadAdd((function(){u("unload cleanup"),i._cleanup(!0)}));try{this.xhr.open(e,t,!0),this.timeout&&"timeout"in this.xhr&&(this.xhr.timeout=this.timeout,this.xhr.ontimeout=function(){u("xhr timeout"),i.emit("finish",0,""),i._cleanup(!1)})}catch(e){return u("exception",e),this.emit("finish",0,""),void this._cleanup(!1)}if(n&&n.noCredentials||!c.supportsCORS||(u("withCredentials"),this.xhr.withCredentials=!0),n&&n.headers)for(var f in n.headers)this.xhr.setRequestHeader(f,n.headers[f]);this.xhr.onreadystatechange=function(){if(i.xhr){var e,t,r=i.xhr;switch(u("readyState",r.readyState),r.readyState){case 3:try{t=r.status,e=r.responseText}catch(e){}u("status",t),1223===t&&(t=204),200===t&&e&&e.length>0&&(u("chunk"),i.emit("chunk",t,e));break;case 4:t=r.status,u("status",t),1223===t&&(t=204),12005!==t&&12029!==t||(t=0),u("finish",t,r.responseText),i.emit("finish",t,r.responseText),i._cleanup(!1)}}};try{i.xhr.send(r)}catch(e){i.emit("finish",0,""),i._cleanup(!1)}},c.prototype._cleanup=function(e){if(u("cleanup"),this.xhr){if(this.removeAllListeners(),o.unloadDel(this.unloadRef),this.xhr.onreadystatechange=function(){},this.xhr.ontimeout&&(this.xhr.ontimeout=null),e)try{this.xhr.abort()}catch(e){}this.unloadRef=this.xhr=null}},c.prototype.close=function(){u("close"),this._cleanup(!0)},c.enabled=!!s;var f=["Active"].concat("Object").join("X");!c.enabled&&f in t&&(u("overriding xmlhttprequest"),s=function(){try{return new t[f]("Microsoft.XMLHTTP")}catch(e){return null}},c.enabled=!!new s);var l=!1;try{l="withCredentials"in new s}catch(e){}c.supportsCORS=l,e.exports=c}).call(this,r(6))},function(e,t,r){"use strict";var n=r(5),i=r(16),o=r(22),a=r(25);function s(e){if(!a.enabled)throw new Error("Transport created when disabled");i.call(this,e,"/xhr_streaming",o,a)}n(s,i),s.enabled=function(e){return!e.cookie_needed&&!e.nullOrigin&&(a.enabled&&e.sameScheme)},s.transportName="xdr-streaming",s.roundTrips=2,e.exports=s},function(e,t,r){"use strict";var n=r(5),i=r(16),o=r(61),a=r(23),s=r(36);function u(e){if(!u.enabled())throw new Error("Transport created when disabled");i.call(this,e,"/eventsource",o,a)}n(u,i),u.enabled=function(){return!!s},u.transportName="eventsource",u.roundTrips=2,e.exports=u},function(e,t,r){(function(t){e.exports=t.EventSource}).call(this,r(6))},function(e,t,r){"use strict";var n=r(5),i=r(13),o=r(8).EventEmitter,a=r(38),s=r(9),u=r(20),c=r(14),f=r(15),l=function(){};function p(e,t,r){if(!p.enabled())throw new Error("Transport created when disabled");o.call(this);var n=this;this.origin=s.getOrigin(r),this.baseUrl=r,this.transUrl=t,this.transport=e,this.windowId=f.string(8);var i=s.addPath(r,"/iframe.html")+"#"+this.windowId;l(e,t,i),this.iframeObj=u.createIframe(i,(function(e){l("err callback"),n.emit("close",1006,"Unable to load an iframe ("+e+")"),n.close()})),this.onmessageCallback=this._message.bind(this),c.attachEvent("message",this.onmessageCallback)}n(p,o),p.prototype.close=function(){if(l("close"),this.removeAllListeners(),this.iframeObj){c.detachEvent("message",this.onmessageCallback);try{this.postMessage("c")}catch(e){}this.iframeObj.cleanup(),this.iframeObj=null,this.onmessageCallback=this.iframeObj=null}},p.prototype._message=function(e){if(l("message",e.data),s.isOriginEqual(e.origin,this.origin)){var t;try{t=i.parse(e.data)}catch(t){return void l("bad json",e.data)}if(t.windowId===this.windowId)switch(t.type){case"s":this.iframeObj.loaded(),this.postMessage("s",i.stringify([a,this.transport,this.transUrl,this.baseUrl]));break;case"t":this.emit("message",t.data);break;case"c":var r;try{r=i.parse(t.data)}catch(e){return void l("bad json",t.data)}this.emit("close",r[0],r[1]),this.close()}else l("mismatched window id",t.windowId,this.windowId)}else l("not same origin",e.origin,this.origin)},p.prototype.postMessage=function(e,t){l("postMessage",e,t),this.iframeObj.post(i.stringify({windowId:this.windowId,type:e,data:t||""}),this.origin)},p.prototype.send=function(e){l("send",e),this.postMessage("m",e)},p.enabled=function(){return u.iframeEnabled},p.transportName="iframe",p.roundTrips=2,e.exports=p},function(e,t){e.exports="1.4.0"},function(e,t,r){"use strict";var n=r(5),i=r(64),o=r(18),a=r(16);function s(e){if(!i.enabled)throw new Error("Transport created when disabled");a.call(this,e,"/htmlfile",i,o)}n(s,a),s.enabled=function(e){return i.enabled&&e.sameOrigin},s.transportName="htmlfile",s.roundTrips=2,e.exports=s},function(e,t,r){"use strict";var n=r(5),i=r(16),o=r(22),a=r(23),s=r(18);function u(e){if(!s.enabled&&!a.enabled)throw new Error("Transport created when disabled");i.call(this,e,"/xhr",o,a)}n(u,i),u.enabled=function(e){return!e.nullOrigin&&(!(!s.enabled||!e.sameOrigin)||a.enabled)},u.transportName="xhr-polling",u.roundTrips=2,e.exports=u},function(e,t,r){"use strict";(function(t){e.exports=t.location||{origin:"http://localhost:80",protocol:"http:",host:"localhost",port:80,href:"http://localhost/",hash:""}}).call(this,r(6))},function(e,t,r){"use strict";var n=r(5),i=r(8).EventEmitter,o=r(13),a=r(18),s=r(43);function u(e){var t=this;i.call(this),this.ir=new s(e,a),this.ir.once("finish",(function(e,r){t.ir=null,t.emit("message",o.stringify([e,r]))}))}n(u,i),u.transportName="iframe-info-receiver",u.prototype.close=function(){this.ir&&(this.ir.close(),this.ir=null),this.removeAllListeners()},e.exports=u},function(e,t,r){"use strict";var n=r(8).EventEmitter,i=r(5),o=r(13),a=r(27),s=function(){};function u(e,t){n.call(this);var r=this,i=+new Date;this.xo=new t("GET",e),this.xo.once("finish",(function(e,t){var n,u;if(200===e){if(u=+new Date-i,t)try{n=o.parse(t)}catch(e){s("bad json",t)}a.isObject(n)||(n={})}r.emit("finish",n,u),r.removeAllListeners()}))}i(u,n),u.prototype.close=function(){this.removeAllListeners(),this.xo.close()},e.exports=u},function(e,t){},function(e,t){},function(e,t,r){"use strict";(function(t){var n=r(52);e.exports=r(69)(n),"_sockjs_onload"in t&&setTimeout(t._sockjs_onload,1)}).call(this,r(6))},function(e,t,r){e.exports=function(){"use strict";var e=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},t=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),r=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],n=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){i=!0,o=e}finally{try{!n&&s.return&&s.return()}finally{if(i)throw o}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},n=function(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)},i={V1_0:"1.0",V1_1:"1.1",V1_2:"1.2",supportedVersions:function(){return"1.2,1.1,1.0"},supportedProtocols:function(){return["v10.stomp","v11.stomp","v12.stomp"]}},o={"v10.stomp":i.V1_0,"v11.stomp":i.V1_1,"v12.stomp":i.V1_2};function a(e,t){var r=o[e];return!r&&t&&t("DEPRECATED: "+e+" is not a recognized STOMP version. In next major client version, this will close the connection."),r||i.V1_2}var s="\n",u="\0",c=function(e){return e.replace(/^\s+|\s+$/g,"")};function f(e){var t=String.fromCharCode.apply(String,n(e)).replace(/(.)/g,(function(e,t){var r=t.charCodeAt(0).toString(16).toUpperCase();return r.length<2&&(r="0"+r),"%"+r}));return decodeURIComponent(t)}function l(){return(new Date).getTime()+"-"+Math.floor(1e3*Math.random())}var p=function(){function r(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";e(this,r),this.command=t,this.headers=n,this.body=i}return t(r,[{key:"toString",value:function(){var e,t=this,r=[this.command],n=!1===this.headers["content-length"];return n&&delete this.headers["content-length"],Object.keys(this.headers).forEach((function(e){var n=t.headers[e];r.push(e+":"+n)})),this.body&&!n&&r.push("content-length:"+((e=this.body)?encodeURIComponent(e).match(/%..|./g).length:0)),r.push(s+this.body),r.join(s)}}],[{key:"unmarshallSingle",value:function(e){var t=e.search(new RegExp(s+s)),n=e.substring(0,t).split(s),i=n.shift(),o={},a="",f=t+2,l=!0,p=!1,h=void 0;try{for(var d,g=n.reverse()[Symbol.iterator]();!(l=(d=g.next()).done);l=!0){var y=d.value,v=y.indexOf(":");o[c(y.substring(0,v))]=c(y.substring(v+1))}}catch(e){p=!0,h=e}finally{try{!l&&g.return&&g.return()}finally{if(p)throw h}}if(o["content-length"]){var m=parseInt(o["content-length"],10);a=(""+e).substring(f,f+m)}else for(var b=null,w=f;w<e.length&&(b=e.charAt(w))!==u;w++)a+=b;return new r(i,o,a)}},{key:"unmarshall",value:function(e){var t=e.split(new RegExp(u+s+"*")),n=t.slice(0,-1),i=t.slice(-1)[0],o={frames:n.map((function(e){return r.unmarshallSingle(e)})),partial:""};return i===s||-1!==i.search(RegExp(u+s+"*$"))?o.frames.push(r.unmarshallSingle(i)):o.partial=i,o}},{key:"marshall",value:function(e,t,n){return new r(e,t,n).toString()+u}}]),r}(),h=function(){function n(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e(this,n);var i=r.binary,o=void 0!==i&&i,a=r.heartbeat,s=void 0===a?{outgoing:1e4,incoming:1e4}:a,u=r.debug,c=void 0===u||u,f=r.protocols,l=void 0===f?[]:f;this.ws=t,this.ws.binaryType="arraybuffer",this.isBinary=!!o,this.hasDebug=!!c,this.connected=!1,this.heartbeat=s||{outgoing:0,incoming:0},this.maxWebSocketFrameSize=16384,this.subscriptions={},this.partialData="",this.protocols=l}return t(n,[{key:"debug",value:function(){var e;this.hasDebug&&(e=console).log.apply(e,arguments)}},{key:"connect",value:function(){var e=this,t=this._parseConnect.apply(this,arguments),n=r(t,3),o=n[0],u=n[1],c=n[2];this.connectCallback=u,this.debug("Opening Web Socket..."),this.ws.onmessage=function(t){var r=t.data;if(t.data instanceof ArrayBuffer&&(r=f(new Uint8Array(t.data))),e.serverActivity=Date.now(),r!==s){e.debug("<<< "+r);var n=p.unmarshall(e.partialData+r);e.partialData=n.partial,n.frames.forEach((function(t){switch(t.command){case"CONNECTED":e.debug("connected to server "+t.headers.server),e.connected=!0,e.version=t.headers.version,e._setupHeartbeat(t.headers),u&&u(t);break;case"MESSAGE":var r=t.headers.subscription,n=e.subscriptions[r]||e.onreceive;if(n){var o=e.version===i.V1_2&&t.headers.ack||t.headers["message-id"];t.ack=e.ack.bind(e,o,r),t.nack=e.nack.bind(e,o,r),n(t)}else e.debug("Unhandled received MESSAGE: "+t);break;case"RECEIPT":e.onreceipt&&e.onreceipt(t);break;case"ERROR":c&&c(t);break;default:e.debug("Unhandled frame: "+t)}}))}else e.debug("<<< PONG")},this.ws.onclose=function(t){e.debug("Whoops! Lost connection to "+e.ws.url+":",{event:t}),e._cleanUp(),c&&c(t)},this.ws.onopen=function(){e.debug("Web Socket Opened..."),o["accept-version"]=a(e.ws.protocol||e.protocols[0],e.debug.bind(e)),o["heart-beat"]||(o["heart-beat"]=[e.heartbeat.outgoing,e.heartbeat.incoming].join(",")),e._transmit("CONNECT",o)},this.ws.readyState===this.ws.OPEN&&this.ws.onopen()}},{key:"disconnect",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._transmit("DISCONNECT",t),this.ws.onclose=null,this.ws.close(),this._cleanUp(),e&&e()}},{key:"send",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=Object.assign({},r);n.destination=e,this._transmit("SEND",n,t)}},{key:"begin",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"tx-"+l();return this._transmit("BEGIN",{transaction:e}),{id:e,commit:this.commit.bind(this,e),abort:this.abort.bind(this,e)}}},{key:"commit",value:function(e){this._transmit("COMMIT",{transaction:e})}},{key:"abort",value:function(e){this._transmit("ABORT",{transaction:e})}},{key:"ack",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=Object.assign({},r),o=this.version===i.V1_2?"id":"message-id";n[o]=e,n.subscription=t,this._transmit("ACK",n)}},{key:"nack",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=Object.assign({},r),o=this.version===i.V1_2?"id":"message-id";n[o]=e,n.subscription=t,this._transmit("NACK",n)}},{key:"subscribe",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=Object.assign({},r);return n.id||(n.id="sub-"+l()),n.destination=e,this.subscriptions[n.id]=t,this._transmit("SUBSCRIBE",n),{id:n.id,unsubscribe:this.unsubscribe.bind(this,n.id)}}},{key:"unsubscribe",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=Object.assign({},t);delete this.subscriptions[e],r.id=e,this._transmit("UNSUBSCRIBE",r)}},{key:"_cleanUp",value:function(){this.connected=!1,clearInterval(this.pinger),clearInterval(this.ponger)}},{key:"_transmit",value:function(e,t,r){var n=p.marshall(e,t,r);this.debug(">>> "+n,{frame:{command:e,headers:t,body:r}}),this._wsSend(n)}},{key:"_wsSend",value:function(e){var t,r;for(this.isBinary&&(t=encodeURIComponent(e).replace(/%([0-9A-F]{2})/g,(function(e,t){return String.fromCharCode("0x"+t)})),r=Array.prototype.map.call(t,(function(e){return e.charCodeAt(0)})),e=new Uint8Array(r)),this.debug(">>> length "+e.length);;){if(!(e.length>this.maxWebSocketFrameSize))return this.ws.send(e);this.ws.send(e.slice(0,this.maxWebSocketFrameSize)),e=e.slice(this.maxWebSocketFrameSize),this.debug("remaining = "+e.length)}}},{key:"_setupHeartbeat",value:function(e){var t=this;if(this.version===i.V1_1||this.version===i.V1_2){var n=(e["heart-beat"]||"0,0").split(",").map((function(e){return parseInt(e,10)})),o=r(n,2),a=o[0],u=o[1];if(0!==this.heartbeat.outgoing&&0!==u){var c=Math.max(this.heartbeat.outgoing,u);this.debug("send PING every "+c+"ms"),this.pinger=setInterval((function(){t._wsSend(s),t.debug(">>> PING")}),c)}if(0!==this.heartbeat.incoming&&0!==a){var f=Math.max(this.heartbeat.incoming,a);this.debug("check PONG every "+f+"ms"),this.ponger=setInterval((function(){var e=Date.now()-t.serverActivity;e>2*f&&(t.debug("did not receive server activity for the last "+e+"ms"),t.ws.close())}),f)}}}},{key:"_parseConnect",value:function(){for(var e={},t=void 0,r=void 0,n=arguments.length,i=Array(n),o=0;o<n;o++)i[o]=arguments[o];switch(i.length){case 2:e=i[0],t=i[1];break;case 3:i[1]instanceof Function?(e=i[0],t=i[1],r=i[2]):(e.login=i[0],e.passcode=i[1],t=i[2]);break;case 4:e.login=i[0],e.passcode=i[1],t=i[2],r=i[3];break;default:e.login=i[0],e.passcode=i[1],t=i[2],r=i[3],e.host=i[4]}return[e,t,r]}}]),n}();return{Frame:p,VERSIONS:i,client:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=new WebSocket(e,t.protocols||i.supportedProtocols());return new h(r,t)},over:function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return new(Function.prototype.bind.apply(h,[null].concat(t)))}}}()},function(e,t,r){"use strict";(function(e){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */
var n=r(49),i=r(50),o=r(51);function a(){return u.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function s(e,t){if(a()<t)throw new RangeError("Invalid typed array length");return u.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=u.prototype:(null===e&&(e=new u(t)),e.length=t),e}function u(e,t,r){if(!(u.TYPED_ARRAY_SUPPORT||this instanceof u))return new u(e,t,r);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return l(this,e)}return c(this,e,t,r)}function c(e,t,r,n){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,r,n){if(t.byteLength,r<0||t.byteLength<r)throw new RangeError("'offset' is out of bounds");if(t.byteLength<r+(n||0))throw new RangeError("'length' is out of bounds");t=void 0===r&&void 0===n?new Uint8Array(t):void 0===n?new Uint8Array(t,r):new Uint8Array(t,r,n);u.TYPED_ARRAY_SUPPORT?(e=t).__proto__=u.prototype:e=p(e,t);return e}(e,t,r,n):"string"==typeof t?function(e,t,r){"string"==typeof r&&""!==r||(r="utf8");if(!u.isEncoding(r))throw new TypeError('"encoding" must be a valid string encoding');var n=0|d(t,r),i=(e=s(e,n)).write(t,r);i!==n&&(e=e.slice(0,i));return e}(e,t,r):function(e,t){if(u.isBuffer(t)){var r=0|h(t.length);return 0===(e=s(e,r)).length?e:(t.copy(e,0,0,r),e)}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||(n=t.length)!=n?s(e,0):p(e,t);if("Buffer"===t.type&&o(t.data))return p(e,t.data)}var n;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function f(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function l(e,t){if(f(t),e=s(e,t<0?0:0|h(t)),!u.TYPED_ARRAY_SUPPORT)for(var r=0;r<t;++r)e[r]=0;return e}function p(e,t){var r=t.length<0?0:0|h(t.length);e=s(e,r);for(var n=0;n<r;n+=1)e[n]=255&t[n];return e}function h(e){if(e>=a())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a().toString(16)+" bytes");return 0|e}function d(e,t){if(u.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var r=e.length;if(0===r)return 0;for(var n=!1;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":case void 0:return Y(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return q(e).length;default:if(n)return Y(e).length;t=(""+t).toLowerCase(),n=!0}}function g(e,t,r){var n=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return A(this,t,r);case"utf8":case"utf-8":return S(this,t,r);case"ascii":return R(this,t,r);case"latin1":case"binary":return j(this,t,r);case"base64":return O(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return C(this,t,r);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}function y(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}function v(e,t,r,n,i){if(0===e.length)return-1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,isNaN(r)&&(r=i?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(i)return-1;r=e.length-1}else if(r<0){if(!i)return-1;r=0}if("string"==typeof t&&(t=u.from(t,n)),u.isBuffer(t))return 0===t.length?-1:m(e,t,r,n,i);if("number"==typeof t)return t&=255,u.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):m(e,[t],r,n,i);throw new TypeError("val must be string, number or Buffer")}function m(e,t,r,n,i){var o,a=1,s=e.length,u=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return-1;a=2,s/=2,u/=2,r/=2}function c(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(i){var f=-1;for(o=r;o<s;o++)if(c(e,o)===c(t,-1===f?0:o-f)){if(-1===f&&(f=o),o-f+1===u)return f*a}else-1!==f&&(o-=o-f),f=-1}else for(r+u>s&&(r=s-u),o=r;o>=0;o--){for(var l=!0,p=0;p<u;p++)if(c(e,o+p)!==c(t,p)){l=!1;break}if(l)return o}return-1}function b(e,t,r,n){r=Number(r)||0;var i=e.length-r;n?(n=Number(n))>i&&(n=i):n=i;var o=t.length;if(o%2!=0)throw new TypeError("Invalid hex string");n>o/2&&(n=o/2);for(var a=0;a<n;++a){var s=parseInt(t.substr(2*a,2),16);if(isNaN(s))return a;e[r+a]=s}return a}function w(e,t,r,n){return B(Y(t,e.length-r),e,r,n)}function _(e,t,r,n){return B(function(e){for(var t=[],r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}(t),e,r,n)}function P(e,t,r,n){return _(e,t,r,n)}function T(e,t,r,n){return B(q(t),e,r,n)}function E(e,t,r,n){return B(function(e,t){for(var r,n,i,o=[],a=0;a<e.length&&!((t-=2)<0);++a)r=e.charCodeAt(a),n=r>>8,i=r%256,o.push(i),o.push(n);return o}(t,e.length-r),e,r,n)}function O(e,t,r){return 0===t&&r===e.length?n.fromByteArray(e):n.fromByteArray(e.slice(t,r))}function S(e,t,r){r=Math.min(e.length,r);for(var n=[],i=t;i<r;){var o,a,s,u,c=e[i],f=null,l=c>239?4:c>223?3:c>191?2:1;if(i+l<=r)switch(l){case 1:c<128&&(f=c);break;case 2:128==(192&(o=e[i+1]))&&(u=(31&c)<<6|63&o)>127&&(f=u);break;case 3:o=e[i+1],a=e[i+2],128==(192&o)&&128==(192&a)&&(u=(15&c)<<12|(63&o)<<6|63&a)>2047&&(u<55296||u>57343)&&(f=u);break;case 4:o=e[i+1],a=e[i+2],s=e[i+3],128==(192&o)&&128==(192&a)&&128==(192&s)&&(u=(15&c)<<18|(63&o)<<12|(63&a)<<6|63&s)>65535&&u<1114112&&(f=u)}null===f?(f=65533,l=1):f>65535&&(f-=65536,n.push(f>>>10&1023|55296),f=56320|1023&f),n.push(f),i+=l}return function(e){var t=e.length;if(t<=x)return String.fromCharCode.apply(String,e);var r="",n=0;for(;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=x));return r}(n)}t.Buffer=u,t.SlowBuffer=function(e){+e!=e&&(e=0);return u.alloc(+e)},t.INSPECT_MAX_BYTES=50,u.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}(),t.kMaxLength=a(),u.poolSize=8192,u._augment=function(e){return e.__proto__=u.prototype,e},u.from=function(e,t,r){return c(null,e,t,r)},u.TYPED_ARRAY_SUPPORT&&(u.prototype.__proto__=Uint8Array.prototype,u.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&u[Symbol.species]===u&&Object.defineProperty(u,Symbol.species,{value:null,configurable:!0})),u.alloc=function(e,t,r){return function(e,t,r,n){return f(t),t<=0?s(e,t):void 0!==r?"string"==typeof n?s(e,t).fill(r,n):s(e,t).fill(r):s(e,t)}(null,e,t,r)},u.allocUnsafe=function(e){return l(null,e)},u.allocUnsafeSlow=function(e){return l(null,e)},u.isBuffer=function(e){return!(null==e||!e._isBuffer)},u.compare=function(e,t){if(!u.isBuffer(e)||!u.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var r=e.length,n=t.length,i=0,o=Math.min(r,n);i<o;++i)if(e[i]!==t[i]){r=e[i],n=t[i];break}return r<n?-1:n<r?1:0},u.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(e,t){if(!o(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return u.alloc(0);var r;if(void 0===t)for(t=0,r=0;r<e.length;++r)t+=e[r].length;var n=u.allocUnsafe(t),i=0;for(r=0;r<e.length;++r){var a=e[r];if(!u.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(n,i),i+=a.length}return n},u.byteLength=d,u.prototype._isBuffer=!0,u.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)y(this,t,t+1);return this},u.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)y(this,t,t+3),y(this,t+1,t+2);return this},u.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)y(this,t,t+7),y(this,t+1,t+6),y(this,t+2,t+5),y(this,t+3,t+4);return this},u.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?S(this,0,e):g.apply(this,arguments)},u.prototype.equals=function(e){if(!u.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===u.compare(this,e)},u.prototype.inspect=function(){var e="",r=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,r).match(/.{2}/g).join(" "),this.length>r&&(e+=" ... ")),"<Buffer "+e+">"},u.prototype.compare=function(e,t,r,n,i){if(!u.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),t<0||r>e.length||n<0||i>this.length)throw new RangeError("out of range index");if(n>=i&&t>=r)return 0;if(n>=i)return-1;if(t>=r)return 1;if(this===e)return 0;for(var o=(i>>>=0)-(n>>>=0),a=(r>>>=0)-(t>>>=0),s=Math.min(o,a),c=this.slice(n,i),f=e.slice(t,r),l=0;l<s;++l)if(c[l]!==f[l]){o=c[l],a=f[l];break}return o<a?-1:a<o?1:0},u.prototype.includes=function(e,t,r){return-1!==this.indexOf(e,t,r)},u.prototype.indexOf=function(e,t,r){return v(this,e,t,r,!0)},u.prototype.lastIndexOf=function(e,t,r){return v(this,e,t,r,!1)},u.prototype.write=function(e,t,r,n){if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)n=t,r=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(r)?(r|=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}var i=this.length-t;if((void 0===r||r>i)&&(r=i),e.length>0&&(r<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var o=!1;;)switch(n){case"hex":return b(this,e,t,r);case"utf8":case"utf-8":return w(this,e,t,r);case"ascii":return _(this,e,t,r);case"latin1":case"binary":return P(this,e,t,r);case"base64":return T(this,e,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return E(this,e,t,r);default:if(o)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),o=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var x=4096;function R(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(127&e[i]);return n}function j(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(e[i]);return n}function A(e,t,r){var n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);for(var i="",o=t;o<r;++o)i+=U(e[o]);return i}function C(e,t,r){for(var n=e.slice(t,r),i="",o=0;o<n.length;o+=2)i+=String.fromCharCode(n[o]+256*n[o+1]);return i}function I(e,t,r){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>r)throw new RangeError("Trying to access beyond buffer length")}function D(e,t,r,n,i,o){if(!u.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw new RangeError('"value" argument is out of bounds');if(r+n>e.length)throw new RangeError("Index out of range")}function M(e,t,r,n){t<0&&(t=65535+t+1);for(var i=0,o=Math.min(e.length-r,2);i<o;++i)e[r+i]=(t&255<<8*(n?i:1-i))>>>8*(n?i:1-i)}function F(e,t,r,n){t<0&&(t=4294967295+t+1);for(var i=0,o=Math.min(e.length-r,4);i<o;++i)e[r+i]=t>>>8*(n?i:3-i)&255}function N(e,t,r,n,i,o){if(r+n>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function k(e,t,r,n,o){return o||N(e,0,r,4),i.write(e,t,r,n,23,4),r+4}function L(e,t,r,n,o){return o||N(e,0,r,8),i.write(e,t,r,n,52,8),r+8}u.prototype.slice=function(e,t){var r,n=this.length;if((e=~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),(t=void 0===t?n:~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e),u.TYPED_ARRAY_SUPPORT)(r=this.subarray(e,t)).__proto__=u.prototype;else{var i=t-e;r=new u(i,void 0);for(var o=0;o<i;++o)r[o]=this[o+e]}return r},u.prototype.readUIntLE=function(e,t,r){e|=0,t|=0,r||I(e,t,this.length);for(var n=this[e],i=1,o=0;++o<t&&(i*=256);)n+=this[e+o]*i;return n},u.prototype.readUIntBE=function(e,t,r){e|=0,t|=0,r||I(e,t,this.length);for(var n=this[e+--t],i=1;t>0&&(i*=256);)n+=this[e+--t]*i;return n},u.prototype.readUInt8=function(e,t){return t||I(e,1,this.length),this[e]},u.prototype.readUInt16LE=function(e,t){return t||I(e,2,this.length),this[e]|this[e+1]<<8},u.prototype.readUInt16BE=function(e,t){return t||I(e,2,this.length),this[e]<<8|this[e+1]},u.prototype.readUInt32LE=function(e,t){return t||I(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},u.prototype.readUInt32BE=function(e,t){return t||I(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},u.prototype.readIntLE=function(e,t,r){e|=0,t|=0,r||I(e,t,this.length);for(var n=this[e],i=1,o=0;++o<t&&(i*=256);)n+=this[e+o]*i;return n>=(i*=128)&&(n-=Math.pow(2,8*t)),n},u.prototype.readIntBE=function(e,t,r){e|=0,t|=0,r||I(e,t,this.length);for(var n=t,i=1,o=this[e+--n];n>0&&(i*=256);)o+=this[e+--n]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*t)),o},u.prototype.readInt8=function(e,t){return t||I(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},u.prototype.readInt16LE=function(e,t){t||I(e,2,this.length);var r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},u.prototype.readInt16BE=function(e,t){t||I(e,2,this.length);var r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},u.prototype.readInt32LE=function(e,t){return t||I(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},u.prototype.readInt32BE=function(e,t){return t||I(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},u.prototype.readFloatLE=function(e,t){return t||I(e,4,this.length),i.read(this,e,!0,23,4)},u.prototype.readFloatBE=function(e,t){return t||I(e,4,this.length),i.read(this,e,!1,23,4)},u.prototype.readDoubleLE=function(e,t){return t||I(e,8,this.length),i.read(this,e,!0,52,8)},u.prototype.readDoubleBE=function(e,t){return t||I(e,8,this.length),i.read(this,e,!1,52,8)},u.prototype.writeUIntLE=function(e,t,r,n){(e=+e,t|=0,r|=0,n)||D(this,e,t,r,Math.pow(2,8*r)-1,0);var i=1,o=0;for(this[t]=255&e;++o<r&&(i*=256);)this[t+o]=e/i&255;return t+r},u.prototype.writeUIntBE=function(e,t,r,n){(e=+e,t|=0,r|=0,n)||D(this,e,t,r,Math.pow(2,8*r)-1,0);var i=r-1,o=1;for(this[t+i]=255&e;--i>=0&&(o*=256);)this[t+i]=e/o&255;return t+r},u.prototype.writeUInt8=function(e,t,r){return e=+e,t|=0,r||D(this,e,t,1,255,0),u.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},u.prototype.writeUInt16LE=function(e,t,r){return e=+e,t|=0,r||D(this,e,t,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):M(this,e,t,!0),t+2},u.prototype.writeUInt16BE=function(e,t,r){return e=+e,t|=0,r||D(this,e,t,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):M(this,e,t,!1),t+2},u.prototype.writeUInt32LE=function(e,t,r){return e=+e,t|=0,r||D(this,e,t,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):F(this,e,t,!0),t+4},u.prototype.writeUInt32BE=function(e,t,r){return e=+e,t|=0,r||D(this,e,t,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):F(this,e,t,!1),t+4},u.prototype.writeIntLE=function(e,t,r,n){if(e=+e,t|=0,!n){var i=Math.pow(2,8*r-1);D(this,e,t,r,i-1,-i)}var o=0,a=1,s=0;for(this[t]=255&e;++o<r&&(a*=256);)e<0&&0===s&&0!==this[t+o-1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+r},u.prototype.writeIntBE=function(e,t,r,n){if(e=+e,t|=0,!n){var i=Math.pow(2,8*r-1);D(this,e,t,r,i-1,-i)}var o=r-1,a=1,s=0;for(this[t+o]=255&e;--o>=0&&(a*=256);)e<0&&0===s&&0!==this[t+o+1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+r},u.prototype.writeInt8=function(e,t,r){return e=+e,t|=0,r||D(this,e,t,1,127,-128),u.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},u.prototype.writeInt16LE=function(e,t,r){return e=+e,t|=0,r||D(this,e,t,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):M(this,e,t,!0),t+2},u.prototype.writeInt16BE=function(e,t,r){return e=+e,t|=0,r||D(this,e,t,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):M(this,e,t,!1),t+2},u.prototype.writeInt32LE=function(e,t,r){return e=+e,t|=0,r||D(this,e,t,4,2147483647,-2147483648),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):F(this,e,t,!0),t+4},u.prototype.writeInt32BE=function(e,t,r){return e=+e,t|=0,r||D(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):F(this,e,t,!1),t+4},u.prototype.writeFloatLE=function(e,t,r){return k(this,e,t,!0,r)},u.prototype.writeFloatBE=function(e,t,r){return k(this,e,t,!1,r)},u.prototype.writeDoubleLE=function(e,t,r){return L(this,e,t,!0,r)},u.prototype.writeDoubleBE=function(e,t,r){return L(this,e,t,!1,r)},u.prototype.copy=function(e,t,r,n){if(r||(r=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("sourceStart out of bounds");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);var i,o=n-r;if(this===e&&r<t&&t<n)for(i=o-1;i>=0;--i)e[i+t]=this[i+r];else if(o<1e3||!u.TYPED_ARRAY_SUPPORT)for(i=0;i<o;++i)e[i+t]=this[i+r];else Uint8Array.prototype.set.call(e,this.subarray(r,r+o),t);return o},u.prototype.fill=function(e,t,r,n){if("string"==typeof e){if("string"==typeof t?(n=t,t=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),1===e.length){var i=e.charCodeAt(0);i<256&&(e=i)}if(void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!u.isEncoding(n))throw new TypeError("Unknown encoding: "+n)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<r)throw new RangeError("Out of range index");if(r<=t)return this;var o;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"==typeof e)for(o=t;o<r;++o)this[o]=e;else{var a=u.isBuffer(e)?e:Y(new u(e,n).toString()),s=a.length;for(o=0;o<r-t;++o)this[o+t]=a[o%s]}return this};var $=/[^+\/0-9A-Za-z-_]/g;function U(e){return e<16?"0"+e.toString(16):e.toString(16)}function Y(e,t){var r;t=t||1/0;for(var n=e.length,i=null,o=[],a=0;a<n;++a){if((r=e.charCodeAt(a))>55295&&r<57344){if(!i){if(r>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(a+1===n){(t-=3)>-1&&o.push(239,191,189);continue}i=r;continue}if(r<56320){(t-=3)>-1&&o.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,r<128){if((t-=1)<0)break;o.push(r)}else if(r<2048){if((t-=2)<0)break;o.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;o.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return o}function q(e){return n.toByteArray(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace($,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function B(e,t,r,n){for(var i=0;i<n&&!(i+r>=t.length||i>=e.length);++i)t[i+r]=e[i];return i}}).call(this,r(6))},function(e,t,r){"use strict";t.byteLength=function(e){var t=c(e),r=t[0],n=t[1];return 3*(r+n)/4-n},t.toByteArray=function(e){var t,r,n=c(e),a=n[0],s=n[1],u=new o(function(e,t,r){return 3*(t+r)/4-r}(0,a,s)),f=0,l=s>0?a-4:a;for(r=0;r<l;r+=4)t=i[e.charCodeAt(r)]<<18|i[e.charCodeAt(r+1)]<<12|i[e.charCodeAt(r+2)]<<6|i[e.charCodeAt(r+3)],u[f++]=t>>16&255,u[f++]=t>>8&255,u[f++]=255&t;2===s&&(t=i[e.charCodeAt(r)]<<2|i[e.charCodeAt(r+1)]>>4,u[f++]=255&t);1===s&&(t=i[e.charCodeAt(r)]<<10|i[e.charCodeAt(r+1)]<<4|i[e.charCodeAt(r+2)]>>2,u[f++]=t>>8&255,u[f++]=255&t);return u},t.fromByteArray=function(e){for(var t,r=e.length,i=r%3,o=[],a=0,s=r-i;a<s;a+=16383)o.push(f(e,a,a+16383>s?s:a+16383));1===i?(t=e[r-1],o.push(n[t>>2]+n[t<<4&63]+"==")):2===i&&(t=(e[r-2]<<8)+e[r-1],o.push(n[t>>10]+n[t>>4&63]+n[t<<2&63]+"="));return o.join("")};for(var n=[],i=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,u=a.length;s<u;++s)n[s]=a[s],i[a.charCodeAt(s)]=s;function c(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");return-1===r&&(r=t),[r,r===t?0:4-r%4]}function f(e,t,r){for(var i,o,a=[],s=t;s<r;s+=3)i=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]),a.push(n[(o=i)>>18&63]+n[o>>12&63]+n[o>>6&63]+n[63&o]);return a.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},function(e,t){t.read=function(e,t,r,n,i){var o,a,s=8*i-n-1,u=(1<<s)-1,c=u>>1,f=-7,l=r?i-1:0,p=r?-1:1,h=e[t+l];for(l+=p,o=h&(1<<-f)-1,h>>=-f,f+=s;f>0;o=256*o+e[t+l],l+=p,f-=8);for(a=o&(1<<-f)-1,o>>=-f,f+=n;f>0;a=256*a+e[t+l],l+=p,f-=8);if(0===o)o=1-c;else{if(o===u)return a?NaN:1/0*(h?-1:1);a+=Math.pow(2,n),o-=c}return(h?-1:1)*a*Math.pow(2,o-n)},t.write=function(e,t,r,n,i,o){var a,s,u,c=8*o-i-1,f=(1<<c)-1,l=f>>1,p=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,h=n?0:o-1,d=n?1:-1,g=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=f):(a=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-a))<1&&(a--,u*=2),(t+=a+l>=1?p/u:p*Math.pow(2,1-l))*u>=2&&(a++,u/=2),a+l>=f?(s=0,a=f):a+l>=1?(s=(t*u-1)*Math.pow(2,i),a+=l):(s=t*Math.pow(2,l-1)*Math.pow(2,i),a=0));i>=8;e[r+h]=255&s,h+=d,s/=256,i-=8);for(a=a<<i|s,c+=i;c>0;e[r+h]=255&a,h+=d,a/=256,c-=8);e[r+h-d]|=128*g}},function(e,t){var r={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==r.call(e)}},function(e,t,r){"use strict";e.exports=[r(53),r(58),r(34),r(35),r(26)(r(35)),r(39),r(26)(r(39)),r(40),r(65),r(26)(r(40)),r(66)]},function(e,t,r){"use strict";var n=r(14),i=r(9),o=r(5),a=r(8).EventEmitter,s=r(57),u=function(){};function c(e,t,r){if(!c.enabled())throw new Error("Transport created when disabled");a.call(this),u("constructor",e);var o=this,f=i.addPath(e,"/websocket");f="https"===f.slice(0,5)?"wss"+f.slice(5):"ws"+f.slice(4),this.url=f,this.ws=new s(this.url,[],r),this.ws.onmessage=function(e){u("message event",e.data),o.emit("message",e.data)},this.unloadRef=n.unloadAdd((function(){u("unload"),o.ws.close()})),this.ws.onclose=function(e){u("close event",e.code,e.reason),o.emit("close",e.code,e.reason),o._cleanup()},this.ws.onerror=function(e){u("error event",e),o.emit("close",1006,"WebSocket connection broken"),o._cleanup()}}o(c,a),c.prototype.send=function(e){var t="["+e+"]";u("send",t),this.ws.send(t)},c.prototype.close=function(){u("close");var e=this.ws;this._cleanup(),e&&e.close()},c.prototype._cleanup=function(){u("_cleanup");var e=this.ws;e&&(e.onmessage=e.onclose=e.onerror=null),n.unloadDel(this.unloadRef),this.unloadRef=this.ws=null,this.removeAllListeners()},c.enabled=function(){return u("enabled"),!!s},c.transportName="websocket",c.roundTrips=2,e.exports=c},function(e,t,r){"use strict";(function(t){t.crypto&&t.crypto.getRandomValues?e.exports.randomBytes=function(e){var r=new Uint8Array(e);return t.crypto.getRandomValues(r),r}:e.exports.randomBytes=function(e){for(var t=new Array(e),r=0;r<e;r++)t[r]=Math.floor(256*Math.random());return t}}).call(this,r(6))},function(e,t,r){"use strict";e.exports=function(e,t){if(t=t.split(":")[0],!(e=+e))return!1;switch(t){case"http":case"ws":return 80!==e;case"https":case"wss":return 443!==e;case"ftp":return 21!==e;case"gopher":return 70!==e;case"file":return!1}return 0!==e}},function(e,t,r){"use strict";var n,i=Object.prototype.hasOwnProperty;function o(e){try{return decodeURIComponent(e.replace(/\+/g," "))}catch(e){return null}}t.stringify=function(e,t){t=t||"";var r,o,a=[];for(o in"string"!=typeof t&&(t="?"),e)if(i.call(e,o)){if((r=e[o])||null!==r&&r!==n&&!isNaN(r)||(r=""),o=encodeURIComponent(o),r=encodeURIComponent(r),null===o||null===r)continue;a.push(o+"="+r)}return a.length?t+a.join("&"):""},t.parse=function(e){for(var t,r=/([^=?&]+)=?([^&]*)/g,n={};t=r.exec(e);){var i=o(t[1]),a=o(t[2]);null===i||null===a||i in n||(n[i]=a)}return n}},function(e,t,r){"use strict";(function(t){var r=t.WebSocket||t.MozWebSocket;e.exports=r?function(e){return new r(e)}:void 0}).call(this,r(6))},function(e,t,r){"use strict";(function(t){var n=r(5),i=r(16),o=r(22),a=r(23),s=r(18),u=r(19);function c(e){if(!s.enabled&&!a.enabled)throw new Error("Transport created when disabled");i.call(this,e,"/xhr_streaming",o,a)}n(c,i),c.enabled=function(e){return!e.nullOrigin&&(!u.isOpera()&&a.enabled)},c.transportName="xhr-streaming",c.roundTrips=2,c.needBody=!!t.document,e.exports=c}).call(this,r(6))},function(e,t,r){"use strict";var n=r(5),i=r(8).EventEmitter,o=function(){};function a(e,t){o(e),i.call(this),this.sendBuffer=[],this.sender=t,this.url=e}n(a,i),a.prototype.send=function(e){o("send",e),this.sendBuffer.push(e),this.sendStop||this.sendSchedule()},a.prototype.sendScheduleWait=function(){o("sendScheduleWait");var e,t=this;this.sendStop=function(){o("sendStop"),t.sendStop=null,clearTimeout(e)},e=setTimeout((function(){o("timeout"),t.sendStop=null,t.sendSchedule()}),25)},a.prototype.sendSchedule=function(){o("sendSchedule",this.sendBuffer.length);var e=this;if(this.sendBuffer.length>0){var t="["+this.sendBuffer.join(",")+"]";this.sendStop=this.sender(this.url,t,(function(t){e.sendStop=null,t?(o("error",t),e.emit("close",t.code||1006,"Sending error: "+t),e.close()):e.sendScheduleWait()})),this.sendBuffer=[]}},a.prototype._cleanup=function(){o("_cleanup"),this.removeAllListeners()},a.prototype.close=function(){o("close"),this._cleanup(),this.sendStop&&(this.sendStop(),this.sendStop=null)},e.exports=a},function(e,t,r){"use strict";var n=r(5),i=r(8).EventEmitter,o=function(){};function a(e,t,r){o(t),i.call(this),this.Receiver=e,this.receiveUrl=t,this.AjaxObject=r,this._scheduleReceiver()}n(a,i),a.prototype._scheduleReceiver=function(){o("_scheduleReceiver");var e=this,t=this.poll=new this.Receiver(this.receiveUrl,this.AjaxObject);t.on("message",(function(t){o("message",t),e.emit("message",t)})),t.once("close",(function(r,n){o("close",r,n,e.pollIsClosing),e.poll=t=null,e.pollIsClosing||("network"===n?e._scheduleReceiver():(e.emit("close",r||1006,n),e.removeAllListeners()))}))},a.prototype.abort=function(){o("abort"),this.removeAllListeners(),this.pollIsClosing=!0,this.poll&&this.poll.abort()},e.exports=a},function(e,t,r){"use strict";var n=r(5),i=r(8).EventEmitter,o=r(36),a=function(){};function s(e){a(e),i.call(this);var t=this,r=this.es=new o(e);r.onmessage=function(e){a("message",e.data),t.emit("message",decodeURI(e.data))},r.onerror=function(e){a("error",r.readyState,e);var n=2!==r.readyState?"network":"permanent";t._cleanup(),t._close(n)}}n(s,i),s.prototype.abort=function(){a("abort"),this._cleanup(),this._close("user")},s.prototype._cleanup=function(){a("cleanup");var e=this.es;e&&(e.onmessage=e.onerror=null,e.close(),this.es=null)},s.prototype._close=function(e){a("close",e);var t=this;setTimeout((function(){t.emit("close",null,e),t.removeAllListeners()}),200)},e.exports=s},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t){(function(t){e.exports=t}).call(this,{})},function(e,t,r){"use strict";(function(t){var n=r(5),i=r(20),o=r(9),a=r(8).EventEmitter,s=r(15),u=function(){};function c(e){u(e),a.call(this);var r=this;i.polluteGlobalNamespace(),this.id="a"+s.string(6),e=o.addQuery(e,"c="+decodeURIComponent(i.WPrefix+"."+this.id)),u("using htmlfile",c.htmlfileEnabled);var n=c.htmlfileEnabled?i.createHtmlfile:i.createIframe;t[i.WPrefix][this.id]={start:function(){u("start"),r.iframeObj.loaded()},message:function(e){u("message",e),r.emit("message",e)},stop:function(){u("stop"),r._cleanup(),r._close("network")}},this.iframeObj=n(e,(function(){u("callback"),r._cleanup(),r._close("permanent")}))}n(c,a),c.prototype.abort=function(){u("abort"),this._cleanup(),this._close("user")},c.prototype._cleanup=function(){u("_cleanup"),this.iframeObj&&(this.iframeObj.cleanup(),this.iframeObj=null),delete t[i.WPrefix][this.id]},c.prototype._close=function(e){u("_close",e),this.emit("close",null,e),this.removeAllListeners()},c.htmlfileEnabled=!1;var f=["Active"].concat("Object").join("X");if(f in t)try{c.htmlfileEnabled=!!new t[f]("htmlfile")}catch(e){}c.enabled=c.htmlfileEnabled||i.iframeEnabled,e.exports=c}).call(this,r(6))},function(e,t,r){"use strict";var n=r(5),i=r(16),o=r(34),a=r(22),s=r(25);function u(e){if(!s.enabled)throw new Error("Transport created when disabled");i.call(this,e,"/xhr",a,s)}n(u,i),u.enabled=o.enabled,u.transportName="xdr-polling",u.roundTrips=2,e.exports=u},function(e,t,r){"use strict";(function(t){var n=r(5),i=r(32),o=r(67),a=r(68);function s(e){if(!s.enabled())throw new Error("Transport created when disabled");i.call(this,e,"/jsonp",a,o)}n(s,i),s.enabled=function(){return!!t.document},s.transportName="jsonp-polling",s.roundTrips=1,s.needBody=!0,e.exports=s}).call(this,r(6))},function(e,t,r){"use strict";(function(t){var n=r(20),i=r(15),o=r(19),a=r(9),s=r(5),u=r(8).EventEmitter,c=function(){};function f(e){c(e);var r=this;u.call(this),n.polluteGlobalNamespace(),this.id="a"+i.string(6);var o=a.addQuery(e,"c="+encodeURIComponent(n.WPrefix+"."+this.id));t[n.WPrefix][this.id]=this._callback.bind(this),this._createScript(o),this.timeoutId=setTimeout((function(){c("timeout"),r._abort(new Error("JSONP script loaded abnormally (timeout)"))}),f.timeout)}s(f,u),f.prototype.abort=function(){if(c("abort"),t[n.WPrefix][this.id]){var e=new Error("JSONP user aborted read");e.code=1e3,this._abort(e)}},f.timeout=35e3,f.scriptErrorTimeout=1e3,f.prototype._callback=function(e){c("_callback",e),this._cleanup(),this.aborting||(e&&(c("message",e),this.emit("message",e)),this.emit("close",null,"network"),this.removeAllListeners())},f.prototype._abort=function(e){c("_abort",e),this._cleanup(),this.aborting=!0,this.emit("close",e.code,e.message),this.removeAllListeners()},f.prototype._cleanup=function(){if(c("_cleanup"),clearTimeout(this.timeoutId),this.script2&&(this.script2.parentNode.removeChild(this.script2),this.script2=null),this.script){var e=this.script;e.parentNode.removeChild(e),e.onreadystatechange=e.onerror=e.onload=e.onclick=null,this.script=null}delete t[n.WPrefix][this.id]},f.prototype._scriptError=function(){c("_scriptError");var e=this;this.errorTimer||(this.errorTimer=setTimeout((function(){e.loadedOkay||e._abort(new Error("JSONP script loaded abnormally (onerror)"))}),f.scriptErrorTimeout))},f.prototype._createScript=function(e){c("_createScript",e);var r,n=this,a=this.script=t.document.createElement("script");if(a.id="a"+i.string(8),a.src=e,a.type="text/javascript",a.charset="UTF-8",a.onerror=this._scriptError.bind(this),a.onload=function(){c("onload"),n._abort(new Error("JSONP script loaded abnormally (onload)"))},a.onreadystatechange=function(){if(c("onreadystatechange",a.readyState),/loaded|closed/.test(a.readyState)){if(a&&a.htmlFor&&a.onclick){n.loadedOkay=!0;try{a.onclick()}catch(e){}}a&&n._abort(new Error("JSONP script loaded abnormally (onreadystatechange)"))}},void 0===a.async&&t.document.attachEvent)if(o.isOpera())(r=this.script2=t.document.createElement("script")).text="try{var a = document.getElementById('"+a.id+"'); if(a)a.onerror();}catch(x){};",a.async=r.async=!1;else{try{a.htmlFor=a.id,a.event="onclick"}catch(e){}a.async=!0}void 0!==a.async&&(a.async=!0);var s=t.document.getElementsByTagName("head")[0];s.insertBefore(a,s.firstChild),r&&s.insertBefore(r,s.firstChild)},e.exports=f}).call(this,r(6))},function(e,t,r){"use strict";(function(t){var n,i,o=r(15),a=r(9),s=function(){};e.exports=function(e,r,u){s(e,r),n||(s("createForm"),(n=t.document.createElement("form")).style.display="none",n.style.position="absolute",n.method="POST",n.enctype="application/x-www-form-urlencoded",n.acceptCharset="UTF-8",(i=t.document.createElement("textarea")).name="d",n.appendChild(i),t.document.body.appendChild(n));var c="a"+o.string(8);n.target=c,n.action=a.addQuery(a.addPath(e,"/jsonp_send"),"i="+c);var f=function(e){s("createIframe",e);try{return t.document.createElement('<iframe name="'+e+'">')}catch(n){var r=t.document.createElement("iframe");return r.name=e,r}}(c);f.id=c,f.style.display="none",n.appendChild(f);try{i.value=r}catch(e){}n.submit();var l=function(e){s("completed",c,e),f.onerror&&(f.onreadystatechange=f.onerror=f.onload=null,setTimeout((function(){s("cleaning up",c),f.parentNode.removeChild(f),f=null}),500),i.value="",u(e))};return f.onerror=function(){s("onerror",c),l()},f.onload=function(){s("onload",c),l()},f.onreadystatechange=function(e){s("onreadystatechange",c,f.readyState,e),"complete"===f.readyState&&l()},function(){s("aborted",c),l(new Error("Aborted"))}}}).call(this,r(6))},function(e,t,r){"use strict";(function(t){r(70);var n,i=r(30),o=r(5),a=r(13),s=r(15),u=r(71),c=r(9),f=r(14),l=r(72),p=r(27),h=r(19),d=r(73),g=r(28),y=r(31),v=r(41),m=r(74),b=r(75),w=r(76),_=function(){};function P(e,t,r){if(!(this instanceof P))return new P(e,t,r);if(arguments.length<1)throw new TypeError("Failed to construct 'SockJS: 1 argument required, but only 0 present");y.call(this),this.readyState=P.CONNECTING,this.extensions="",this.protocol="",(r=r||{}).protocols_whitelist&&d.warn("'protocols_whitelist' is DEPRECATED. Use 'transports' instead."),this._transportsWhitelist=r.transports,this._transportOptions=r.transportOptions||{},this._timeout=r.timeout||0;var n=r.sessionId||8;if("function"==typeof n)this._generateSessionId=n;else{if("number"!=typeof n)throw new TypeError("If sessionId is used in the options, it needs to be a number or a function.");this._generateSessionId=function(){return s.string(n)}}this._server=r.server||s.numberString(1e3);var o=new i(e);if(!o.host||!o.protocol)throw new SyntaxError("The URL '"+e+"' is invalid");if(o.hash)throw new SyntaxError("The URL must not contain a fragment");if("http:"!==o.protocol&&"https:"!==o.protocol)throw new SyntaxError("The URL's scheme must be either 'http:' or 'https:'. '"+o.protocol+"' is not allowed.");var a="https:"===o.protocol;if("https:"===v.protocol&&!a)throw new Error("SecurityError: An insecure SockJS connection may not be initiated from a page loaded over HTTPS");t?Array.isArray(t)||(t=[t]):t=[];var u=t.sort();u.forEach((function(e,t){if(!e)throw new SyntaxError("The protocols entry '"+e+"' is invalid.");if(t<u.length-1&&e===u[t+1])throw new SyntaxError("The protocols entry '"+e+"' is duplicated.")}));var f=c.getOrigin(v.href);this._origin=f?f.toLowerCase():null,o.set("pathname",o.pathname.replace(/\/+$/,"")),this.url=o.href,_("using url",this.url),this._urlInfo={nullOrigin:!h.hasDomain(),sameOrigin:c.isOriginEqual(this.url,v.href),sameScheme:c.isSchemeEqual(this.url,v.href)},this._ir=new w(this.url,this._urlInfo),this._ir.once("finish",this._receiveInfo.bind(this))}function T(e){return 1e3===e||e>=3e3&&e<=4999}o(P,y),P.prototype.close=function(e,t){if(e&&!T(e))throw new Error("InvalidAccessError: Invalid code");if(t&&t.length>123)throw new SyntaxError("reason argument has an invalid length");if(this.readyState!==P.CLOSING&&this.readyState!==P.CLOSED){this._close(e||1e3,t||"Normal closure",!0)}},P.prototype.send=function(e){if("string"!=typeof e&&(e=""+e),this.readyState===P.CONNECTING)throw new Error("InvalidStateError: The connection has not been established yet");this.readyState===P.OPEN&&this._transport.send(u.quote(e))},P.version=r(38),P.CONNECTING=0,P.OPEN=1,P.CLOSING=2,P.CLOSED=3,P.prototype._receiveInfo=function(e,t){if(_("_receiveInfo",t),this._ir=null,e){this._rto=this.countRTO(t),this._transUrl=e.base_url?e.base_url:this.url,e=p.extend(e,this._urlInfo),_("info",e);var r=n.filterToEnabled(this._transportsWhitelist,e);this._transports=r.main,_(this._transports.length+" enabled transports"),this._connect()}else this._close(1002,"Cannot connect to server")},P.prototype._connect=function(){for(var e=this._transports.shift();e;e=this._transports.shift()){if(_("attempt",e.transportName),e.needBody&&(!t.document.body||void 0!==t.document.readyState&&"complete"!==t.document.readyState&&"interactive"!==t.document.readyState))return _("waiting for body"),this._transports.unshift(e),void f.attachEvent("load",this._connect.bind(this));var r=Math.max(this._timeout,this._rto*e.roundTrips||5e3);this._transportTimeoutId=setTimeout(this._transportTimeout.bind(this),r),_("using timeout",r);var n=c.addPath(this._transUrl,"/"+this._server+"/"+this._generateSessionId()),i=this._transportOptions[e.transportName];_("transport url",n);var o=new e(n,this._transUrl,i);return o.on("message",this._transportMessage.bind(this)),o.once("close",this._transportClose.bind(this)),o.transportName=e.transportName,void(this._transport=o)}this._close(2e3,"All transports failed",!1)},P.prototype._transportTimeout=function(){_("_transportTimeout"),this.readyState===P.CONNECTING&&(this._transport&&this._transport.close(),this._transportClose(2007,"Transport timed out"))},P.prototype._transportMessage=function(e){_("_transportMessage",e);var t,r=this,n=e.slice(0,1),i=e.slice(1);switch(n){case"o":return void this._open();case"h":return this.dispatchEvent(new g("heartbeat")),void _("heartbeat",this.transport)}if(i)try{t=a.parse(i)}catch(e){_("bad json",i)}if(void 0!==t)switch(n){case"a":Array.isArray(t)&&t.forEach((function(e){_("message",r.transport,e),r.dispatchEvent(new b(e))}));break;case"m":_("message",this.transport,t),this.dispatchEvent(new b(t));break;case"c":Array.isArray(t)&&2===t.length&&this._close(t[0],t[1],!0)}else _("empty payload",i)},P.prototype._transportClose=function(e,t){_("_transportClose",this.transport,e,t),this._transport&&(this._transport.removeAllListeners(),this._transport=null,this.transport=null),T(e)||2e3===e||this.readyState!==P.CONNECTING?this._close(e,t):this._connect()},P.prototype._open=function(){_("_open",this._transport&&this._transport.transportName,this.readyState),this.readyState===P.CONNECTING?(this._transportTimeoutId&&(clearTimeout(this._transportTimeoutId),this._transportTimeoutId=null),this.readyState=P.OPEN,this.transport=this._transport.transportName,this.dispatchEvent(new g("open")),_("connected",this.transport)):this._close(1006,"Server lost session")},P.prototype._close=function(e,t,r){_("_close",this.transport,e,t,r,this.readyState);var n=!1;if(this._ir&&(n=!0,this._ir.close(),this._ir=null),this._transport&&(this._transport.close(),this._transport=null,this.transport=null),this.readyState===P.CLOSED)throw new Error("InvalidStateError: SockJS has already been closed");this.readyState=P.CLOSING,setTimeout(function(){this.readyState=P.CLOSED,n&&this.dispatchEvent(new g("error"));var i=new m("close");i.wasClean=r||!1,i.code=e||1e3,i.reason=t,this.dispatchEvent(i),this.onmessage=this.onclose=this.onerror=null,_("disconnected")}.bind(this),0)},P.prototype.countRTO=function(e){return e>100?4*e:300+e},e.exports=function(e){return n=l(e),r(79)(P,e),P}}).call(this,r(6))},function(e,t,r){"use strict";var n,i=Array.prototype,o=Object.prototype,a=Function.prototype,s=String.prototype,u=i.slice,c=o.toString,f=function(e){return"[object Function]"===o.toString.call(e)},l=function(e){return"[object String]"===c.call(e)},p=Object.defineProperty&&function(){try{return Object.defineProperty({},"x",{}),!0}catch(e){return!1}}();n=p?function(e,t,r,n){!n&&t in e||Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:!0,value:r})}:function(e,t,r,n){!n&&t in e||(e[t]=r)};var h=function(e,t,r){for(var i in t)o.hasOwnProperty.call(t,i)&&n(e,i,t[i],r)},d=function(e){if(null==e)throw new TypeError("can't convert "+e+" to object");return Object(e)};function g(e){var t=+e;return t!=t?t=0:0!==t&&t!==1/0&&t!==-1/0&&(t=(t>0||-1)*Math.floor(Math.abs(t))),t}function y(){}h(a,{bind:function(e){var t=this;if(!f(t))throw new TypeError("Function.prototype.bind called on incompatible "+t);for(var r=u.call(arguments,1),n=function(){if(this instanceof s){var n=t.apply(this,r.concat(u.call(arguments)));return Object(n)===n?n:this}return t.apply(e,r.concat(u.call(arguments)))},i=Math.max(0,t.length-r.length),o=[],a=0;a<i;a++)o.push("$"+a);var s=Function("binder","return function ("+o.join(",")+"){ return binder.apply(this, arguments); }")(n);return t.prototype&&(y.prototype=t.prototype,s.prototype=new y,y.prototype=null),s}}),h(Array,{isArray:function(e){return"[object Array]"===c.call(e)}});var v,m,b,w=Object("a"),_="a"!==w[0]||!(0 in w);h(i,{forEach:function(e){var t=d(this),r=_&&l(this)?this.split(""):t,n=arguments[1],i=-1,o=r.length>>>0;if(!f(e))throw new TypeError;for(;++i<o;)i in r&&e.call(n,r[i],i,t)}},(v=i.forEach,m=!0,b=!0,v&&(v.call("foo",(function(e,t,r){"object"!=typeof r&&(m=!1)})),v.call([1],(function(){b="string"==typeof this}),"x")),!(v&&m&&b)));var P=Array.prototype.indexOf&&-1!==[0,1].indexOf(1,2);h(i,{indexOf:function(e){var t=_&&l(this)?this.split(""):d(this),r=t.length>>>0;if(!r)return-1;var n=0;for(arguments.length>1&&(n=g(arguments[1])),n=n>=0?n:Math.max(0,r+n);n<r;n++)if(n in t&&t[n]===e)return n;return-1}},P);var T,E=s.split;2!=="ab".split(/(?:ab)*/).length||4!==".".split(/(.?)(.?)/).length||"t"==="tesst".split(/(s)*/)[1]||4!=="test".split(/(?:)/,-1).length||"".split(/.?/).length||".".split(/()()/).length>1?(T=void 0===/()??/.exec("")[1],s.split=function(e,t){var r=this;if(void 0===e&&0===t)return[];if("[object RegExp]"!==c.call(e))return E.call(this,e,t);var n,o,a,s,u=[],f=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.extended?"x":"")+(e.sticky?"y":""),l=0;for(e=new RegExp(e.source,f+"g"),r+="",T||(n=new RegExp("^"+e.source+"$(?!\\s)",f)),t=void 0===t?-1>>>0:t>>>0;(o=e.exec(r))&&!((a=o.index+o[0].length)>l&&(u.push(r.slice(l,o.index)),!T&&o.length>1&&o[0].replace(n,(function(){for(var e=1;e<arguments.length-2;e++)void 0===arguments[e]&&(o[e]=void 0)})),o.length>1&&o.index<r.length&&i.push.apply(u,o.slice(1)),s=o[0].length,l=a,u.length>=t));)e.lastIndex===o.index&&e.lastIndex++;return l===r.length?!s&&e.test("")||u.push(""):u.push(r.slice(l)),u.length>t?u.slice(0,t):u}):"0".split(void 0,0).length&&(s.split=function(e,t){return void 0===e&&0===t?[]:E.call(this,e,t)});var O=s.substr,S="".substr&&"b"!=="0b".substr(-1);h(s,{substr:function(e,t){return O.call(this,e<0&&(e=this.length+e)<0?0:e,t)}},S)},function(e,t,r){"use strict";var n,i=r(13),o=/[\x00-\x1f\ud800-\udfff\ufffe\uffff\u0300-\u0333\u033d-\u0346\u034a-\u034c\u0350-\u0352\u0357-\u0358\u035c-\u0362\u0374\u037e\u0387\u0591-\u05af\u05c4\u0610-\u0617\u0653-\u0654\u0657-\u065b\u065d-\u065e\u06df-\u06e2\u06eb-\u06ec\u0730\u0732-\u0733\u0735-\u0736\u073a\u073d\u073f-\u0741\u0743\u0745\u0747\u07eb-\u07f1\u0951\u0958-\u095f\u09dc-\u09dd\u09df\u0a33\u0a36\u0a59-\u0a5b\u0a5e\u0b5c-\u0b5d\u0e38-\u0e39\u0f43\u0f4d\u0f52\u0f57\u0f5c\u0f69\u0f72-\u0f76\u0f78\u0f80-\u0f83\u0f93\u0f9d\u0fa2\u0fa7\u0fac\u0fb9\u1939-\u193a\u1a17\u1b6b\u1cda-\u1cdb\u1dc0-\u1dcf\u1dfc\u1dfe\u1f71\u1f73\u1f75\u1f77\u1f79\u1f7b\u1f7d\u1fbb\u1fbe\u1fc9\u1fcb\u1fd3\u1fdb\u1fe3\u1feb\u1fee-\u1fef\u1ff9\u1ffb\u1ffd\u2000-\u2001\u20d0-\u20d1\u20d4-\u20d7\u20e7-\u20e9\u2126\u212a-\u212b\u2329-\u232a\u2adc\u302b-\u302c\uaab2-\uaab3\uf900-\ufa0d\ufa10\ufa12\ufa15-\ufa1e\ufa20\ufa22\ufa25-\ufa26\ufa2a-\ufa2d\ufa30-\ufa6d\ufa70-\ufad9\ufb1d\ufb1f\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufb4e\ufff0-\uffff]/g;e.exports={quote:function(e){var t=i.stringify(e);return o.lastIndex=0,o.test(t)?(n||(n=function(e){var t,r={},n=[];for(t=0;t<65536;t++)n.push(String.fromCharCode(t));return e.lastIndex=0,n.join("").replace(e,(function(e){return r[e]="\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4),""})),e.lastIndex=0,r}(o)),t.replace(o,(function(e){return n[e]}))):t}}},function(e,t,r){"use strict";e.exports=function(e){return{filterToEnabled:function(t,r){var n={main:[],facade:[]};return t?"string"==typeof t&&(t=[t]):t=[],e.forEach((function(e){e&&("websocket"===e.transportName&&!1===r.websocket||(t.length&&-1===t.indexOf(e.transportName)?e.transportName:e.enabled(r)?(e.transportName,n.main.push(e),e.facadeTransport&&n.facade.push(e.facadeTransport)):e.transportName))})),n}}}},function(e,t,r){"use strict";(function(t){var r={};["log","debug","warn"].forEach((function(e){var n;try{n=t.console&&t.console[e]&&t.console[e].apply}catch(e){}r[e]=n?function(){return t.console[e].apply(t.console,arguments)}:"log"===e?function(){}:r.log})),e.exports=r}).call(this,r(6))},function(e,t,r){"use strict";var n=r(5),i=r(28);function o(){i.call(this),this.initEvent("close",!1,!1),this.wasClean=!1,this.code=0,this.reason=""}n(o,i),e.exports=o},function(e,t,r){"use strict";var n=r(5),i=r(28);function o(e){i.call(this),this.initEvent("message",!1,!1),this.data=e}n(o,i),e.exports=o},function(e,t,r){"use strict";var n=r(8).EventEmitter,i=r(5),o=r(9),a=r(25),s=r(23),u=r(18),c=r(77),f=r(78),l=r(43),p=function(){};function h(e,t){p(e);var r=this;n.call(this),setTimeout((function(){r.doXhr(e,t)}),0)}i(h,n),h._getReceiver=function(e,t,r){return r.sameOrigin?new l(t,u):s.enabled?new l(t,s):a.enabled&&r.sameScheme?new l(t,a):f.enabled()?new f(e,t):new l(t,c)},h.prototype.doXhr=function(e,t){var r=this,n=o.addPath(e,"/info");p("doXhr",n),this.xo=h._getReceiver(e,n,t),this.timeoutRef=setTimeout((function(){p("timeout"),r._cleanup(!1),r.emit("finish")}),h.timeout),this.xo.once("finish",(function(e,t){p("finish",e,t),r._cleanup(!0),r.emit("finish",e,t)}))},h.prototype._cleanup=function(e){p("_cleanup"),clearTimeout(this.timeoutRef),this.timeoutRef=null,!e&&this.xo&&this.xo.close(),this.xo=null},h.prototype.close=function(){p("close"),this.removeAllListeners(),this._cleanup(!1)},h.timeout=8e3,e.exports=h},function(e,t,r){"use strict";var n=r(8).EventEmitter;function i(){var e=this;n.call(this),this.to=setTimeout((function(){e.emit("finish",200,"{}")}),i.timeout)}r(5)(i,n),i.prototype.close=function(){clearTimeout(this.to)},i.timeout=2e3,e.exports=i},function(e,t,r){"use strict";(function(t){var n=r(8).EventEmitter,i=r(5),o=r(13),a=r(14),s=r(37),u=r(42),c=function(){};function f(e,r){var i=this;n.call(this);var f=function(){var t=i.ifr=new s(u.transportName,r,e);t.once("message",(function(e){if(e){var t;try{t=o.parse(e)}catch(t){return c("bad json",e),i.emit("finish"),void i.close()}var r=t[0],n=t[1];i.emit("finish",r,n)}i.close()})),t.once("close",(function(){i.emit("finish"),i.close()}))};t.document.body?f():a.attachEvent("load",f)}i(f,n),f.enabled=function(){return s.enabled()},f.prototype.close=function(){this.ifr&&this.ifr.close(),this.removeAllListeners(),this.ifr=null},e.exports=f}).call(this,r(6))},function(e,t,r){"use strict";var n=r(9),i=r(14),o=r(13),a=r(80),s=r(42),u=r(20),c=r(41);e.exports=function(e,t){var r,f={};t.forEach((function(e){e.facadeTransport&&(f[e.facadeTransport.transportName]=e.facadeTransport)})),f[s.transportName]=s,e.bootstrap_iframe=function(){var t;u.currentWindowId=c.hash.slice(1);i.attachEvent("message",(function(i){if(i.source===parent&&(void 0===r&&(r=i.origin),i.origin===r)){var s;try{s=o.parse(i.data)}catch(e){return void i.data}if(s.windowId===u.currentWindowId)switch(s.type){case"s":var l;try{l=o.parse(s.data)}catch(e){s.data;break}var p=l[0],h=l[1],d=l[2],g=l[3];if(p!==e.version)throw new Error('Incompatible SockJS! Main site uses: "'+p+'", the iframe: "'+e.version+'".');if(!n.isOriginEqual(d,c.href)||!n.isOriginEqual(g,c.href))throw new Error("Can't connect to different domain from within an iframe. ("+c.href+", "+d+", "+g+")");t=new a(new f[h](d,g));break;case"m":t._send(s.data);break;case"c":t&&t._close(),t=null}}})),u.postMessage("s")}}},function(e,t,r){"use strict";var n=r(13),i=r(20);function o(e){this._transport=e,e.on("message",this._transportMessage.bind(this)),e.on("close",this._transportClose.bind(this))}o.prototype._transportClose=function(e,t){i.postMessage("c",n.stringify([e,t]))},o.prototype._transportMessage=function(e){i.postMessage("t",e)},o.prototype._send=function(e){this._transport.send(e)},o.prototype._close=function(){this._transport.close(),this._transport.removeAllListeners()},e.exports=o},function(e,t,r){"use strict";r.r(t);var n={};r.r(n),r.d(n,"DateSerializer",(function(){return Y})),r.d(n,"dateSerializer",(function(){return q})),r.d(n,"DateTimeSerializer",(function(){return B})),r.d(n,"dateTimeSerializer",(function(){return V})),r.d(n,"TimeSerializer",(function(){return H})),r.d(n,"timeSerializer",(function(){return z})),r.d(n,"IntegerSerializer",(function(){return G})),r.d(n,"integerSerializer",(function(){return W})),r.d(n,"LongSerializer",(function(){return X})),r.d(n,"longSerializer",(function(){return Q})),r.d(n,"UnsignedIntegerSerializer",(function(){return J})),r.d(n,"unsignedIntegerSerializer",(function(){return K})),r.d(n,"UnsignedLongSerializer",(function(){return Z})),r.d(n,"unsignedLongSerializer",(function(){return ee})),r.d(n,"FloatSerializer",(function(){return te})),r.d(n,"floatSerializer",(function(){return re})),r.d(n,"BooleanSerializer",(function(){return ne})),r.d(n,"booleanSerializer",(function(){return ie})),r.d(n,"StringSerializer",(function(){return oe})),r.d(n,"stringSerializer",(function(){return ae}));var i={};r.r(i),r.d(i,"IllegalArgumentError",(function(){return T.a})),r.d(i,"AbstractError",(function(){return O.a})),r.d(i,"IDAlreadyInUseError",(function(){return S})),r.d(i,"IllegalActionError",(function(){return ni})),r.d(i,"IllegalStateError",(function(){return lr})),r.d(i,"InvalidJSONLDSyntaxError",(function(){return Te})),r.d(i,"NotImplementedError",(function(){return Ee}));var o={};r.r(o),r.d(o,"Errors",(function(){return pa})),r.d(o,"Header",(function(){return ha.a})),r.d(o,"HTTPMethod",(function(){return da.a})),r.d(o,"JSONParser",(function(){return Pe})),r.d(o,"RequestService",(function(){return Oe.a})),r.d(o,"RequestUtils",(function(){return Oe.b})),r.d(o,"Response",(function(){return ga.a})),r.d(o,"StatusCode",(function(){return So})),r.d(o,"StringParser",(function(){return Si}));var a={};r.r(a),r.d(a,"JSONLDConverter",(function(){return pe})),r.d(a,"JSONLDParser",(function(){return Re})),r.d(a,"JSONLDProcessor",(function(){return xe})),r.d(a,"_guessXSDType",(function(){return le}));var s={};r.r(s),r.d(s,"AddMemberAction",(function(){return Ci})),r.d(s,"Error",(function(){return $o})),r.d(s,"Map",(function(){return Yo})),r.d(s,"MapEntry",(function(){return qo})),r.d(s,"TransientDirectContainer",(function(){return et})),r.d(s,"DocumentMetadata",(function(){return ko})),r.d(s,"ErrorResponse",(function(){return Ce})),r.d(s,"RemoveMemberAction",(function(){return Di})),r.d(s,"ResponseMetadata",(function(){return Fi})),r.d(s,"ValidationError",(function(){return Vo})),r.d(s,"VolatileResource",(function(){return wi})),r.d(s,"DirectContainer",(function(){return ya}));var u={};r.r(u),r.d(u,"DeltaCreator",(function(){return Bi})),r.d(u,"LDPatchToken",(function(){return Ni})),r.d(u,"PrefixToken",(function(){return ki})),r.d(u,"AddToken",(function(){return Li})),r.d(u,"DeleteToken",(function(){return $i})),r.d(u,"UpdateListToken",(function(){return Ui})),r.d(u,"SliceToken",(function(){return Yi}));var c={};r.r(c),r.d(c,"ChildCreatedEvent",(function(){return Ho})),r.d(c,"DocumentCreatedEventDetails",(function(){return Go})),r.d(c,"DocumentDeletedEvent",(function(){return Wo})),r.d(c,"DocumentModifiedEvent",(function(){return Xo})),r.d(c,"Event",(function(){return Ne})),r.d(c,"EventMessage",(function(){return Do})),r.d(c,"MemberAddedEvent",(function(){return Qo})),r.d(c,"MemberAddedEventDetails",(function(){return Ko})),r.d(c,"MemberEventDetails",(function(){return Jo})),r.d(c,"MemberRemovedEvent",(function(){return Zo})),r.d(c,"MemberRemovedEventDetails",(function(){return ea})),r.d(c,"MessagingService",(function(){return Fo})),r.d(c,"_validateEventType",(function(){return pt})),r.d(c,"_parseURIPattern",(function(){return ht})),r.d(c,"_createDestination",(function(){return dt}));var f={};r.r(f),r.d(f,"RDFDocument",(function(){return Ie})),r.d(f,"RDFList",(function(){return L})),r.d(f,"Serializers",(function(){return n})),r.d(f,"RDFLiteral",(function(){return ue})),r.d(f,"RDFNode",(function(){return ce})),r.d(f,"URI",(function(){return E})),r.d(f,"RDFValue",(function(){return fe}));var l={};r.r(l),r.d(l,"ValidationReport",(function(){return na})),r.d(l,"ValidationResult",(function(){return oa}));var p={};r.r(p),r.d(p,"SPARQLService",(function(){return Ri})),r.d(p,"SPARQLBuilder",(function(){return xo})),r.d(p,"SPARQLRawResultsParser",(function(){return xi}));var h={};r.r(h),r.d(h,"PlatformMetadata",(function(){return ca})),r.d(h,"PlatformInstance",(function(){return sa}));var d={};r.r(d),r.d(d,"C",(function(){return je})),r.d(d,"LDP",(function(){return Ye})),r.d(d,"RDF",(function(){return va})),r.d(d,"SHACL",(function(){return ta})),r.d(d,"XSD",(function(){return se}));var g=r(1);function y(e){return-1!==e.indexOf(":")}function v(e){return-1!==e.indexOf("://")}function m(e){return!y(e)}function b(e){return/^_:/.test(e)}function w(e){return/^(?!_:)[^]*?:/.test(e)&&!v(e)}var _=r(0),P={hasPropertiesFrom:function(e,t){var r=Object.keys(e),n="$id"in t&&!r.some((function(e){return e.startsWith("$")}));return r.every((function(r){var i=n?"$"+r:r,o=Object.getOwnPropertyDescriptor(e,r);if(!o)return!1;var a=Object.getOwnPropertyDescriptor(t,i);return!!a&&(Object(_.isFunction)(o.value)?Object(_.isFunction)(a.value):!a.enumerable)}))},definePropertiesFrom:function(e,t){var r=Object.keys(e),n="$id"in t&&!r.some((function(e){return e.startsWith("$")}));return r.forEach((function(r){var i=n?"$"+r:r,o=Object.getOwnPropertyDescriptor(e,r),a={enumerable:!1,configurable:!0};Object(_.isFunction)(o.value)?(a.writable=!1,a.value=o.value):o.set?(a.get=o.get,a.set=o.set):(a.writable=!0,a.value=t.hasOwnProperty(i)?t[i]:o.get?o.get():o.value),Object.defineProperty(t,i,a)})),t},decorateMultiple:function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];return t.forEach((function(t){return t.decorate(e)})),e}},T=r(2),E={hasFragment:function(e){return-1!==e.indexOf("#")},hasQuery:function(e){return-1!==e.indexOf("?")},hasProtocol:function(e){return _.StringUtils.startsWith(e,"https://")||_.StringUtils.startsWith(e,"http://")},isAbsolute:function(e){return _.StringUtils.startsWith(e,"http://")||_.StringUtils.startsWith(e,"https://")||_.StringUtils.startsWith(e,"://")},isRelative:function(e){return!E.isAbsolute(e)},isBNodeID:function(e){return _.StringUtils.startsWith(e,"_:")},generateBNodeID:function(){return"_:"+_.UUIDUtils.generate()},isPrefixed:function(e){return!E.isAbsolute(e)&&!E.isBNodeID(e)&&_.StringUtils.contains(e,":")},isFragmentOf:function(e,t){if(!E.hasFragment(e))return!1;var r=E.getDocumentURI(e);return""===r||r===t},isBaseOf:function(e,t){if(e===t)return!0;if(""===e)return!0;if(E.isRelative(t)&&!E.isPrefixed(t))return!0;if(t.startsWith(e)){if(_.StringUtils.endsWith(e,"/")||_.StringUtils.endsWith(e,"#"))return!0;var r=t.substring(e.length);if(_.StringUtils.startsWith(r,"/")||_.StringUtils.startsWith(r,"#"))return!0}return!1},getRelativeURI:function(e,t){return e.startsWith(t)?e.substring(t.length):e},getDocumentURI:function(e){var t=e.split("#");if(t.length>2)throw new T.a("The URI provided has more than one # sign.");return t[0]},getFragment:function(e){var t=e.split("#");if(t.length<2)throw new T.a("The URI provided hasn't a # sign.");if(t.length>2)throw new T.a("The URI provided has more than one # sign.");return t[1]},getSlug:function(e){var t=e.split("#");if(2===t.length)return E.getSlug(t[1]);if(t.length>2)throw new T.a("Invalid URI: The uri contains two '#' symbols.");if(""===(e=t[0]))return e;if("/"===e)return"";var r=e.split("/");return""===r[r.length-1]?r[r.length-2]:r[r.length-1]},getParameters:function(e){var t=new Map;return E.hasQuery(e)?(e.replace(/^.*\?/,"").split("&").forEach((function(e){var r=e.replace(/\+/g," ").split("="),n=r.shift(),i=r.length>0?r.join("="):"";t.has(n)?t.set(n,(new Array).concat(t.get(n),i)):t.set(n,i)})),t):t},resolve:function(e,t){if(!e||E.isAbsolute(t)||E.isBNodeID(t)||E.isPrefixed(t))return t;var r=e.substr(0,e.indexOf("://")+3),n=e.substr(e.indexOf("://")+3,e.length-1);return-1===n.lastIndexOf("/")&&(n+="/"),_.StringUtils.startsWith(t,"?")||_.StringUtils.startsWith(t,"#")?(E.hasQuery(n)&&(n=n.substr(0,n.indexOf("?"))),!E.hasFragment(n)||_.StringUtils.startsWith(t,"?")&&!_.StringUtils.endsWith(n,"#")||(n=E.getDocumentURI(n))):(n=n.substr(0,n.lastIndexOf("/")+1),_.StringUtils.endsWith(n,"?")||_.StringUtils.endsWith(n,"#")||_.StringUtils.endsWith(n,"/")||(n+="/")),_.StringUtils.startsWith(t,"/")&&(t=t.substr(1,t.length)),r+n+t},removeProtocol:function(e){return E.hasProtocol(e)?e.substring(e.indexOf("://")+3):e},prefix:function(e,t,r){if(!Object(_.isString)(t))return function(e,t){var r=t.prefixes.entries();for(;;){var n=r.next();if(n.done)return e;var i=n.value,o=i[0],a=i[1];if(E.isAbsolute(a)&&e.startsWith(a))return E.prefix(e,o,a)}}(e,t);var n=t;return E.isPrefixed(e)||!e.startsWith(r)?e:n+":"+e.substring(r.length)}};var O=r(7),S=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return g.c(t,e),Object.defineProperty(t.prototype,"name",{get:function(){return"IDAlreadyInUseError"},enumerable:!0,configurable:!0}),t}(O.a),x={PROTOTYPE:{get $id(){return""}},isDecorated:function(e){return P.hasPropertiesFrom(x.PROTOTYPE,e)},decorate:function(e){return x.isDecorated(e)?e:P.definePropertiesFrom(x.PROTOTYPE,e)},is:function(e){return Object(_.isObject)(e)&&x.isDecorated(e)},create:function(e){var t=Object.assign({},e);return x.createFrom(t)},createFrom:function(e){return x.decorate(e)},areEqual:function(e,t){return e.$id===t.$id},getIDs:function(e){return e.map((function(e){return e.$id}))},getID:function(e){return Object(_.isObject)(e)?e.$id:e}},R=function(e,t){return P.hasPropertiesFrom(e,t)},j=function(e,t){return"$id"in t&&x.decorate(t),P.definePropertiesFrom(e,t)};function A(e){return"$id"in e?e.$__resourcesMap:e.__resourcesMap}function C(e){return"$id"in e?e.$registry:e.registry}function I(e,t){return"$id"in e?e.$_getLocalID(t):e._getLocalID(t)}function D(e,t){if(!this)return!1;try{return I(this,x.getID(e)),!0}catch(n){if(!0===t)return!1;var r=C(this);return D.call(r,e)}}function M(e,t){if(!this)return!1;if(D.call(this,e,!0)){var r=I(this,e);if(A(this).has(r))return!0}if(!0===t)return!1;var n=C(this);return M.call(n,e)}var F,N={PROTOTYPE:{registry:void 0,get __modelDecorator(){throw new T.a('Property "__modelDecorator" is required')},get __resourcesMap(){return new Map},inScope:D,hasPointer:M,getPointer:function e(t,r){var n=C(this);if(!D.call(this,t,!0)){if(!0===r||!n)throw new T.a('"'+t+'" is out of scope.');return e.call(n,t)}var i,o,a=I(this,t),s=A(this);return s.has(a)?s.get(a):!0!==r&&M.call(n,t)?e.call(n,t):(o={$id:t},"$id"in(i=this)?i.$_addPointer(o):i._addPointer(o))},getPointers:function e(t){var r=A(this),n=Array.from(r.values()),i=C(this);return!0!==t&&i?e.call(i).concat(n):n},removePointer:function e(t,r){if(!this)return!1;var n=x.getID(t);if(D.call(this,n,!0)){var i=I(this,n);if(A(this).delete(i))return!0}if(!0===r)return!1;var o=C(this);return e.call(o,t)},_addPointer:function(e){if(!e.$id)throw new T.a("The pointer $id cannot be empty.");var t=I(this,e.$id),r=A(this);if(r.has(t))throw new S('"'+e.$id+'" is already being used.');var n,i=(n=this,"$id"in n?n.$__modelDecorator:n.__modelDecorator).decorate(Object.assign(e,{$registry:this}));return r.set(t,i),i},_getLocalID:function(e){return e}},isDecorated:function(e){return R(N.PROTOTYPE,e)},decorate:function(e){return N.isDecorated(e)?e:j(N.PROTOTYPE,e)}};function k(e,t){return"$id"in e?e.$getPointer(t):e.getPointer(t)}!function(e){e[e.SET=0]="SET",e[e.LIST=1]="LIST",e[e.LANGUAGE=2]="LANGUAGE"}(F||(F={}));var L={is:function(e){return _.hasPropertyDefined(e,"@list")}};function $(e){var t=String(e);return 1===t.length&&(t="0"+t),t}var U="The value is not a number.",Y=function(){function e(){}return e.prototype.serialize=function(e){if(!_.isDate(e))throw new T.a("The value is not a Date object.");return e.getUTCFullYear()+"-"+$(e.getUTCMonth()+1)+"-"+$(e.getUTCDate())},e}(),q=new Y,B=function(){function e(){}return e.prototype.serialize=function(e){if(!_.isDate(e))throw new T.a("The value is not a Date object.");return e.toISOString()},e}(),V=new B,H=function(){function e(){}return e.prototype.serialize=function(e){if(!_.isDate(e))throw new T.a("The value is not a Date object.");return $(e.getUTCHours())+":"+$(e.getUTCMinutes())+":"+$(e.getUTCSeconds())+"."+String((e.getUTCMilliseconds()/1e3).toFixed(3)).slice(2,5)+"Z"},e}(),z=new H,G=function(){function e(){}return e.prototype.serialize=function(e){if(!_.isNumber(e))throw new T.a(U);return(~~e).toString()},e}(),W=new G,X=function(){function e(){}return e.prototype.serialize=function(e){if(!_.isNumber(e))throw new T.a(U);return e===Number.POSITIVE_INFINITY?"0":e===Number.NEGATIVE_INFINITY?"0":Number.isNaN(e)?"0":Math.trunc(e).toString()},e}(),Q=new X,J=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return g.c(t,e),t.prototype.serialize=function(t){var r=e.prototype.serialize.call(this,t);return r=_.StringUtils.startsWith(r,"-")?r.substring(1):r},t}(G),K=new J,Z=function(){function e(){}return e.prototype.serialize=function(e){if(!_.isNumber(e))throw new T.a(U);return e===Number.POSITIVE_INFINITY?"0":e===Number.NEGATIVE_INFINITY?"0":Number.isNaN(e)?"0":Math.trunc(Math.abs(e)).toString()},e}(),ee=new Z,te=function(){function e(){}return e.prototype.serialize=function(e){if(e===Number.POSITIVE_INFINITY)return"INF";if(e===Number.NEGATIVE_INFINITY)return"-INF";if(!_.isNumber(e))throw new T.a(U);return e.toString()},e}(),re=new te,ne=function(){function e(){}return e.prototype.serialize=function(e){return(!!e).toString()},e}(),ie=new ne,oe=function(){function e(){}return e.prototype.serialize=function(e){return String(e)},e}(),ae=new oe,se={namespace:"http://www.w3.org/2001/XMLSchema#",boolean:"http://www.w3.org/2001/XMLSchema#boolean",byte:"http://www.w3.org/2001/XMLSchema#byte",date:"http://www.w3.org/2001/XMLSchema#date",dateTime:"http://www.w3.org/2001/XMLSchema#dateTime",decimal:"http://www.w3.org/2001/XMLSchema#decimal",double:"http://www.w3.org/2001/XMLSchema#double",duration:"http://www.w3.org/2001/XMLSchema#duration",float:"http://www.w3.org/2001/XMLSchema#float",gDay:"http://www.w3.org/2001/XMLSchema#gDay",gMonth:"http://www.w3.org/2001/XMLSchema#gMonth",gMonthDay:"http://www.w3.org/2001/XMLSchema#gMonthDay",gYear:"http://www.w3.org/2001/XMLSchema#gYear",gYearMonth:"http://www.w3.org/2001/XMLSchema#gYearMonth",int:"http://www.w3.org/2001/XMLSchema#int",integer:"http://www.w3.org/2001/XMLSchema#integer",long:"http://www.w3.org/2001/XMLSchema#long",negativeInteger:"http://www.w3.org/2001/XMLSchema#negativeInteger",nonNegativeInteger:"http://www.w3.org/2001/XMLSchema#nonNegativeInteger",nonPositiveInteger:"http://www.w3.org/2001/XMLSchema#nonPositiveInteger",object:"http://www.w3.org/2001/XMLSchema#object",positiveInteger:"http://www.w3.org/2001/XMLSchema#positiveInteger",short:"http://www.w3.org/2001/XMLSchema#short",string:"http://www.w3.org/2001/XMLSchema#string",time:"http://www.w3.org/2001/XMLSchema#time",unsignedByte:"http://www.w3.org/2001/XMLSchema#unsignedByte",unsignedInt:"http://www.w3.org/2001/XMLSchema#unsignedInt",unsignedLong:"http://www.w3.org/2001/XMLSchema#unsignedLong",unsignedShort:"http://www.w3.org/2001/XMLSchema#unsignedShort"},ue={from:function(e){if(_.isNull(e))throw new T.a("Null cannot be converted into a Literal");if(!_.isDefined(e))throw new T.a("The value is undefined");var t;switch(!0){case _.isDate(e):t=se.dateTime,e=e.toISOString();break;case _.isNumber(e):t=_.isInteger(e)?se.integer:se.double;break;case _.isString(e):t=se.string;break;case _.isBoolean(e):t=se.boolean;break;default:t=se.object,e=JSON.stringify(e)}var r={"@value":e.toString()};return t&&(r["@type"]=t),r},parse:function(e,t){var r;if(_.isString(e))r=e;else{var n=e;if(!n)return null;if(!_.hasProperty(n,"@value"))return null;t="@type"in n?n["@type"]:null,r=n["@value"]}var i=r;switch(t){case se.date:case se.dateTime:i=new Date(r);break;case se.time:var o=r.match(/(\d+):(\d+):(\d+)\.(\d+)Z/);if(!o)throw new T.a("Invalid value for type "+se.time+".");(i=new Date).setUTCHours(parseFloat(o[1]),parseFloat(o[2]),parseFloat(o[3]),parseFloat(o[4]));break;case se.duration:break;case se.gDay:case se.gMonth:case se.gMonthDay:case se.gYear:case se.gYearMonth:break;case se.byte:case se.decimal:case se.int:case se.integer:case se.long:case se.negativeInteger:case se.nonNegativeInteger:case se.nonPositiveInteger:case se.positiveInteger:case se.short:case se.unsignedLong:case se.unsignedInt:case se.unsignedShort:case se.unsignedByte:case se.double:case se.float:i=parseFloat(r);break;case se.boolean:i=_.parseBoolean(r);break;case se.string:i=r;break;case se.object:i=JSON.parse(r)}return i},is:function(e){return _.hasProperty(e,"@value")&&_.isString(e["@value"])},hasType:function(e,t){return!e["@type"]&&t===se.string||e["@type"]===t}},ce={is:function(e){return _.hasProperty(e,"@id")&&_.isString(e["@id"])},create:function(e){return{"@id":e}},getID:function(e){return e["@id"]},getRelativeID:function(e){var t=ce.getID(e);return E.hasFragment(t)?E.getFragment(t):t},areEqual:function(e,t){return ce.getID(e)===ce.getID(t)},isFragment:function(e){var t=ce.getID(e);return E.hasFragment(t)||E.isBNodeID(t)},hasType:function(e,t){return-1!==ce.getTypes(e).indexOf(t)},getTypes:function(e){return"@type"in e?e["@type"]:[]},getList:function(e){if(Array.isArray(e))return e.find(L.is)},getPropertyLiterals:function(e,t){if(Array.isArray(e))return e.filter(ue.is).filter((function(e){return ue.hasType(e,t)})).map(ue.parse)},getPropertyLanguageMap:function(e){if(Array.isArray(e)){for(var t={},r=0,n=e;r<n.length;r++){var i=n[r];if(ue.is(i)&&ue.hasType(i,se.string)){var o=i["@language"];o&&(t[o]=ue.parse(i))}}return t}}},fe={parse:function(e,t){return Object(_.isString)(t)?t:ue.is(t)?ue.parse(t):ce.is(t)?k(e,t["@id"]):L.is(t)?t["@list"].map(fe.parse.bind(null,e)):null}};function le(e){return Object(_.isFunction)(e)?null:Object(_.isString)(e)?se.string:Object(_.isDate)(e)?se.dateTime:Object(_.isNumber)(e)?se.float:Object(_.isBoolean)(e)?se.boolean:null}var pe=function(){function e(t){this._literalSerializers=t?_.MapUtils.extend(new Map,t):e.getDefaultSerializers()}return Object.defineProperty(e.prototype,"literalSerializers",{get:function(){return this._literalSerializers},enumerable:!0,configurable:!0}),e.getDefaultSerializers=function(){var e=new Map;return e.set(se.date,q),e.set(se.dateTime,V),e.set(se.time,z),e.set(se.integer,W),e.set(se.int,W),e.set(se.unsignedInt,K),e.set(se.long,Q),e.set(se.unsignedLong,ee),e.set(se.float,re),e.set(se.double,re),e.set(se.boolean,ie),e.set(se.string,ae),e},e.prototype.compact=function(e,t,r,n,i){var o=n?t:null,a=n?r:t;if(n=n||r,!Array.isArray(e))return this.__compactSingle(e,o,a,n,i);for(var s=e,u=o||[],c=0,f=s.length;c<f;c++){var l=s[c],p=u[c]=u[c]?u[c]:{};this.__compactSingle(l,p,a,n,i)}return u},e.prototype.expand=function(e,t,r){if(!Array.isArray(e))return this.__expandSingle(e,t,r)},e.prototype.update=function(e,t,r,n,i){var o=this.compact(t,{},r,n,i);new Set(Object.getOwnPropertyNames(e).concat(Object.keys(o))).forEach((function(t){var n;if(!t.startsWith("$")&&!Object(_.isFunction)(e[t]))if(o.hasOwnProperty(t))if(Array.isArray(e[t])){var a=Array.isArray(o[t])?o[t]:[o[t]];e[t].length=0,(n=e[t]).push.apply(n,a)}else e[t]=o[t];else i&&!r.properties.has(t)||delete e[t]}))},e.prototype.__expandSingle=function(e,t,r){var n={};if(n["@id"]=e.$id?e.$id:"",e.types){var i=Array.isArray(e.types)?e.types:[e.types];i.length&&(n["@type"]=i.map((function(e){return t.resolveURI(e,{vocab:!0,base:!0})})))}for(var o=0,a=Object.keys(e);o<a.length;o++){var s=a[o];if("$id"!==s&&"types"!==s){var u=r.resolveURI(s,{vocab:!0});if(!E.isRelative(u)){var c=this.__expandProperty(s,e[s],r,t);null!==c&&(n[u]=c)}}}return n},e.prototype.__expandProperty=function(e,t,r,n){var i=r.properties.get(e),o=i?i.containerType:void 0;if(o===F.LANGUAGE)return this.__expandPropertyLanguageMap(t);t=Array.isArray(t)?t:[t],null===o&&(t=[t[0]]);var a=i?i.literal:null,s=(!0===a?this.__expandPropertyLiteral(t,i,r):!1===a?this.__expandPropertyPointer(t,r,n):this.__expandPropertyValue(t,r,n)).filter((function(e){return null!==e}));return s.length?o===F.LIST?[{"@list":s}]:s:null},e.prototype.__expandPropertyValue=function(e,t,r){var n=this;return e.map((function(e){return n.__expandValue(e,t,r)}))},e.prototype.__expandPropertyPointer=function(e,t,r){var n=this;return e.map((function(e){return n.__expandPointerValue(e,t,r)}))},e.prototype.__expandPropertyLiteral=function(e,t,r){var n=this,i=r.resolveURI(t.literalType,{vocab:!0,base:!0}),o=e.map((function(e){return n.__expandLiteralValue(e,i)}));return t.language&&o.forEach((function(e){return e["@language"]=t.language})),o},e.prototype.__expandPropertyLanguageMap=function(e){if(!Object(_.isObject)(e))return null;for(var t=[],r=0,n=Object.keys(e);r<n.length;r++){var i=n[r],o=this.literalSerializers.get(se.string).serialize(e[i]);t.push({"@value":o,"@type":se.string,"@language":i})}return t},e.prototype.__expandPointerValue=function(e,t,r){var n=Object(_.isString)(e),i=x.is(e)?e.$id:n?e:null;return i?{"@id":r.resolveURI(i,{vocab:n})}:null},e.prototype.__expandValue=function(e,t,r){return Array.isArray(e)?null:x.is(e)?this.__expandPointerValue(e,r,t):this.__expandLiteralValue(e,le(e))},e.prototype.__expandLiteralValue=function(e,t){return null===t?null:this.literalSerializers.has(t)?{"@value":this.literalSerializers.get(t).serialize(e),"@type":t}:null},e.prototype.__compactSingle=function(e,t,r,n,i){if(!e["@id"])throw new T.a("The expandedObject doesn't have an @id defined.");t.$id=e["@id"],t.types=e["@type"]?e["@type"]:[];for(var o=this.__getPropertyURINameMap(r),a=0,s=Object.keys(e);a<s.length;a++){var u=s[a];if("@id"!==u&&"@type"!==u){var c=e[u];if(Object(_._isExistingValue)(c)&&(o.has(u)||!i)){var f=o.has(u)?o.get(u):r.vocab?E.getRelativeURI(u,r.vocab):u,l=this.__getPropertyValue(f,c,r,n);null!=l&&(t[f]=l)}}}return t},e.prototype.__getPropertyContainerType=function(e){return 1!==e.length?F.SET:L.is(e[0])?F.LIST:null},e.prototype.__getPropertyValue=function(e,t,r,n){var i=r.properties.get(e),o=i?i.containerType:this.__getPropertyContainerType(t);if(o===F.LANGUAGE)return ce.getPropertyLanguageMap(t);if(o===F.LIST){var a=ce.getList(t);if(!a)return null;t=a["@list"]}var s=i?i.literal:null;!0===s&&i&&i.language&&(t=t.filter((function(e){return e["@language"]===i.language}))),null===o&&(t=[t[0]]);var u=!0===s?this.__compactPropertyLiteral(t,i,r):!1===s?this.__getPropertyPointers(t,n):this.__getProperties(t,n);if(!u)return null;var c=u.filter((function(e){return null!==e}));return c.length?null===o?c[0]:c:null},e.prototype.__getPropertyURINameMap=function(e){var t=new Map;return e.properties.forEach((function(r,n){var i=e.resolveURI(r.uri,{vocab:!0});t.set(i,n)})),t},e.prototype.__compactPropertyLiteral=function(e,t,r){var n=null===t.literalType?se.string:r.resolveURI(t.literalType,{vocab:!0,base:!0});return ce.getPropertyLiterals(e,n)},e.prototype.__getProperties=function(e,t){if(Array.isArray(e))return e.map(fe.parse.bind(null,t)).filter((function(e){return!Object(_.isNull)(e)}))},e.prototype.__getPropertyPointers=function(e,t){if(Array.isArray(e))return e.filter(ce.is).map(ce.getID).map(k.bind(null,t)).filter((function(e){return!Object(_.isNull)(e)}))},e}(),he=function(){this.uri=null,this.literal=null,this.literalType=null,this.pointerType=null,this.containerType=null},de=function(){function e(){}return e._resolveProperty=function(e,t,r){var n=t.uri,i=t.literalType,o=e.resolveURI(n,{vocab:!0}),a=e.resolveURI(i,{vocab:!0,base:!0});return o===n&&a===i||(r||(t=Object.assign(new he,t)),t.uri=o,t.literalType=a),t},e}(),ge=function(){function e(){this.base="",this.vocab=void 0,this.language=null,this.prefixes=new Map,this.properties=new Map}return e.prototype.resolveURI=function(e,t){if(void 0===t&&(t={}),null===e||E.isAbsolute(e)||E.isBNodeID(e))return e;var r=e.split(":"),n=r[0],i=r[1],o=void 0===i?"":i,a=this.prefixes.has(n)?this.prefixes.get(n):this.properties.has(n)?this.properties.get(n).uri:null;return null!==a&&a!==n?this.resolveURI(a+o,{vocab:!0}):o?e:t.vocab&&this.vocab?this.vocab+e:t.base?E.resolve(this.base,e):e},e.prototype.getProperty=function(e){if(this.properties.has(e))return de._resolveProperty(this,this.properties.get(e))},e}(),ye={PROTOTYPE:{get $registry(){throw new T.a('Property "$registry" is required.')}},isDecorated:function(e){return P.hasPropertiesFrom(ye.PROTOTYPE,e)},decorate:function(e){if(ye.isDecorated(e))return e;var t=P.decorateMultiple(e,x);return P.definePropertiesFrom(ye.PROTOTYPE,t)},create:function(e){var t=Object.assign({},e);return ye.createFrom(t)},createFrom:function(e){return ye.decorate(e)},is:function(e){return x.is(e)&&ye.isDecorated(e)}};function ve(e){if(e)return"context"in e&&e.context?e.context:ve("$id"in e?e.$registry:e.registry)}function me(e,t){if(E.isAbsolute(t))return t;var r=ve(e.$registry);return r?r.getObjectSchema().resolveURI(t,{vocab:!0}):t}var be,we={PROTOTYPE:{get types(){return[]},get $slug(){return E.isBNodeID(this.$id)?this.$id:E.getSlug(this.$id)},set $slug(e){},$addType:function(e){e=me(this,e),-1===this.types.indexOf(e)&&this.types.push(e)},$hasType:function(e){return e=me(this,e),-1!==this.types.indexOf(e)},$removeType:function(e){e=me(this,e);var t=this.types.indexOf(e);-1!==t&&this.types.splice(t,1)},toJSON:function(e){var t="object"==typeof e?e:ve(this.$registry),r=t?t.registry.getGeneralSchema():new ge,n=t&&t.registry?t.registry.getSchemaFor(this):r;return(t?t.jsonldConverter:new pe).expand(this,r,n)}},isDecorated:function(e){return Object(_.isObject)(e)&&P.hasPropertiesFrom(we.PROTOTYPE,e)},is:function(e){return x.is(e)&&we.isDecorated(e)},create:function(e){var t=Object.assign({},e);return we.createFrom(t)},createFrom:function(e){return we.decorate(e)},decorate:function(e){if(we.isDecorated(e))return e;e.hasOwnProperty("$registry")||(e.$registry=void 0);var t=P.decorateMultiple(e,ye);return P.definePropertiesFrom(we.PROTOTYPE,t)}},_e={PROTOTYPE:{_getLocalID:function(e){if(y(e)&&!E.hasProtocol(e))return e;throw new T.a('"'+e+'" is out of scope.')},_addPointer:function(e){return e.$id||(e.$id=E.generateBNodeID()),N.PROTOTYPE._addPointer.call(this,e)},toJSON:function(e){return this.getPointers(!0).map((function(t){return t.toJSON(e)}))}},is:function(e){return N.isDecorated(e)&&_e.isDecorated(e)},isDecorated:function(e){return P.hasPropertiesFrom(_e.PROTOTYPE,e)},create:function(e){var t=Object.assign({},e);return _e.createFrom(t)},createFrom:function(e){return _e.decorate(e)},decorate:function(e){if(_e.isDecorated(e))return e;var t=Object.assign(e,{__modelDecorator:we}),r=P.decorateMultiple(t,N);return P.definePropertiesFrom(_e.PROTOTYPE,r)},parseFreeNodes:function(e,t){var r=_e.createFrom({registry:e});return t.forEach((function(t){var n=e.getSchemaFor(t),i=r.getPointer(t["@id"],!0);e.context.jsonldConverter.compact(t,i,n,r)})),r}},Pe=function(){function e(){}return e.prototype.parse=function(e){return new Promise((function(t){return t(JSON.parse(e))}))},e}(),Te=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return g.c(t,e),Object.defineProperty(t.prototype,"name",{get:function(){return"InvalidJSONLDSyntaxError"},enumerable:!0,configurable:!0}),t}(O.a),Ee=function(e){function t(t){return void 0===t&&(t=""),e.call(this,t)||this}return g.c(t,e),Object.defineProperty(t.prototype,"name",{get:function(){return"NotImplementedError"},enumerable:!0,configurable:!0}),t}(O.a),Oe=r(3);!function(e){e[e.ID=0]="ID",e[e.VOCAB=1]="VOCAB"}(be||(be={}));var Se=function(){function e(){}return e.digestSchema=function(t){if(!Array.isArray(t))return e._digestSchema(t);var r=t.map((function(t){return e._digestSchema(t)}));return e._combineSchemas(r)},e.digestProperty=function(e,t,r){var n=new he;if("@id"in t){var i=t["@id"];if(E.isPrefixed(e))throw new T.a("A prefixed property cannot have assigned another URI.");if(!_.isString(i))throw new T.a("@id needs to point to a string");n.uri=i}else n.uri=e;if("@type"in t){var o=t["@type"];if(!_.isString(o))throw new T.a("@type needs to point to a string");"@id"===o||"@vocab"===o?(n.literal=!1,n.pointerType="@id"===o?be.ID:be.VOCAB):(E.isRelative(o)&&o in se&&(o=se[o]),n.literal=!0,n.literalType=o)}if("@language"in t){var a=t["@language"];if(null!==a&&!_.isString(a))throw new T.a("@language needs to point to a string or null.");n.literal=!0,n.language=a}if("@container"in t)switch(t["@container"]){case"@set":n.containerType=F.SET;break;case"@list":n.containerType=F.LIST;break;case"@language":if(_.isString(n.language))throw new T.a("@container cannot be set to @language when the property definition already contains an @language tag.");n.containerType=F.LANGUAGE;break;default:throw new T.a("@container needs to be equal to '@list', '@set', or '@language'")}return r?de._resolveProperty(r,n,!0):n},e.combineDigestedObjectSchemas=function(t){if(0===t.length)throw new T.a("At least one DigestedObjectSchema needs to be specified.");return t.unshift(new ge),e._combineSchemas(t)},e._digestSchema=function(t){for(var r=new ge,n=0,i=["@base","@vocab"];n<i.length;n++){if((a=i[n])in t){if(null!==(o=t[a])&&!_.isString(o))throw new T.a("The value of '"+a+"' must be a string or null.");if("@vocab"===a&&""===o||o&&!E.isAbsolute(o)&&!E.isBNodeID(o))throw new T.a("The value of '"+a+"' must be an absolute URI"+("@base"===a?" or an empty string":"")+".");r[a.substr(1)]=o}}if(r.base=r.base||"","@language"in t){var o;if(null!==(o=t["@language"])&&!_.isString(o))throw new Te("The value of '@language' must be a string or null.");r.language=o}for(var a in t)if(t.hasOwnProperty(a)&&"@reverse"!==a&&"@index"!==a&&"@base"!==a&&"@vocab"!==a&&"@language"!==a){var s=t[a];if(_.isString(s)){if(E.isPrefixed(a))throw new T.a("A prefixed property cannot be equal to another URI.");r.prefixes.set(a,s)}else{if(!s||!_.isObject(s))throw new T.a("ObjectSchema Properties can only have string values or object values.");var u=e.digestProperty(a,s);r.properties.set(a,u)}}return r},e._combineSchemas=function(e){var t=e[0];return e.slice(1).forEach((function(e){void 0!==e.vocab&&(t.vocab=e.vocab),""!==e.base&&(t.base=e.base),null!==e.language&&(t.language=e.language),_.MapUtils.extend(t.prefixes,e.prefixes),_.MapUtils.extend(t.properties,e.properties)})),t},e}(),xe=function(){function e(){}return e.expand=function(t){return e.__retrieveContexts(t,Object.create(null),"").then((function(){var r=e.__process(new ge,t);return _.isObject(r)&&"@graph"in r&&1===Object.keys(r).length?r=r["@graph"]:null===r&&(r=[]),_.isArray(r)||(r=[r]),r}))},e.__getTargetFromLinkHeader=function(e){for(var t=/\s*<([^>]*?)>\s*(?:;\s*(.*))?/,r=0,n=e.values;r<n.length;r++){var i=n[r].toString().match(t);if(i){for(var o=i[1],a=i[2],s=/(.*?)=(?:(?:"([^"]*?)")|([^"]*?))\s*(?:(?:;\s*)|$)/g,u={};i=s.exec(a);)u[i[1]]=void 0===i[2]?i[3]:i[2];if("http://www.w3.org/ns/json-ld#context"===u.rel)return o}}},e.__findContextURLs=function(t,r,n,i){void 0===i&&(i=!1);var o=Object.keys(r).length;if(_.isArray(t))for(var a=0,s=t;a<s.length;a++){var u=s[a];e.__findContextURLs(u,r,n)}else if(_.isPlainObject(t))for(var c in t)if("@context"===c){var f=t[c];if(_.isArray(f))for(var l=f,p=0,h=l.length;p<h;++p){var d=l[p];if(_.isString(d)){var g=d;g=E.resolve(n,g),i?_.isArray(r[g])?(l.splice.apply(l,[p,1].concat([].concat(r[g]))),p+=r[g].length-1,h=l.length):l[p]=r[g]:g in r||(r[g]=!0)}}else if(_.isString(f)){g=f;g=E.resolve(n,g),i?t[c]=r[g]:g in r||(r[g]=null)}}else e.__findContextURLs(t[c],r,n);return o<Object.keys(r).length},e.__retrieveContexts=function(t,r,n){if(Object.keys(r).length>10)return Promise.reject(new Te("Maximum number of @context URLs exceeded."));var i=Object.create(null);if(!e.__findContextURLs(t,i,n))return Promise.resolve();var o=[],a=function(t){if(t in r)return{value:Promise.reject(new Te("Cyclical @context URLs detected."))};var n={sendCredentialsOnCORS:!1};Oe.b.setAcceptHeader("application/ld+json, application/json",n);var a=Oe.a.get(t,n,new Pe).catch((function(e){return Promise.reject(new Te('Unable to resolve context from "'+t+'". Status code: '+e.status))}));o.push(function(t,n){return n.then((function(n){var o=n[0],a=n[1],s=_.ObjectUtils.clone(r);s[t]=!0;var u={"@context":{}},c=a.getHeader("Content-Type");if(c&&c.toString().includes("application/ld+json"))u["@context"]="@context"in o?o["@context"]:{};else{var f=void 0;(c=a.getHeader("Link"))&&(f=e.__getTargetFromLinkHeader(c)),f&&(u["@context"]=f)}return i[t]=u["@context"],e.__retrieveContexts(u,s,t)}))}(t,a))};for(var s in i){var u=a(s);if("object"==typeof u)return u.value}return Promise.all(o).then((function(){e.__findContextURLs(t,i,n,!0)}))},e.__isKeyword=function(e){if(!_.isString(e))return!1;switch(e){case"@base":case"@context":case"@container":case"@default":case"@embed":case"@explicit":case"@graph":case"@id":case"@index":case"@language":case"@list":case"@omitDefault":case"@preserve":case"@requireAll":case"@reverse":case"@set":case"@type":case"@value":case"@vocab":return!0;default:return!1}},e.__isValidType=function(e){if(_.isString(e))return!0;if(!_.isArray(e))return!1;for(var t=0,r=e;t<r.length;t++){var n=r[t];if(!_.isString(n))return!1}return!0},e.__expandURI=function(t,r,n){return e.__isKeyword(r)?r:t.resolveURI(r,n)},e.__expandLanguageMap=function(e){for(var t=[],r=0,n=Object.keys(e).sort();r<n.length;r++){var i=n[r],o=e[i];_.isArray(o)||(o=[o]);for(var a=0,s=o;a<s.length;a++){var u=s[a];if(null!==u){if(!_.isString(u))throw new Te("Language map values must be strings.");t.push({"@value":u,"@language":i.toLowerCase()})}}}return t},e.__getContainer=function(e,t){return t&&e.properties.has(t)?e.properties.get(t).containerType:null},e.__expandValue=function(t,r,n){if(null===r||!_.isDefined(r))return null;if("@id"===n)return e.__expandURI(t,r,{base:!0});if("@type"===n)return e.__expandURI(t,r,{vocab:!0,base:!0});var i=n&&t.properties.has(n)?t.properties.get(n):new he;if(!1===i.literal||"@graph"===n&&_.isString(r)){var o={base:!0};return i.pointerType===be.VOCAB&&(o.vocab=!0),{"@id":e.__expandURI(t,r,o)}}if(e.__isKeyword(n))return r;var a={};if(i.literalType)a["@type"]=t.resolveURI(i.literalType,{vocab:!0,base:!0});else if(_.isString(r)){var s=_.isDefined(i.language)?i.language:t.language;s&&(a["@language"]=s)}return-1===["boolean","number","string"].indexOf(typeof r)&&(r=r.toString()),a["@value"]=r,a},e.__process=function(t,r,n,i){if(null===r||!_.isDefined(r))return null;if(!_.isArray(r)&&!_.isObject(r))return i||null!==n&&"@graph"!==n?e.__expandValue(t,r,n):null;if(_.isArray(r)){var o=e.__getContainer(t,n);i=i||o===F.LIST;for(var a=[],s=0,u=r;s<u.length;s++){var c=u[s],f=e.__process(t,c,n);if(null!==f){if(i&&(_.isArray(f)||L.is(f)))throw new Te("Lists of lists are not permitted.");_.isArray(f)||(f=[f]),a.push.apply(a,f)}}return a}"@context"in r&&(t=Se.combineDigestedObjectSchemas([t,Se.digestSchema(r["@context"])]));for(var l={},p=0,h=Object.keys(r);p<h.length;p++){var d=h[p];if("@context"!==d){var g=e.__expandURI(t,d,{vocab:!0});if(g&&(E.isAbsolute(g)||E.isBNodeID(g)||e.__isKeyword(g))){var y=r[d];if(e.__isKeyword(g)){if("@id"===g&&!_.isString(y))throw new Te('"@id" value must a string.');if("@type"===g&&!e.__isValidType(y))throw new Te('"@type" value must a string, an array of strings.');if("@graph"===g&&!_.isObject(y)&&!_.isArray(y))throw new Te('"@graph" value must not be an object or an array.');if("@value"===g&&(_.isObject(y)||_.isArray(y)))throw new Te('"@value" value must not be an object or an array.');if("@language"===g){if(null===y)continue;if(!_.isString(y))throw new Te('"@language" value must be a string.');y=y.toLowerCase()}if("@index"===g&&!_.isString(y))throw new Te('"@index" value must be a string.');if("@reverse"===g&&!_.isObject(y))throw new Te('"@reverse" value must be an object.');if("@index"===g||"@reverse"===g)throw new Ee('The SDK does not support "@index" and "@reverse" tags.')}var v=void 0;if((o=e.__getContainer(t,d))===F.LANGUAGE&&_.isObject(y))v=e.__expandLanguageMap(y);else{var m=d,b="@list"===g;(b||"@set"===g)&&(m=n,b&&"@graph"===n&&(m=null)),v=e.__process(t,y,m,b)}if(null!==v||"@value"===g){"@list"===g||L.is(v)||o!==F.LIST||(_.isArray(v)||(v=[v]),v={"@list":v});var w=-1===["@type","@id","@value","@language"].indexOf(g);e.__addValue(l,g,v,{propertyIsArray:w})}}}}return"@value"in l?null===l["@value"]&&(l=null):"@type"in l?_.isArray(l["@type"])||(l["@type"]=[l["@type"]]):"@set"in l&&(l=l["@set"]),l},e.__addValue=function(t,r,n,i){if(_.isArray(n)){var o=n;0===o.length&&i.propertyIsArray&&!_.hasProperty(t,r)&&(t[r]=[]);for(var a=0,s=o;a<s.length;a++){var u=s[a];e.__addValue(t,r,u,i)}}else if(r in t){if(!e.__hasValue(t,r,n)){var c=t[r];_.isArray(c)||(c=t[r]=[c]),c.push(n)}}else t[r]=i.propertyIsArray?[n]:n},e.__hasProperty=function(e,t){if(t in e){var r=e[t];return!_.isArray(r)||r.length>0}return!1},e.__compareValues=function(e,t){if(e===t)return!0;if(_.isObject(e)&&_.isObject(t)){if("@value"in e&&e["@value"]===t["@value"]&&e["@type"]===t["@type"]&&e["@language"]===t["@language"]&&e["@index"]===t["@index"])return!0;if("@id"in e)return e["@id"]===t["@id"]}return!1},e.__hasValue=function(t,r,n){if(e.__hasProperty(t,r)){var i=t[r],o=L.is(i);if(o||_.isArray(i))for(var a=0,s=o?i["@list"]:i;a<s.length;a++){var u=s[a];if(e.__compareValues(u,n))return!0}else if(!_.isArray(n))return e.__compareValues(i,n)}return!1},e}(),Re=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return g.c(t,e),t.prototype.parse=function(t){return e.prototype.parse.call(this,t).then(xe.expand)},t}(Pe),je={namespace:"https://carbonldp.com/ns/v1/platform#",AccessPoint:"https://carbonldp.com/ns/v1/platform#AccessPoint",AddMemberAction:"https://carbonldp.com/ns/v1/platform#AddMemberAction",ChildCreatedEvent:"https://carbonldp.com/ns/v1/platform#ChildCreatedEvent",Document:"https://carbonldp.com/ns/v1/platform#Document",DocumentCreatedEventDetails:"https://carbonldp.com/ns/v1/platform#DocumentCreatedEventDetails",DocumentDeletedEvent:"https://carbonldp.com/ns/v1/platform#DocumentDeletedEvent",DocumentMetadata:"https://carbonldp.com/ns/v1/platform#DocumentMetadata",DocumentModifiedEvent:"https://carbonldp.com/ns/v1/platform#DocumentModifiedEvent",ErrorResponse:"https://carbonldp.com/ns/v1/platform#ErrorResponse",Error:"https://carbonldp.com/ns/v1/platform#Error",Instance:"https://carbonldp.com/ns/v1/platform#Instance",Map:"https://carbonldp.com/ns/v1/platform#Map",MemberAddedEvent:"https://carbonldp.com/ns/v1/platform#MemberAddedEvent",MemberAddedEventDetails:"https://carbonldp.com/ns/v1/platform#MemberAddedEventDetails",MemberRemovedEvent:"https://carbonldp.com/ns/v1/platform#MemberRemovedEvent",MemberRemovedEventDetails:"https://carbonldp.com/ns/v1/platform#MemberRemovedEventDetails",NonReadableMembershipResourceTriples:"https://carbonldp.com/ns/v1/platform#NonReadableMembershipResourceTriples",Platform:"https://carbonldp.com/ns/v1/platform#Platform",PlatformInstance:"https://carbonldp.com/ns/v1/platform#PlatformInstance",PreferContainer:"https://carbonldp.com/ns/v1/platform#PreferContainer",PreferContainmentResources:"https://carbonldp.com/ns/v1/platform#PreferContainmentResources",PreferContainmentTriples:"https://carbonldp.com/ns/v1/platform#PreferContainmentTriples",PreferDocumentChecksums:"https://carbonldp.com/ns/v1/platform#PreferDocumentChecksums",PreferMembershipResources:"https://carbonldp.com/ns/v1/platform#PreferMembershipResources",PreferMembershipTriples:"https://carbonldp.com/ns/v1/platform#PreferMembershipTriples",PreferResultsContexts:"https://carbonldp.com/ns/v1/platform#PreferResultsContexts",PreferSelectedMembershipTriples:"https://carbonldp.com/ns/v1/platform#PreferSelectedMembershipTriples",QueryMetadata:"https://carbonldp.com/ns/v1/platform#QueryMetadata",RemoveMemberAction:"https://carbonldp.com/ns/v1/platform#RemoveMemberAction",ResponseMetadata:"https://carbonldp.com/ns/v1/platform#ResponseMetadata",ValidationError:"https://carbonldp.com/ns/v1/platform#ValidationError",VolatileResource:"https://carbonldp.com/ns/v1/platform#VolatileResource",accessPoint:"https://carbonldp.com/ns/v1/platform#accessPoint",bNodesMap:"https://carbonldp.com/ns/v1/platform#bNodesMap",buildDate:"https://carbonldp.com/ns/v1/platform#buildDate",checksum:"https://carbonldp.com/ns/v1/platform#checksum",created:"https://carbonldp.com/ns/v1/platform#created",createdDocument:"https://carbonldp.com/ns/v1/platform#createdDocument",details:"https://carbonldp.com/ns/v1/platform#details",defaultInteractionModel:"https://carbonldp.com/ns/v1/platform#defaultInteractionModel",document:"https://carbonldp.com/ns/v1/platform#document",documentMetadata:"https://carbonldp.com/ns/v1/platform#documentMetadata",entry:"https://carbonldp.com/ns/v1/platform#entry",entryKey:"https://carbonldp.com/ns/v1/platform#entryKey",entryValue:"https://carbonldp.com/ns/v1/platform#entryValue",error:"https://carbonldp.com/ns/v1/platform#error",errorCode:"https://carbonldp.com/ns/v1/platform#errorCode",errorDetails:"https://carbonldp.com/ns/v1/platform#errorDetails",errorMessage:"https://carbonldp.com/ns/v1/platform#errorMessage",errorParameters:"https://carbonldp.com/ns/v1/platform#errorParameters",httpStatusCode:"https://carbonldp.com/ns/v1/platform#httpStatusCode",instance:"https://carbonldp.com/ns/v1/platform#instance",mediaType:"https://carbonldp.com/ns/v1/platform#mediaType",member:"https://carbonldp.com/ns/v1/platform#member",modified:"https://carbonldp.com/ns/v1/platform#modified",requestID:"https://carbonldp.com/ns/v1/platform#requestID",relatedDocument:"https://carbonldp.com/ns/v1/platform#relatedDocument",size:"https://carbonldp.com/ns/v1/platform#size",target:"https://carbonldp.com/ns/v1/platform#target",targetMember:"https://carbonldp.com/ns/v1/platform#targetMember",version:"https://carbonldp.com/ns/v1/platform#version"},Ae={errors:{"@id":je.error,"@type":"@id","@container":"@set"},requestID:{"@id":je.requestID,"@type":se.string},statusCode:{"@id":je.httpStatusCode,"@type":se.int}},Ce={TYPE:je.ErrorResponse,SCHEMA:Ae,is:function(e){return we.is(e)&&e.$hasType(Ce.TYPE)},getMessage:function(e){return e.errors.map((function(e){return e.errorMessage})).join(", ")}},Ie={is:function(e){return _.hasProperty(e,"@graph")&&_.isArray(e["@graph"])},create:function(e,t){return{"@id":t||"","@graph":e}},getDocuments:function(e){return _.isArray(e)?e.filter(Ie.is):Ie.is(e)?[e]:[]},getFreeNodes:function(e){return Array.isArray(e)?e.filter((function(e){return!Ie.is(e)})).filter(ce.is):[]},getResources:function(e){var t=Ie.getFreeNodes(e);return Ie.getDocuments(e).map((function(e){return e["@graph"]})).forEach((function(e){return t.push.apply(t,e)})),t},getDocumentResources:function(e){return Ie.getResources(e).filter((function(e){return!ce.isFragment(e)}))},getNamedFragmentResources:function(e,t){var r=_.isObject(t)?ce.getID(t):t;return Ie.getResources(e).filter((function(e){var t=ce.getID(e);if(E.hasFragment(t))return!r||E.getDocumentURI(t)===r}))},getBNodeResources:function(e){return Ie.getResources(e).filter((function(e){var t=ce.getID(e);return E.isBNodeID(t)}))},getNodes:function(e){for(var t=[],r=[],n=0,i=e["@graph"];n<i.length;n++){var o=i[n];(ce.isFragment(o)?r:t).push(o)}return[t,r]}};function De(e,t,r){return{_uri:Object(_.isString)(t)?E.resolve(e.$id,t):e.$id,_args:Object(_.isString)(t)?Array.prototype.slice.call(r,1):Array.from(r)}}function Me(e,t,r){return{_resource:x.is(t)?t:e,_args:x.is(t)?Array.prototype.slice.call(r,1):Array.from(r)}}function Fe(e){return function(t){return"response"in t&&t.response.data?(new Re).parse(t.response.data).then((function(r){var n=Ie.getFreeNodes(r),i=_e.parseFreeNodes(e,n).getPointers(!0).filter(Ce.is);if(0===i.length)return Promise.reject(t);var o=Object.assign(t,i[0]);return t.message=Ce.getMessage(o),Promise.reject(t)}),(function(){return Promise.reject(t)})):Promise.reject(t)}}var Ne,ke={PROTOTYPE:{get $repository(){throw new T.a('Property "$repository" is required.')},$eTag:void 0,$_resolved:!1,$isResolved:function(){return this.$_resolved},$_snapshot:{},$_syncSnapshot:function(){var e=_.ObjectUtils.clone(this,{arrays:!0});this.types&&(e.types=this.types.slice()),this.$_snapshot=e},$isDirty:function(){return!_.ObjectUtils.areEqual(this,this.$_snapshot,{arrays:!0})},$revert:function(){var e,t;e=this,t=this.$_snapshot,Object(_.isObject)(e)&&Object(_.isObject)(t)&&new Set(Object.keys(e).concat(Object.keys(t))).forEach((function(r){var n=Array.isArray(t[r])?t[r].slice():t[r];null!=n?Object(_.isFunction)(n)||(e[r]=n):delete e[r]})),this.types||(this.types=[])},$get:function(e){var t,r,n=De(this,e,arguments),i=n._uri,o=n._args;return"$id"in this.$repository?(t=this.$repository).$get.apply(t,[i].concat(o)):(r=this.$repository).get.apply(r,[i].concat(o))},$resolve:function(e){var t,r,n=Me(this,e,arguments),i=n._resource,o=n._args;return"$id"in this.$repository?(t=this.$repository).$resolve.apply(t,[i].concat(o)):(r=this.$repository).resolve.apply(r,[i].concat(o))},$exists:function(e){var t,r,n=De(this,e,arguments),i=n._uri,o=n._args;return"$id"in this.$repository?(t=this.$repository).$exists.apply(t,[i].concat(o)):(r=this.$repository).exists.apply(r,[i].concat(o))},$refresh:function(e){for(var t,r,n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];var o=Me(this,e,arguments),a=o._resource,s=o._args;return"$id"in this.$repository?(t=this.$repository).$refresh.apply(t,[a].concat(s)):(r=this.$repository).refresh.apply(r,[a].concat(s))},$save:function(e){for(var t,r,n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];var o=Me(this,e,arguments),a=o._resource,s=o._args;return"$id"in this.$repository?(t=this.$repository).$save.apply(t,[a].concat(s)):(r=this.$repository).save.apply(r,[a].concat(s))},$saveAndRefresh:function(e){for(var t,r,n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];var o=Me(this,e,arguments),a=o._resource,s=o._args;return"$id"in this.$repository?(t=this.$repository).$saveAndRefresh.apply(t,[a].concat(s)):(r=this.$repository).saveAndRefresh.apply(r,[a].concat(s))},$delete:function(e){for(var t,r,n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];var o=De(this,e,arguments),a=o._uri,s=o._args;return"$id"in this.$repository?(t=this.$repository).$delete.apply(t,[a].concat(s)):(r=this.$repository).delete.apply(r,[a].concat(s))}},isDecorated:function(e){return P.hasPropertiesFrom(ke.PROTOTYPE,e)},decorate:function(e){if(ke.isDecorated(e))return e;var t=P.decorateMultiple(e,x);return P.definePropertiesFrom(ke.PROTOTYPE,t)},is:function(e){return x.is(e)&&ke.isDecorated(e)}},Le={PROTOTYPE:{$_queryableMetadata:void 0,$isQueried:function(){return!!this.$_queryableMetadata}},isDecorated:function(e){return P.hasPropertiesFrom(Le.PROTOTYPE,e)},decorate:function(e){if(Le.isDecorated(e))return e;var t=P.decorateMultiple(e,ke);return P.definePropertiesFrom(Le.PROTOTYPE,t)},is:function(e){return ke.is(e)&&Le.isDecorated(e)}},$e={PROTOTYPE:{get $registry(){throw new T.a('Property "$registry" is required.')},get $slug(){return E.generateBNodeID()},get $id(){return E.isBNodeID(this.$slug)?this.$slug:this.$document.$id+"#"+this.$slug},set $id(e){E.isBNodeID(e)?this.$slug=e:this.$slug=E.getFragment(e)},get $document(){return this.$registry},set $document(e){this.$registry=e}},isDecorated:function(e){return we.isDecorated(e)},decorate:function(e){if($e.isDecorated(e))return e;var t=P.decorateMultiple(e,we);return t.$registry||delete t.$registry,t.$slug||delete t.$slug,P.definePropertiesFrom($e.PROTOTYPE,t)},is:function(e){return we.is(e)},create:function(e){var t=Object.assign({},e);return $e.createFrom(t)},createFrom:function(e){return $e.decorate(e)}},Ue={PROTOTYPE:{get $repository(){return this.$registry},set $repository(e){this.$registry=e},get $_resolved(){return this.$document.$_resolved},set $_resolved(e){}},isDecorated:function(e){return P.hasPropertiesFrom(Ue.PROTOTYPE,e)},decorate:function(e){if(Ue.isDecorated(e))return e;var t=Object.assign(e,{$document:e.$registry,$repository:e.$registry}),r=P.decorateMultiple(t,$e,Le);return P.definePropertiesFrom(Ue.PROTOTYPE,r)},create:$e.create,createFrom:$e.createFrom},Ye={namespace:"http://www.w3.org/ns/ldp#",Ascending:"http://www.w3.org/ns/ldp#Ascending",BasicContainer:"http://www.w3.org/ns/ldp#BasicContainer",Container:"http://www.w3.org/ns/ldp#Container",Descending:"http://www.w3.org/ns/ldp#Descending",DirectContainer:"http://www.w3.org/ns/ldp#DirectContainer",IndirectContainer:"http://www.w3.org/ns/ldp#IndirectContainer",RDFSource:"http://www.w3.org/ns/ldp#RDFSource",Resource:"http://www.w3.org/ns/ldp#Resource",MemberSubject:"http://www.w3.org/ns/ldp#MemberSubject",NonRDFSource:"http://www.w3.org/ns/ldp#NonRDFSource",Page:"http://www.w3.org/ns/ldp#Page",PageSortCriterion:"http://www.w3.org/ns/ldp#PageSortCriterion",PreferContainment:"http://www.w3.org/ns/ldp#PreferContainment",PreferEmptyContainer:"http://www.w3.org/ns/ldp#PreferEmptyContainer",PreferMembership:"http://www.w3.org/ns/ldp#PreferMembership",PreferMinimalContainer:"http://www.w3.org/ns/ldp#PreferMinimalContainer",constrainedBy:"http://www.w3.org/ns/ldp#constrainedBy",contains:"http://www.w3.org/ns/ldp#contains",hasMemberRelation:"http://www.w3.org/ns/ldp#hasMemberRelation",insertedContentRelation:"http://www.w3.org/ns/ldp#insertedContentRelation",isMemberOfRelation:"http://www.w3.org/ns/ldp#isMemberOfRelation",member:"http://www.w3.org/ns/ldp#member",membershipResource:"http://www.w3.org/ns/ldp#membershipResource",pageSequence:"http://www.w3.org/ns/ldp#pageSequence",pageSortCollation:"http://www.w3.org/ns/ldp#pageSortCollation",pageSortCriteria:"http://www.w3.org/ns/ldp#pageSortCriteria",pageSortOrder:"http://www.w3.org/ns/ldp#pageSortOrder"};function qe(e){return!m(e)||e.startsWith("#")?e:"#"+e}function Be(e){return"$id"in e?e.$id:"$slug"in e?E.hasFragment(e.$slug)?e.$slug:qe(e.$slug):E.generateBNodeID()}function Ve(e,t,r){void 0===r&&(r=new Set),Object.keys(t).map((function(e){return t[e]})).forEach((function(t){if(Array.isArray(t))return Ve(e,t,r);if(Object(_.isPlainObject)(t)&&!(He.is(t)||t._registry&&t._registry!==e)){var n=Be(t);if(!r.has(n)&&e.$inScope(n,!0)){var i=e.$hasPointer(n,!0)?e.$getPointer(n,!0):e.$createFragment(t,n);r.add(i.$id),Ve(e,i,r)}}}))}!function(e){e.CHILD_CREATED="child.created",e.DOCUMENT_MODIFIED="document.modified",e.DOCUMENT_DELETED="document.deleted",e.MEMBER_ADDED="member.added",e.MEMBER_REMOVED="member.removed"}(Ne||(Ne={}));var He={PROTOTYPE:{$registry:void 0,$_normalize:function(){var e=new Set;Ve(this,this,e),this.$getPointers(!0).map(x.getID).filter(E.isBNodeID).filter((function(t){return!e.has(t)})).forEach(this.$removePointer,this)},$_getLocalID:function(e){if(E.isBNodeID(e))return e;if(E.isFragmentOf(e,this.$id))return E.getFragment(e);throw new T.a('"'+e+'" is out of scope.')},$getPointer:function(e,t){return e=E.resolve(this.$id,e),N.PROTOTYPE.getPointer.call(this,e,t)},$hasFragment:function(e){if(e=qe(e),!this.$inScope(e,!0))return!1;var t=this.$_getLocalID(e);return this.$__resourcesMap.has(t)},$getFragment:function(e){e=qe(e);var t=this.$_getLocalID(e),r=this.$__resourcesMap.get(t);return r||null},$getFragments:function(){return this.$getPointers(!0)},$createFragment:function(e,t){var r=Object(_.isObject)(e)?e:{};Object(_.isString)(e)&&(t=e);var n=t?qe(t):Be(r),i=this.$_addPointer(Object.assign(r,{$id:n}));return Ve(this,i),i},$removeFragment:function(e){var t=qe(x.getID(e));return!!this.$inScope(t,!0)&&this.$removePointer(t)},toJSON:function(e){var t=[we.PROTOTYPE.toJSON.call(this,e)].concat(this.$getFragments().map((function(t){return t.toJSON(e)})));return{"@id":this.$id,"@graph":t}}},isDecorated:function(e){return P.hasPropertiesFrom(He.PROTOTYPE,e)},decorate:function(e){if(He.isDecorated(e))return e;var t=P.definePropertiesFrom({$__modelDecorator:$e},e),r=P.decorateMultiple(t,we,N);return P.definePropertiesFrom(He.PROTOTYPE,r)},is:function(e){return we.is(e)&&N.isDecorated(e)&&He.isDecorated(e)},createFrom:function(e){if(He.is(e))throw new T.a("The object provided is already a Document.");var t=He.decorate(e);return Ve(t,t),t},create:function(e){var t=Object.assign({},e);return He.createFrom(t)}};function ze(e,t,r,n){var i=Object(_.isString)(t)?E.resolve(e.$id,t):e.$id,o=Object(_.isFunction)(t)?t:r;return o!==r&&(n=r),{uriPattern:i,onEvent:o,onError:n}}var Ge={PROTOTYPE:{$on:function(e,t,r,n){var i=ze(this,t,r,n),o=i.uriPattern,a=i.onEvent,s=i.onError;return this.$repository.on(e,o,a,s)},$off:function(e,t,r,n){var i=ze(this,t,r,n),o=i.uriPattern,a=i.onEvent,s=i.onError;return this.$repository.off(e,o,a,s)},$one:function(e,t,r,n){var i=ze(this,t,r,n),o=i.uriPattern,a=i.onEvent,s=i.onError;return this.$repository.one(e,o,a,s)},$onChildCreated:function(e,t,r){return this.$on(Ne.CHILD_CREATED,e,t,r)},$onDocumentModified:function(e,t,r){return this.$on(Ne.DOCUMENT_MODIFIED,e,t,r)},$onDocumentDeleted:function(e,t,r){return this.$on(Ne.DOCUMENT_DELETED,e,t,r)},$onMemberAdded:function(e,t,r){return this.$on(Ne.MEMBER_ADDED,e,t,r)},$onMemberRemoved:function(e,t,r){return this.$on(Ne.MEMBER_REMOVED,e,t,r)}},isDecorated:function(e){return Object(_.isObject)(e)&&P.hasPropertiesFrom(Ge.PROTOTYPE,e)},decorate:function(e){if(Ge.isDecorated(e))return e;var t=P.decorateMultiple(e,He,ke);return P.definePropertiesFrom(Ge.PROTOTYPE,t)}};function We(e,t){var r=Array.from(t);return{uri:Object(_.isString)(r[0])&&Object(_.isString)(x.getID(r[1]))?E.resolve(e.$id,r.shift()):e.$id,params:r}}var Xe={PROTOTYPE:{$create:function(e,t,r,n){var i,o=De(this,e,arguments),a=o._uri,s=o._args;return(i=this.$repository).create.apply(i,[a].concat(s))},$createAndRetrieve:function(e,t,r,n){var i;void 0===n&&(n={});var o=De(this,e,arguments),a=o._uri,s=o._args;return(i=this.$repository).createAndRetrieve.apply(i,[a].concat(s))},$addMember:function(e,t,r){var n,i=We(this,arguments),o=i.uri,a=i.params;return(n=this.$repository).addMember.apply(n,[o].concat(a))},$addMembers:function(e,t,r){var n,i=De(this,e,arguments),o=i._uri,a=i._args;return(n=this.$repository).addMembers.apply(n,[o].concat(a))},$removeMember:function(e,t,r){var n,i=We(this,arguments),o=i.uri,a=i.params;return(n=this.$repository).removeMember.apply(n,[o].concat(a))},$removeMembers:function(e,t,r){var n,i=De(this,e,arguments),o=i._uri,a=i._args;return(n=this.$repository).removeMembers.apply(n,[o].concat(a))}},isDecorated:function(e){return Object(_.isObject)(e)&&P.hasPropertiesFrom(Xe.PROTOTYPE,e)},decorate:function(e){if(Xe.isDecorated(e))return e;var t=P.decorateMultiple(e,He,ke);return P.definePropertiesFrom(Xe.PROTOTYPE,t)}},Qe={PROTOTYPE:{$get:function(e){for(var t,r,n=this,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];if(!Array.isArray(e))return(t=ke.PROTOTYPE.$get).call.apply(t,[this,e].concat(i));var a=e.map((function(e){return E.resolve(n.$id,e)}));return(r=this.$repository).get.apply(r,[a].concat(i))},$getChildren:function(e,t,r){var n,i=De(this,e,arguments),o=i._uri,a=i._args;return(n=this.$repository).getChildren.apply(n,[o].concat(a))},$getMembers:function(e,t,r){var n,i=De(this,e,arguments),o=i._uri,a=i._args;return(n=this.$repository).getMembers.apply(n,[o].concat(a))},$listChildren:function(e,t){var r,n=De(this,e,arguments),i=n._uri,o=n._args;return(r=this.$repository).listChildren.apply(r,[i].concat(o))},$listMembers:function(e,t){var r,n=De(this,e,arguments),i=n._uri,o=n._args;return(r=this.$repository).listMembers.apply(r,[i].concat(o))}},isDecorated:function(e){return P.hasPropertiesFrom(Qe.PROTOTYPE,e)},decorate:function(e){if(Qe.isDecorated(e))return e;var t=P.decorateMultiple(e,Xe,Le);return P.definePropertiesFrom(Qe.PROTOTYPE,t)}};function Je(e,t,r,n){var i=e.$id,o=t;return Object(_.isObject)(r)?n=r:void 0!==r&&(o=r,i=E.resolve(e.$id,t)),{uri:i,query:o,options:n}}var Ke={PROTOTYPE:{$executeASKQuery:function(e,t,r){var n=Je(this,e,t,r),i=n.uri,o=n.query,a=n.options;return this.$repository.executeASKQuery(i,o,a)},$executeSELECTQuery:function(e,t,r){var n=Je(this,e,t,r),i=n.uri,o=n.query,a=n.options;return this.$repository.executeSELECTQuery(i,o,a)},$executeUPDATE:function(e,t,r){var n=Je(this,e,t,r),i=n.uri,o=n.query,a=n.options;return this.$repository.executeUPDATE(i,o,a)},$sparql:function(e){var t=e?E.resolve(this.$id,e):this.$id;return this.$repository.sparql(t)}},isDecorated:function(e){return Object(_.isObject)(e)&&P.hasPropertiesFrom(Ke.PROTOTYPE,e)},decorate:function(e){if(Ke.isDecorated(e))return e;var t=P.decorateMultiple(e,He,ke);return P.definePropertiesFrom(Ke.PROTOTYPE,t)}},Ze={TYPE:je.Document,SCHEMA:{contains:{"@id":Ye.contains,"@container":"@set","@type":"@id"},members:{"@id":Ye.member,"@container":"@set","@type":"@id"},membershipResource:{"@id":Ye.membershipResource,"@type":"@id"},isMemberOfRelation:{"@id":Ye.isMemberOfRelation,"@type":"@id"},hasMemberRelation:{"@id":Ye.hasMemberRelation,"@type":"@id"},insertedContentRelation:{"@id":Ye.insertedContentRelation,"@type":"@id"},created:{"@id":je.created,"@type":se.dateTime},modified:{"@id":je.modified,"@type":se.dateTime},defaultInteractionModel:{"@id":je.defaultInteractionModel,"@type":"@id"},accessPoints:{"@id":je.accessPoint,"@type":"@id","@container":"@set"}},PROTOTYPE:{get $__savedFragments(){return[]},$_syncSavedFragments:function(){this.$__savedFragments=Array.from(this.$__resourcesMap.values()),this.$__savedFragments.forEach((function(e){return e.$_syncSnapshot()}))},$_syncSnapshot:function(){ke.PROTOTYPE.$_syncSnapshot.call(this),this.$_syncSavedFragments()},$isDirty:function(){var e=this;return!!ke.PROTOTYPE.$isDirty.call(this)||(!!this.$__savedFragments.some((function(t){return!e.$hasFragment(t.$id)}))||(!(this.$__savedFragments.length===this.$__resourcesMap.size)||this.$__savedFragments.some((function(e){return e.$isDirty()}))))},$revert:function(){var e=this;ke.PROTOTYPE.$revert.call(this),this.$__resourcesMap.clear(),this.$__savedFragments.forEach((function(t){t.$revert(),e.$__resourcesMap.set(t.$slug,t)}))}},isDecorated:function(e){return Object(_.isObject)(e)&&P.hasPropertiesFrom(Ze.PROTOTYPE,e)},is:function(e){return He.is(e)&&Ke.isDecorated(e)&&Ge.isDecorated(e)&&Qe.isDecorated(e)&&Ze.isDecorated(e)},decorate:function(e){if(Ze.isDecorated(e))return e;var t=Object.assign(e,{$__modelDecorator:Ue}),r=P.decorateMultiple(t,Ke,Ge,Qe);return P.definePropertiesFrom(Ze.PROTOTYPE,r)},create:He.create,createFrom:He.createFrom},et={TYPE:Ye.DirectContainer,is:function(e){return He.is(e)&&e.$hasType(et.TYPE)&&e.hasOwnProperty("hasMemberRelation")},create:function(e){var t=Object.assign({},e);return et.createFrom(t)},createFrom:function(e){if(et.is(e))throw new T.a("The base object is already a DirectContainer.");if(!e.hasMemberRelation)throw new T.a("The property hasMemberRelation is required.");var t=He.is(e)?e:He.createFrom(e);return t.$addType(et.TYPE),t}},tt={TYPE:je.AccessPoint,is:function(e){return et.is(e)},create:function(e){var t=Object.assign({},e);return tt.createFrom(t)},createFrom:function(e){var t=et.createFrom(e);return t.$addType(tt.TYPE),t}},rt={TYPE:tt.TYPE,is:function(e){return tt.is(e)&&Ze.is(e)},create:tt.create,createFrom:tt.createFrom},nt=function(e){return"TYPE"in e&&"SCHEMA"in e},it=function(){function e(e){this._parentContext=e,this._typeObjectSchemaMap=new Map,this.jsonldConverter=new pe(e&&e.jsonldConverter.literalSerializers)}return Object.defineProperty(e.prototype,"baseURI",{get:function(){return this._baseURI},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"parentContext",{get:function(){return this._parentContext},enumerable:!0,configurable:!0}),e.prototype.resolve=function(e){return E.resolve(this.baseURI,e)},e.prototype.hasObjectSchema=function(e){return e=this.__resolveTypeURI(e),!!this._typeObjectSchemaMap.has(e)||!!this.parentContext&&this.parentContext.hasObjectSchema(e)},e.prototype.getObjectSchema=function(e){if(e){if(e=this.__resolveTypeURI(e),this._typeObjectSchemaMap.has(e))return this._typeObjectSchemaMap.get(e);if(this.parentContext&&this.parentContext.hasObjectSchema(e))return this.parentContext.getObjectSchema(e);throw new T.a('"'+e+"\" hasn't an object schema.")}var t=this._generalObjectSchema?Se.combineDigestedObjectSchemas([this._generalObjectSchema]):this.parentContext?this.parentContext.getObjectSchema():new ge;return void 0===t.vocab&&this._settings&&this._settings.vocabulary&&(t.vocab=this.resolve(this._settings.vocabulary)),t.base||(t.base=this.baseURI),t},e.prototype.extendObjectSchema=function(e,t){if(Object(_.isString)(e)){if(!t)throw new T.a("An object schema is required.");return this.__extendTypeSchema(t,e)}return nt(e)?this.__extendTypeSchema(e.SCHEMA,e.TYPE):Array.isArray(e)?(e.forEach(this.extendObjectSchema,this),this):this.__extendGeneralSchema(e)},e.prototype.clearObjectSchema=function(e){void 0===e?this._generalObjectSchema=this.parentContext?void 0:new ge:(e=this.__resolveTypeURI(e),this._typeObjectSchemaMap.delete(e))},e.prototype._getTypeObjectSchemas=function(e){void 0===e&&(e=[]);var t=new Set(e);return this.__getObjectSchemasTypes().filter((function(e){return!t.has(e)})).map(this.getObjectSchema,this)},e.prototype.__getObjectSchemasTypes=function(){var e=[];if(this._typeObjectSchemaMap.forEach((function(t,r){return e.push(r)})),!this._parentContext)return e;for(var t=this._parentContext.__getObjectSchemasTypes(),r=0,n=e;r<n.length;r++){var i=n[r];-1===t.indexOf(i)&&t.push(i)}return t},e.prototype.__extendGeneralSchema=function(e){var t=this.__getInheritGeneralSchema();return this._generalObjectSchema=Se._combineSchemas([t,Se.digestSchema(e)]),this},e.prototype.__extendTypeSchema=function(e,t){t=this.__resolveTypeURI(t);var r=this.__getInheritTypeSchema(t),n=Se.combineDigestedObjectSchemas([r,Se.digestSchema(e)]);return this._typeObjectSchemaMap.set(t,n),this},e.prototype.__getInheritGeneralSchema=function(){return this._generalObjectSchema?this._generalObjectSchema:this.parentContext?this.parentContext.getObjectSchema():new ge},e.prototype.__getInheritTypeSchema=function(e){return this._typeObjectSchemaMap.has(e)?this._typeObjectSchemaMap.get(e):this.parentContext&&this.parentContext.hasObjectSchema(e)?this.parentContext.getObjectSchema(e):new ge},e.prototype.__resolveTypeURI=function(e){return this.getObjectSchema().resolveURI(e,{vocab:!0})},e}();function ot(e,t,r){if(!e)return new ge;void 0===r||E.hasFragment(r)||E.isBNodeID(r)||-1!==t.indexOf(je.Document)||(t=t.concat(je.Document));var n=t.filter((function(t){return e.hasObjectSchema(t)})).map((function(t){return e.getObjectSchema(t)}));return Se._combineSchemas([e.getObjectSchema()].concat(n))}var at={PROTOTYPE:{context:void 0,getGeneralSchema:function(){return this.context?this.context.getObjectSchema():new ge},hasSchemaFor:function(e,t){return!t},getSchemaFor:function(e){return"types"in e||"$id"in e?ot(this.context,(t=e).types||[],t.$id):function(e,t){return ot(e,ce.getTypes(t),t["@id"])}(this.context,e);var t}},isDecorated:function(e){return P.hasPropertiesFrom(at.PROTOTYPE,e)},decorate:function(e){return P.definePropertiesFrom(at.PROTOTYPE,e)}},st={PROTOTYPE:{get context(){throw new T.a("Property context is required.")},get registry(){if(this.context&&this.context.parentContext)return this.context.parentContext.registry},set registry(e){},get __modelDecorators(){return new Map},addDecorator:function(e){if(!e.TYPE)throw new T.a("No TYPE specified in the model decorator.");return this.__modelDecorators.set(e.TYPE,e),this},decorate:function(e){var t=this;e.types&&e.types.filter((function(e){return t.__modelDecorators.has(e)})).map((function(e){return t.__modelDecorators.get(e)})).forEach((function(t){return t.decorate(e)}))},_addPointer:function(e){this.context.repository&&Object.assign(e,{$repository:this.context.repository});var t=N.PROTOTYPE._addPointer.call(this,e);return t.$id=this.context.getObjectSchema().resolveURI(t.$id,{base:!0}),t},_getLocalID:function(e){var t=this.context.getObjectSchema().resolveURI(e,{base:!0});if(!E.isAbsolute(t)||!E.isBaseOf(this.context.baseURI,t))throw new T.a('"'+t+'" is out of scope.');return E.getRelativeURI(t,this.context.baseURI)}},isDecorated:function(e){return P.hasPropertiesFrom(st.PROTOTYPE,e)},decorate:function(e){if(st.isDecorated(e))return e;var t=P.decorateMultiple(e,N,at);return t.context||delete t.context,P.definePropertiesFrom(st.PROTOTYPE,t)},create:function(e){return st.createFrom(g.a({},e))},createFrom:function(e){var t=st.decorate(e);return t.registry&&_.MapUtils.extend(t.__modelDecorators,t.registry.__modelDecorators),t}},ut={PROTOTYPE:{register:function(e){return this.getPointer(e,!0)},_getLocalID:function(e){if(E.hasFragment(e))throw new T.a('"'+e+'" is out of scope.');return st.PROTOTYPE._getLocalID.call(this,e)}},isDecorated:function(e){return P.hasPropertiesFrom(ut.PROTOTYPE,e)},decorate:function(e){if(ut.isDecorated(e))return e;var t=Object.assign(e,{__modelDecorator:Ze}),r=P.decorateMultiple(t,st);return P.definePropertiesFrom(ut.PROTOTYPE,r)},create:function(e){return ut.createFrom(g.a({},e))},createFrom:function(e){var t=ut.decorate(e);return st.createFrom(t)}};function ct(){return Promise.reject(new Ee("Must be implemented for a specific repository implementation."))}var ft={PROTOTYPE:{get:ct,resolve:ct,exists:ct,refresh:ct,save:ct,saveAndRefresh:ct,delete:ct},isDecorated:function(e){return P.hasPropertiesFrom(ft.PROTOTYPE,e)},decorate:function(e){if(!ft.isDecorated(e))return P.definePropertiesFrom(ft.PROTOTYPE,e)}},lt={PROTOTYPE:{get context(){throw new T.a('Property "context" is required.')}},isDecorated:function(e){return P.hasPropertiesFrom(lt.PROTOTYPE,e)},decorate:function(e){if(lt.isDecorated(e))return e;var t=P.decorateMultiple(e,ft);return P.definePropertiesFrom(lt.PROTOTYPE,t)},create:function(e){return lt.createFrom(g.a({},e))},createFrom:function(e){return lt.decorate(e)}};function pt(e){if(!/(access-point|child|\*)\.(created|\*)|(document|\*)\.(modified|deleted|\*)|(member|\*)\.(added|removed|\*)/.test(e))throw new T.a('Provided event type "'+e+'" is invalid.')}function ht(e,t){if(!E.isBaseOf(t,e))throw new T.a('"'+e+'" is out of scope.');return"/"===e?"":(e=(e=E.getRelativeURI(e,t)).substring(+e.startsWith("/"),e.length-+e.endsWith("/"))).split("/").map((function(e){return"**"===e?"#":encodeURIComponent(e).replace(/\./g,"^")})).join(".")}function dt(e,t,r){return pt(e),"/topic/"+e+((t=ht(t,r))?"."+t:t)}var gt={PROTOTYPE:{on:function(e,t,r,n){try{var i=dt(e,t,this.context.baseURI);this.context.messaging.subscribe(i,r,n)}catch(e){if(!n)throw e;n(e)}},off:function(e,t,r,n){try{var i=dt(e,t,this.context.baseURI);this.context.messaging.unsubscribe(i,r)}catch(e){if(!n)throw e;n(e)}},one:function(e,t,r,n){var i=this;try{var o=dt(e,t,this.context.baseURI),a=function(e){r(e),i.context.messaging.unsubscribe(o,a)};this.context.messaging.subscribe(o,a,n)}catch(e){if(!n)throw e;n(e)}},onChildCreated:function(e,t,r){return this.on(Ne.CHILD_CREATED,e,t,r)},onDocumentModified:function(e,t,r){return this.on(Ne.DOCUMENT_MODIFIED,e,t,r)},onDocumentDeleted:function(e,t,r){return this.on(Ne.DOCUMENT_DELETED,e,t,r)},onMemberAdded:function(e,t,r){return this.on(Ne.MEMBER_ADDED,e,t,r)},onMemberRemoved:function(e,t,r){return this.on(Ne.MEMBER_REMOVED,e,t,r)}},isDecorated:function(e){return Object(_.isObject)(e)&&P.hasPropertiesFrom(gt.PROTOTYPE,e)},decorate:function(e){if(gt.isDecorated(e))return e;var t=P.decorateMultiple(e,lt);return P.definePropertiesFrom(gt.PROTOTYPE,t)}},yt=function(){function e(e){this.token="base",this.iri=e}return e.prototype.toString=function(){return"BASE "+this.iri},e}(),vt=function(){function e(e,t){this.token="bind",this.expression=e,this.variable=t}return e.prototype.toString=function(e){return"BIND("+this.expression+" AS "+this.variable+")"},e}(),mt=4;function bt(e){return void 0===e?" ":"\n"}function wt(e,t){return void 0===e?"":(t&&(e+=t)," ".repeat(e))}function _t(e,t){return void 0===e?e:e+t}function Pt(e){var t=e.spaces,r=e.tags,n=e.tokensSeparator,i=e.tokens;if(!i.length)return r.open+r.close;var o=bt(t),a=_t(t,mt),s=i.map((function(e,t,r){var i=e.toString(a);return n&&t!==r.length-1?"."===n&&"subject"!==e.token?i:i+n:i}));if(1===s.length&&!s[0].includes("\n"))return r.open+" "+s+" "+r.close;var u=wt(a),c=s.map((function(e){return u+e})).join(o),f=wt(t);return r.open+o+c+o+f+r.close}var Tt=function(){function e(){this.token="blankNodeProperty",this.properties=[]}return e.prototype.addProperty=function(e){return this.properties.push(e),this},e.prototype.toString=function(e){return Pt({spaces:e,tags:{open:"[",close:"]"},tokensSeparator:";",tokens:this.properties})},e}(),Et=/^_:[A-Za-z0-9_]([A-Za-z0-9_\-.]*[A-Za-z0-9_\-])?$/,Ot=function(){function e(e){if(this.token="blankNode",e){if(!Et.test(e))throw new Error("Invalid blank node label.");this.label=e}}return e.prototype.toString=function(e){return this.label?this.label:"[]"},e}(),St=function(){function e(){this.token="collection",this.objects=[]}return e.prototype.addObject=function(){for(var e,t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return(e=this.objects).push.apply(e,t),this},e.prototype.toString=function(e){return Pt({spaces:e,tags:{open:"(",close:")"},tokens:this.objects})},e}(),xt=function(){function e(){this.token="groupPattern",this.patterns=[]}return e.prototype.addPattern=function(){for(var e,t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return(e=this.patterns).push.apply(e,t),this},e.prototype.toString=function(e){return Pt({spaces:e,tags:{open:"{",close:"}"},tokensSeparator:".",tokens:this.patterns})},e}(),Rt=function(){function e(){this.token="where",this.groupPattern=new xt}return e.prototype.toString=function(e){return(void 0===e?"":"WHERE ")+this.groupPattern.toString(e)},e}(),jt=function(){function e(){this.where=new Rt,this.modifiers=[]}return e.prototype.addPattern=function(){for(var e,t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return(e=this.where.groupPattern.patterns).push.apply(e,t),this},e.prototype.addModifier=function(){for(var e,t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return(e=this.modifiers).push.apply(e,t),this},e}(),At=function(e){function t(){var t=e.call(this)||this;return t.token="construct",t.triples=[],t}return g.c(t,e),t.prototype.addTriple=function(){for(var e,t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return(e=this.triples).push.apply(e,t),this},t.prototype.toString=function(e){var t=Pt({spaces:e,tags:{open:"{",close:"}"},tokensSeparator:".",tokens:this.triples}),r=bt(e),n="CONSTRUCT "+t+r+this.where.toString(e);return this.modifiers.length&&(n+=r+this.modifiers.join(r)),n},t}(jt),Ct=function(){function e(e){this.token="filter",this.constraint=e}return e.prototype.toString=function(e){return"FILTER( "+this.constraint+" )"},e}(),It=function(){function e(e,t){void 0===t&&(t=!1),this.token="from",this.source=e,this.named=t}return e.prototype.toString=function(e){var t="FROM ";return this.named&&(t+="NAMED "),t+this.source},e}(),Dt=function(){function e(e){this.token="graph",this.graph=e,this.groupPattern=new xt}return e.prototype.addPattern=function(){for(var e,t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return(e=this.groupPattern.patterns).push.apply(e,t),this},e.prototype.toString=function(e){return"GRAPH "+this.graph+" "+this.groupPattern.toString(e)},e}(),Mt=function(){function e(e){this.token="group",this.rawCondition=e}return e.prototype.toString=function(e){return"GROUP BY "+this.rawCondition},e}(),Ft=function(){function e(e){this.token="having",this.rawCondition=e}return e.prototype.toString=function(e){return"HAVING "+this.rawCondition},e}(),Nt=function(){function e(e){this.token="iri",this.value=e}return e.prototype.toString=function(e){return"<"+this.value+">"},e}(),kt=/^[a-zA-Z]+(-[a-zA-Z0-9]+)*$/,Lt=function(){function e(e){if(this.token="language",!kt.test(e))throw new Error('"'+e+'" is an invalid language tag.');this.tag=e}return e.prototype.toString=function(e){return"@"+this.tag},e}(),$t=function(){function e(e){this.token="limit",this.value=e}return e.prototype.toString=function(){return"LIMIT "+this.value},e}(),Ut=function(){function e(e){this.token="literal",this.value=e}return e.prototype.toString=function(e){return JSON.stringify(this.value)},e}(),Yt=function(){function e(){this.token="minusPattern",this.groupPattern=new xt}return e.prototype.toString=function(e){return"MINUS "+this.groupPattern.toString(e)},e}(),qt=function(){function e(e){this.token="offset",this.value=e}return e.prototype.toString=function(e){return"OFFSET "+this.value},e}(),Bt=function(){function e(){this.token="optional",this.groupPattern=new xt}return e.prototype.addPattern=function(){for(var e,t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return(e=this.groupPattern.patterns).push.apply(e,t),this},e.prototype.toString=function(e){return"OPTIONAL "+this.groupPattern.toString(e)},e}(),Vt=function(){function e(e,t){this.token="order",this.condition=e,t&&(this.flow=t)}return e.prototype.toString=function(e){return"ORDER BY "+(this.flow?this.flow+"( "+this.condition+" )":""+this.condition)},e}(),Ht=function(){function e(){this.token="pathAlternative",this.paths=[]}return e.prototype.addPath=function(e){return this.paths.push(e),this},e.prototype.toString=function(){return this.paths.join("|")},e}(),zt=function(){function e(e){this.token="pathInverse",this.path=e}return e.prototype.toString=function(){return"^"+this.path},e}(),Gt=function(){function e(e,t){this.token="pathMod",this.path=e,this.mod=t}return e.prototype.toString=function(){return""+this.path+this.mod},e}(),Wt=function(){function e(e){this.token="pathNegated",this.path=e}return e.prototype.toString=function(){return"!"+this.path},e}(),Xt=function(){function e(){this.token="pathSequence",this.paths=[]}return e.prototype.addPath=function(e){return this.paths.push(e),this},e.prototype.toString=function(){return this.paths.join("/")},e}(),Qt=/^([A-Za-z](([A-Za-z_\-0-9]|\.)*[A-Za-z_\-0-9])?)?$/,Jt=function(){function e(e,t){var r;this.token="prefixedName";var n=e;if(void 0===t){if(!w(e))throw new Error("Invalid prefixed name.");n=(r=e.split(/:(.*)/))[0],t=r[1]}if(!Qt.test(n))throw new Error("Invalid prefixed namespace.");this.namespace=n;var i=t.split(/^(.)(?:(.*)?(.))?$/),o=i[1],a=i[2],s=i[3],u="";o&&(u+=o.replace(/([\-.])/g,"\\$1")),a&&(u+=a),s&&(u+=s.replace(/([.])/g,"\\$1")),this.localName=u.replace(/([~!$&'|()*+,;=/?#@%])/g,"\\$1")}return e.prototype.toString=function(e){return this.namespace+":"+this.localName},e}(),Kt=function(){function e(e,t){this.token="prefix",this.namespace=e,this.iri=t}return e.prototype.toString=function(e){return"PREFIX "+this.namespace+": "+this.iri},e}(),Zt=function(){function e(e){this.token="property",this.verb=e,this.objects=[]}return e.prototype.addObject=function(){for(var e,t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return(e=this.objects).push.apply(e,t),this},e.prototype.toString=function(e){var t=bt(e),r=""+this.verb,n=_t(e,r.length+1),i=wt(n);return r+" "+this.objects.map((function(t){return"collection"===t.token||"blankNodeProperty"===t.token?t.toString(e):t.toString(n)})).join(","+t+i)},e}(),er=function(){function e(e,t){this.token="query",this.prologues=[],this.queryClause=e,this.values=t}return e.prototype.addPrologues=function(){for(var e,t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return(e=this.prologues).push.apply(e,t),this},e.prototype.toString=function(e){var t=bt(e),r=this.prologues.map((function(e){return"base"===e.token?e+"\n":e+t})).join("");return this.queryClause&&(r+=this.queryClause.toString(e)),this.values&&(r+=t+this.values.toString(e)),r},e}(),tr=function(e){function t(t,r){var n=e.call(this,t)||this;return r?("language"===r.token?n.language=r:n.type=r,n):n}return g.c(t,e),t.prototype.toString=function(t){var r=e.prototype.toString.call(this);return this.language?r+this.language:this.type?r+"^^"+this.type:r},t}(Ut),rr=function(e){function t(t){var r=e.call(this)||this;return r.modifier=t,r.variables=[],r}return g.c(t,e),t.prototype.addVariable=function(){for(var e,t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return(e=this.variables).push.apply(e,t),this},t.prototype.toString=function(e){var t="SELECT";return this.modifier&&(t+=" "+this.modifier),t+=this.variables.length?" "+this.variables.join(" "):" *"},t}(jt),nr=function(e){function t(t){var r=e.call(this,t)||this;return r.token="select",r.datasets=[],r}return g.c(t,e),t.prototype.toString=function(t){var r=e.prototype.toString.call(this,t),n=bt(t);return this.datasets.length&&(r+=n+this.datasets.join(n)),r+=n+this.where.toString(t),this.modifiers.length&&(r+=n+this.modifiers.join(n)),r},t}(rr),ir=function(){function e(e,t){this.token="servicePattern",this.modifier=t,this.resource=e,this.groupPattern=new xt}return e.prototype.toString=function(e){var t="SERVICE ";return this.modifier&&(t+="SILENT "),t+=this.resource+" "+this.groupPattern.toString(e)},e}(),or=function(){function e(e){this.token="subject",this.subject=e,this.properties=[]}return e.prototype.addProperty=function(e){return this.properties.push(e),this},e.prototype.toString=function(e){var t=this.subject.toString(e),r=this.properties.length?"collection"!==this.subject.token&&"blankNodeProperty"!==this.subject.token||!t.includes("\n")?" ":"\n":"",n=_t(e," "===r?t.length+1:mt),i=wt(n);return"\n"===r&&(r+=i),t+r+this.properties.map((function(e){return e.toString(n)})).join(";"+bt(e)+i)},e}(),ar=function(e){function t(t,r){var n=e.call(this,t)||this;return n.token="subSelect",n.values=r,n}return g.c(t,e),t.prototype.toString=function(t){var r=_t(t,mt),n=wt(r),i=bt(t),o=e.prototype.toString.call(this,t)+i+n+this.where.toString(r);this.modifiers.length&&(o+=i+this.modifiers.map((function(e){return n+e})).join(i)),this.values&&(o+=i+n+this.values);var a=wt(t);return"{"+i+n+o+i+a+"}"},t}(rr),sr=function(){function e(){this.token="unionPattern",this.groupPatterns=[]}return e.prototype.toString=function(e){return this.groupPatterns.map((function(t){return t.toString(e)})).join(" UNION ")},e}(),ur=function(){function e(){this.token="values",this.variables=[],this.values=[]}return e.prototype.addVariables=function(){for(var e,t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return(e=this.variables).push.apply(e,t),this},e.prototype.addValues=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return this.values.push(e),this},e.prototype.toString=function(e){return"VALUES "+this._getVariablesStr()+" "+this._getValuesStr(e)},e.prototype._getVariablesStr=function(){if(!this.variables.length)return"()";var e=this.variables.join(" ");return 1===this.variables.length?e:"( "+e+" )"},e.prototype._getValuesStr=function(e){if(!this.values.length)return"{}";if(1===this.variables.length){var t=this.values.filter((function(e){return e.length})).map((function(e){return e[0]})).join(" ");return t?"{ "+t+" }":"{}"}var r=wt(e,mt),n=bt(e),i=wt(e);return"{"+n+this.values.map((function(e){var t=e.length?"( "+e.join(" ")+" )":"()";return r+t})).join(n)+n+i+"}"},e}(),cr=/^((?:[0-9A-Z_a-z\xC0-\xD6\xD8-\xF6\xF8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF]))((?:[0-9A-Z_a-z\xB7\xC0-\xD6\xD8-\xF6\xF8-\u037D\u037F-\u1FFF\u200C\u200D\u203F\u2040\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF]))*$/,fr=function(){function e(e){if(this.token="variable",!cr.test(e))throw new Error("Invalid variable name");this.name=e}return e.prototype.toString=function(e){return"?"+this.name},e}(),lr=function(e){function t(t){return void 0===t&&(t=""),e.call(this,t)||this}return g.c(t,e),Object.defineProperty(t.prototype,"name",{get:function(){return"IllegalStateError"},enumerable:!0,configurable:!0}),t}(O.a),pr=function e(t){var r=this.constructor;this.iriResolver=t.iriResolver,this.targetToken=t.targetToken,r===e&&Object.freeze(this)},hr={createFrom:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t,r){return e.reduce((function(e,r){return r(t,e)}),r)}}},dr=function(){function e(t,r){var n=this.constructor;this.prefixes=t?new Map(t.prefixes.entries()):new Map,this.vocab=r||t&&t.vocab,n===e&&Object.freeze(this)}return e.prototype.resolve=function(e,t){return w(e)?this.resolvePrefixed(e):this.resolveIRIRef(e,t)},e.prototype.resolveIRIRef=function(e,t){return void 0===t&&(t=!1),t&&this.vocab&&m(e)&&(e=this.vocab+e),new Nt(e)},e.prototype.resolvePrefixed=function(e){var t=new Jt(e),r=this.prefixes.get(t.namespace);if(void 0===r)throw new Error('The prefix "'+t.namespace+'" has not been declared.');return r||this.prefixes.set(t.namespace,!0),t},e}(),gr=function(e){function t(r){var n=this.constructor,i=e.call(this,r)||this;return i.selectFinishClauseFactory=r.selectFinishClauseFactory,i.askFinishClauseFactory=r.askFinishClauseFactory,n===t&&Object.freeze(i),i}return g.c(t,e),t}(pr),yr={createFrom:function(e,t){var r=function(){return e.targetToken.toString(0)};return Object.assign(t,{toCompactString:function(){return e.targetToken.toString()},toPrettyString:r,toString:r,debug:function(r){return r.call(void 0,t,e),t}})}},vr={createFrom:function(e,t){return Object.assign(t,{getPattern:function(){return e.targetToken}})}},mr={createFrom:function(e,t){return hr.createFrom(vr.createFrom,yr.createFrom)(e,t)}};function br(e,t){void 0===t&&(t={});var r=Object.create(Object.getPrototypeOf(e)),n=Object.assign(r,e,t);return Object.freeze(n)}function wr(e,t){var r="query"===e.targetToken.token?function(e,t){var r=_r(e.queryClause,t);return br(e,{queryClause:r})}(e.targetToken,t):_r(e.targetToken,t);return br(e,{targetToken:r})}function _r(e,t){var r=e.modifiers.concat(t);return br(e,{modifiers:r})}function Pr(e,t){return function(r){var n=new $t(r),i=wr(t,n);return e(i,{})}}var Tr={createFrom:function(e,t,r){return Object.assign(r,{limit:Pr(e,t)})}};function Er(e,t){return function(r){var n=new qt(r),i=wr(t,n);return e(i,{})}}var Or={createFrom:function(e,t,r){return Object.assign(r,{offset:Er(e,t)})}},Sr={createFrom:vr.createFrom};function xr(e){return function(t){var r;t=Array.isArray(t)?t:[t];var n=new xt;(r=n.patterns).push.apply(r,t.map((function(e){return e.getPattern()})));var i=e.targetToken.groupPatterns.concat(n),o=br(e.targetToken,{groupPatterns:i}),a=new pr({iriResolver:e.iriResolver,targetToken:o});return Rr.createFrom(a,{})}}var Rr={createFrom:function(e,t){return Sr.createFrom(e,Object.assign(t,{and:xr(e)}))}};function jr(e){return function(t){var r;t=Array.isArray(t)?t:[t];var n=new xt;(r=n.patterns).push.apply(r,t.map((function(e){return e.getPattern()})));var i=new sr;i.groupPatterns.push(e.targetToken,n);var o=new pr({iriResolver:e.iriResolver,targetToken:i});return Rr.createFrom(o,{})}}var Ar={createFrom:function(e,t){return Sr.createFrom(e,Object.assign(t,{union:jr(e)}))}};var Cr={namespace:"http://www.w3.org/2001/XMLSchema#",boolean:"http://www.w3.org/2001/XMLSchema#boolean",byte:"http://www.w3.org/2001/XMLSchema#byte",date:"http://www.w3.org/2001/XMLSchema#date",dateTime:"http://www.w3.org/2001/XMLSchema#dateTime",decimal:"http://www.w3.org/2001/XMLSchema#decimal",double:"http://www.w3.org/2001/XMLSchema#double",duration:"http://www.w3.org/2001/XMLSchema#duration",float:"http://www.w3.org/2001/XMLSchema#float",gDay:"http://www.w3.org/2001/XMLSchema#gDay",gMonth:"http://www.w3.org/2001/XMLSchema#gMonth",gMonthDay:"http://www.w3.org/2001/XMLSchema#gMonthDay",gYear:"http://www.w3.org/2001/XMLSchema#gYear",gYearMonth:"http://www.w3.org/2001/XMLSchema#gYearMonth",int:"http://www.w3.org/2001/XMLSchema#int",integer:"http://www.w3.org/2001/XMLSchema#integer",long:"http://www.w3.org/2001/XMLSchema#long",negativeInteger:"http://www.w3.org/2001/XMLSchema#negativeInteger",nonNegativeInteger:"http://www.w3.org/2001/XMLSchema#nonNegativeInteger",nonPositiveInteger:"http://www.w3.org/2001/XMLSchema#nonPositiveInteger",object:"http://www.w3.org/2001/XMLSchema#object",positiveInteger:"http://www.w3.org/2001/XMLSchema#positiveInteger",short:"http://www.w3.org/2001/XMLSchema#short",string:"http://www.w3.org/2001/XMLSchema#string",time:"http://www.w3.org/2001/XMLSchema#time",unsignedByte:"http://www.w3.org/2001/XMLSchema#unsignedByte",unsignedInt:"http://www.w3.org/2001/XMLSchema#unsignedInt",unsignedLong:"http://www.w3.org/2001/XMLSchema#unsignedLong",unsignedShort:"http://www.w3.org/2001/XMLSchema#unsignedShort"};function Ir(e){return e instanceof Date?new tr(e.toISOString(),w(t=Cr.dateTime)?new Jt(t):new Nt(t)):"object"==typeof e?e.getSubject():"string"==typeof e&&"UNDEF"===e?e:new Ut(e);var t}function Dr(e){return function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var n=e.targetToken.values.slice();n.push(t.map(Ir));var i=br(e.targetToken,{values:n}),o=br(e,{targetToken:i});return Fr.createFrom(o,{})}}var Mr={createFrom:function(e,t){return Sr.createFrom(e,Object.assign(t,{has:Dr(e)}))}},Fr={createFrom:function(e,t){return Sr.createFrom(e,Object.assign(t,{and:Dr(e)}))}};function Nr(e){return function(t){var r=e.targetToken.values.slice();r.length||r.push([]),r[0]=r[0].concat(Ir(t));var n=br(e.targetToken,{values:r}),i=br(e,{targetToken:n});return Lr.createFrom(i,{})}}var kr={createFrom:function(e,t){return Sr.createFrom(e,Object.assign(t,{has:Nr(e)}))}},Lr={createFrom:function(e,t){return Sr.createFrom(e,Object.assign(t,{and:Nr(e)}))}};function $r(e,t){return new pr({iriResolver:e.iriResolver,targetToken:t})}function Ur(e,t){var r=$r(e,t);return Sr.createFrom(r,{})}function Yr(e){return function(t,r){var n="string"==typeof t?e.iriResolver.resolve(t):t.getSubject(),i=new Dt(n);return r=Array.isArray(r)?r:[r],i.addPattern.apply(i,r.map((function(e){return e.getPattern()}))),Ur(e,i)}}function qr(e){return function(t){var r,n=new xt;t=Array.isArray(t)?t:[t],(r=n.patterns).push.apply(r,t.map((function(e){return e.getPattern()})));var i=$r(e,n);return Ar.createFrom(i,{})}}function Br(e){return function(t){var r=new sr,n=$r(e,r);return Rr.createFrom(n,{}).and(t)}}function Vr(e){return function(t){var r=new Bt;return t=Array.isArray(t)?t:[t],r.addPattern.apply(r,t.map((function(e){return e.getPattern()}))),Ur(e,r)}}function Hr(e){return function(t){var r;t=Array.isArray(t)?t:[t];var n=new Yt;return(r=n.groupPattern.patterns).push.apply(r,t.map((function(e){return e.getPattern()}))),Ur(e,n)}}function zr(e,t){return function(r,n){var i,o="string"==typeof r?e.iriResolver.resolve(r):r.getSubject(),a=new ir(o,t);return n=Array.isArray(n)?n:[n],(i=a.groupPattern.patterns).push.apply(i,n.map((function(e){return e.getPattern()}))),Ur(e,a)}}function Gr(e){return function(t){var r=new Ct(t);return Ur(e,r)}}function Wr(e){return function(t,r){var n="string"==typeof r?new fr(r):r.getSubject(),i=new vt(t,n);return Ur(e,i)}}function Xr(e){return function(){for(var t,r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];var i=new ur;(t=i.variables).push.apply(t,r.map((function(e){return e.getSubject()})));var o=$r(e,i);return 1===r.length?kr.createFrom(o,{}):Mr.createFrom(o,{})}}var Qr=function(e,t){return Object.assign(t,{undefined:"UNDEF",graph:Yr(e),group:qr(e),union:Br(e),optional:Vr(e),minus:Hr(e),service:zr(e),serviceSilent:zr(e,"SILENT"),filter:Gr(e),bind:Wr(e),values:Xr(e)})},Jr=function(e){function t(r){var n=this.constructor,i=e.call(this,r)||this;return i.fluentPathFactory=r.fluentPathFactory,i.deniableFluentPathFactory=r.deniableFluentPathFactory,n===t&&Object.freeze(i),i}return g.c(t,e),t}(pr);function Kr(e,t){return"a"===t?t:"string"==typeof t?e.iriResolver.resolve(t,!0):"token"in t?t:"getSubject"in t?t.getSubject():t.getPath()}var Zr=function(){function e(e){this.token="subPath",this.path=e}return e.prototype.toString=function(){return this.path?"("+this.path+")":"()"},e}();function en(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t){return"a"===t?t:-1!==e.indexOf(t.token)?new Zr(t):t}}function tn(e){return"a"===e||"iri"===e.token||"prefixedName"===e.token}function rn(e){return tn(e)||"pathInverse"===e.token&&tn(e.path)}var nn=en("pathAlternative");function on(e){return function(){for(var t,r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];var i=r.reduce((function(e,t){return e.concat(t)}),[]).map((function(t){return Kr(e,t)}));!e.targetToken||e.targetToken instanceof Ht||i.unshift(e.targetToken);var o=i.map(nn);e.targetToken instanceof Ht&&o.unshift.apply(o,e.targetToken.paths);var a=new Ht;(t=a.paths).push.apply(t,o);var s=new Jr(g.a({},e,{targetToken:a}));return o.every(rn)?e.deniableFluentPathFactory(s,{}):e.fluentPathFactory(s,{})}}var an=en("pathAlternative","pathSequence","pathInverse");function sn(e){return function(t){var r=e.targetToken?e.targetToken:Kr(e,t),n=an(r),i=new zt(n),o=new Jr(g.a({},e,{targetToken:i}));return tn(r)?e.deniableFluentPathFactory(o,{}):e.fluentPathFactory(o,{})}}var un=en("pathAlternative","pathSequence","pathInverse","pathMod");function cn(e,t){return function(r){var n=e.targetToken?e.targetToken:Kr(e,r),i=un(n),o=new Gt(i,t),a=new Jr(g.a({},e,{targetToken:o}));return e.fluentPathFactory(a,{})}}var fn=en("pathAlternative","pathSequence");function ln(e){return function(){for(var t,r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];var i=r.reduce((function(e,t){return e.concat(t)}),[]).map((function(t){return Kr(e,t)}));!e.targetToken||e.targetToken instanceof Xt||i.unshift(e.targetToken);var o=i.map(fn);e.targetToken instanceof Xt&&o.unshift.apply(o,e.targetToken.paths);var a=new Xt;(t=a.paths).push.apply(t,o);var s=new Jr(g.a({},e,{targetToken:a}));return e.fluentPathFactory(s,{})}}function pn(e){return function(t){var r=e.targetToken?e.targetToken:void 0===t?t:Kr(e,t),n=new Zr(r),i=new Jr(g.a({},e,{targetToken:n}));return function(e){return!e||rn(e)||"pathAlternative"===e.token&&e.paths.every(rn)}(r)?e.deniableFluentPathFactory(i,{}):e.fluentPathFactory(i,{})}}var hn=function(e,t){return Object.assign(t,{getPath:function(){return e.targetToken}})},dn={createFrom:function(e,t){return hn(e,Object.assign(t,{subPath:pn(e),or:on(e),then:ln(e),inverse:sn(e),oneOrNone:cn(e,"?"),zeroOrMore:cn(e,"*"),onceOrMore:cn(e,"+")}))}},gn=en("pathAlternative");function yn(e){return function(t){var r=e.targetToken?e.targetToken:Kr(e,t),n=gn(r),i=new Wt(n),o=new Jr(g.a({},e,{targetToken:i}));return e.fluentPathFactory(o,{})}}var vn={createFrom:function(e,t){return dn.createFrom(e,Object.assign(t,{negated:yn(e)}))}},mn={createFrom:function(e,t){return Object.assign(t,{subPath:pn(e),alternatives:on(e),sequences:ln(e),inverse:sn(e),negated:yn(e),oneOrNone:cn(e,"?"),zeroOrMore:cn(e,"*"),onceOrMore:cn(e,"+")})}};function bn(e,t){return new Jr(g.a({},e,{targetToken:t,fluentPathFactory:dn.createFrom,deniableFluentPathFactory:vn.createFrom}))}function wn(e){return function(t){if("function"!=typeof t)return function(e,t){var r=bn(e,Kr(e,t));return vn.createFrom(r,{})}(e,t);var r=bn(e);return t(mn.createFrom(r,{}))}}var _n=function(e,t){return Object.assign(t,{path:wn(e)})};function Pn(e,t){return function(r,n){var i=Kr(t,r),o=new Zt(i);n=Array.isArray(n)?n:[n],o.addObject.apply(o,n.map(Ir));var a="subject"===t.targetToken.token?function(e,t){var r=e.targetToken.properties.concat(t),n=br(e.targetToken,{properties:r});return br(e,{targetToken:n})}(t,o):function(e,t){return e.targetToken.properties.push(t),e}(t,o),s=e(a,{});return En.createFrom(e,a,s)}}var Tn=function(e,t,r){return Object.assign(r,{has:Pn(e,t)})},En={createFrom:function(e,t,r){return Object.assign(r,{and:Pn(e,t)})}},On=function(e,t){return t},Sn={createFrom:function(e,t){return Tn(On,e,t)}},xn={createFrom:vr.createFrom},Rn={createFrom:function(e,t){return Tn(xn.createFrom,e,Object.assign(t,{getSubject:function(){return e.targetToken.subject}}))}};function jn(e){return function(t){t in Cr&&(t=Cr[t]);var r=e.iriResolver.resolve(t,!0),n=br(e.targetToken.subject,{type:r}),i=br(e.targetToken,{subject:n}),o=br(e,{targetToken:i});return Rn.createFrom(o,{})}}function An(e){return function(t){var r=new Lt(t),n=br(e.targetToken.subject,{language:r}),i=br(e.targetToken,{subject:n}),o=br(e,{targetToken:i});return Rn.createFrom(o,{})}}var Cn={createFrom:function(e,t){return Rn.createFrom(e,Object.assign(t,{withType:jn(e),withLanguage:An(e)}))}};function In(e,t){return new pr({iriResolver:e.iriResolver,targetToken:new or(t)})}function Dn(e,t){var r=In(e,t);return Rn.createFrom(r,{})}function Mn(e,t){var r=In(e,t);return hr.createFrom(Rn.createFrom,vr.createFrom)(r,{})}function Fn(e){return function(t){var r=e.iriResolver.resolve(t);return Dn(e,r)}}function Nn(e){return function(t){var r=new fr(t);return Dn(e,r)}}function kn(e){return function(t){if("string"!=typeof t){var r=new Ut(t);return Dn(e,r)}var n=new tr(t),i=In(e,n);return Cn.createFrom(i,{})}}function Ln(e){return function(){for(var t,r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];var i=(t=new St).addObject.apply(t,r.map(Ir));return Mn(e,i)}}function $n(e){return function(t){return"function"==typeof t?function(e,t){var r=new Tt,n=new pr({iriResolver:e.iriResolver,targetToken:r});if(t(Sn.createFrom(n,{})),r.properties.length<1)throw new Error("At least one property must be specified by the self builder.");return Mn(e,r)}(e,t):function(e,t){return t&&!t.startsWith("_:")&&(t="_:"+t),Dn(e,new Ot(t))}(e,t)}}var Un=function(e,t){return Object.assign(t,{resource:Fn(e),var:Nn(e),literal:kn(e),collection:Ln(e),blankNode:$n(e)})},Yn={create:function(e){var t=new pr({iriResolver:e,targetToken:void 0});return Yn.createFrom(t,{})},createFrom:function(e,t){return hr.createFrom(Un,Qr,ti.createFrom,_n)(e,t)}};function qn(e,t){return function(r,n){var i=new ur,o=function(e){return(Array.isArray(e)?e:[e]).map((function(e){return new fr(e)}))}(r);i.addVariables.apply(i,o);var a=!Array.isArray(r),s=new dr(t.iriResolver);(function(e,t,r){var n="function"==typeof e?e(Yn.create(t)):e;return Array.isArray(n)?(r&&n.map((function(e){return[e]})),n.some(Array.isArray)?n:[n]):[[n]]})(n,s,a).forEach((function(e){return i.addValues.apply(i,e.map(Ir))}));var u=br(t.targetToken,{values:i}),c=br(t,{iriResolver:s,targetToken:u});return e(c,{})}}var Bn={createFrom:function(e,t,r){return Object.assign(r,{values:qn(e,t)})}};var Vn={createFrom:function(e,t,r){var n=Bn.createFrom.bind(null,e),i=hr.createFrom(e,n);return hr.createFrom(function(e){var t=Or.createFrom.bind(null,e);return function(r,n){return Tr.createFrom(hr.createFrom(t,e),r,n)}}(i),function(e){var t=Tr.createFrom.bind(null,e);return function(r,n){return Or.createFrom(hr.createFrom(e,t),r,n)}}(i),n)(t,r)}};function Hn(e,t){return function(r){var n=new Vt(r),i=wr(t,n),o=Vn.createFrom(e,i,{});return e(i,o)}}var zn={createFrom:function(e,t,r){return Vn.createFrom(e,t,Object.assign(r,{orderBy:Hn(e,t)}))}};function Gn(e,t){return function(r){var n=new Ft(r),i=wr(t,n),o=zn.createFrom(e,i,{});return e(i,o)}}var Wn={createFrom:function(e,t,r){return zn.createFrom(e,t,Object.assign(r,{having:Gn(e,t)}))}};function Xn(e,t){return function(r){var n=new Mt(r),i=wr(t,n),o=Wn.createFrom(e,i,{});return e(i,o)}}var Qn={createFrom:function(e,t,r){return Wn.createFrom(e,t,Object.assign(r,{groupBy:Xn(e,t)}))}};function Jn(e){return function(t){var r,n=new Rt;t=Array.isArray(t)?t:[t],(r=n.groupPattern.patterns).push.apply(r,t.map((function(e){return e.getPattern()})));var i=br(e.targetToken,{where:n}),o=br(e,{targetToken:i}),a=Qn.createFrom(mr.createFrom,o,{});return mr.createFrom(o,a)}}var Kn={createFrom:function(e,t){return Object.assign(t,{where:Jn(e)})}};function Zn(e,t){return function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];var i=new ar(t);r.length&&i.addVariable.apply(i,r.map((function(e){return new fr(e)})));var o=new pr({iriResolver:e.iriResolver,targetToken:i});return Kn.createFrom(o,{})}}var ei,ti={createFrom:function(e,t){return Object.assign(t,{select:Zn(e),selectDistinct:Zn(e,"DISTINCT"),selectReduced:Zn(e,"REDUCED"),selectAll:function(){return Zn(e)()},selectAllDistinct:function(){return Zn(e,"DISTINCT")()},selectAllReduced:function(){return Zn(e,"REDUCED")()}})}};!function(e){e.CHILD="child",e.MEMBER="member"}(ei||(ei={}));var ri,ni=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return g.c(t,e),Object.defineProperty(t.prototype,"name",{get:function(){return"IllegalActionError"},enumerable:!0,configurable:!0}),t}(O.a);function ii(e,t){if(void 0===e||!t)return e;var r=t.split("."),n=r[0],i=r.slice(1);return ii(e[n],i.join("."))}function oi(e,t){return t<=e?e:t}function ai(e,t,r,n){if(t.properties.has(r)){var i=de._resolveProperty(e,t.properties.get(r));return void 0===n||n===i.uri?i:void 0}}!function(e){e[e.PARTIAL=0]="PARTIAL",e[e.EMPTY=1]="EMPTY",e[e.ALL=2]="ALL",e[e.FULL=3]="FULL"}(ri||(ri={}));var si=function(){function e(e){this.queryContainer=e.queryContainer,this.parent=e.parent,this.name=e.name,this.fullName=e.parent?e.parent.fullName+"."+e.name:e.name,this.definition=e.definition,this.pathBuilderFn=e.pathBuilderFn,this.propertyType=e.propertyType,this.optional=void 0===e.optional||e.optional,this.subProperties=new Map,this.values=e.values?e.values:[],this._types=[],this._filters=[]}return Object.defineProperty(e.prototype,"variable",{get:function(){return this.queryContainer.getVariable(this.fullName)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"identifier",{get:function(){return 1===this.values.length?this.values[0]:this.queryContainer.getVariable(this.fullName)},enumerable:!0,configurable:!0}),e.prototype.hasProperties=function(){return 0!==this.subProperties.size||this._isComplete()},e.prototype.getProperty=function(e,t){if(!e)return this;var r=function(e){return e.split(".").slice(0,1)[0]}(e),n=this.subProperties.get(r);if(n){var i=e.substr(r.length+1);return n.getProperty(i)}if(r===e&&t&&t.create&&this._isComplete()){var o=this.addProperty(r,t);return this.propertyType===ri.FULL&&o.setType(ri.ALL),o}},e.prototype.addProperty=function(e,t){var r=this.__getDefinition(e,t);return this._addSubProperty(e,{definition:r,pathBuilderFn:t.path,optional:!t.required})},e.prototype._addSubProperty=function(t,r){var n=new e(g.a({},r,{name:t,queryContainer:this.queryContainer,parent:this}));return this.subProperties.set(t,n),n},e.prototype.__getDefinition=function(e,t){var r=this.queryContainer.digestProperty(e,t);if(!1===t.inherit)return r;var n="@id"in t?r.uri:void 0,i=this.__getInheritDefinition(e,n);if(i)for(var o in i)null!==r[o]&&"uri"!==o||(r[o]=i[o]);return r},e.prototype.__getInheritDefinition=function(e,t){var r=this._getSearchSchema(),n=ai(r,r,e,t);if(n)return n;for(var i=0,o=this.queryContainer.context._getTypeObjectSchemas(this._types);i<o.length;i++){var a=ai(r,o[i],e,t);if(a)return a}},e.prototype._isComplete=function(){return this.propertyType===ri.ALL||this.propertyType===ri.FULL},e.prototype._isPartial=function(){return this.propertyType===ri.PARTIAL||this.propertyType===ri.ALL||!!this.subProperties.size},e.prototype._isEmpty=function(){return void 0===this.propertyType||this.propertyType===ri.EMPTY},e.prototype.setType=function(e){this.propertyType=oi(this.propertyType,e)},e.prototype.addType=function(e){var t=this._getSearchSchema(),r=t.resolveURI(e,{vocab:!0});if(this._types.push(r),this.queryContainer.context.hasObjectSchema(r)){var n=this.queryContainer.context.getObjectSchema(r);Se._combineSchemas([t,n])}},e.prototype.addValues=function(e){var t;(t=this.values).push.apply(t,e)},e.prototype.addFilter=function(e){this._filters.push(e)},e.prototype.setObligatory=function(e){this.optional&&(this.optional=!1,e&&e.inheritParents&&this.parent&&this.parent.setObligatory(e))},e.prototype._getVariable=function(e){return this.queryContainer.getVariable(this.fullName+"."+e)},e.prototype.__createIRIToken=function(){return this.queryContainer.compactIRI(this.definition.uri)},e.prototype.__createPathToken=function(){if(!this.pathBuilderFn)return this.__createIRIToken();var e=mn.createFrom(this.queryContainer,{});return this.pathBuilderFn.call(void 0,e).getPath()},e.prototype._getContextVariable=function(){return this.propertyType===ri.FULL?this.__getSelfToken():this._getVariable("_graph")},e.prototype._getContextGraph=function(){return new Dt(this._getContextVariable())},e.prototype.getSelfPattern=function(){var e=this.__createSelfPattern();if(e)return this.optional?(new Bt).addPattern(e):e},e.prototype.__createSelfPattern=function(){if(!this.parent)throw new ni("Cannot create pattern without a parent.");return this.__addPropertyTo(new or(this.parent.identifier))},e.prototype.__addPropertyTo=function(e){return e.addProperty(new Zt(this.__createPathToken()).addObject(this.identifier))},e.prototype.getSearchPatterns=function(){var e,t=this.__createSearchPatterns();return this.optional?[(e=new Bt).addPattern.apply(e,t)]:t},e.prototype.__createSearchPatterns=function(){var e=[],t=this.__createValuesPattern();t&&e.push(t);var r=this.__createSelfPattern();switch(r&&(this.parent&&!this.pathBuilderFn?e.push(this.parent._getContextGraph().addPattern(r)):e.push(r)),this.propertyType){case ri.EMPTY:e.push(this.__createTypesSearchPatterns());break;case ri.PARTIAL:e.push.apply(e,this.__createPartialSearchPatterns());break;case ri.ALL:e.push(this.__createSearchAllPattern()),e.push.apply(e,this.__createSubPropertiesPatterns());break;case ri.FULL:e.push(this.__createSearchGraphPattern()),e.push.apply(e,this.__createSubPropertiesPatterns());break;default:var n=this.__createSelfTypeFilter();n&&e.push(n)}if(this._filters.length){var i=this._filters.map((function(e){return new Ct(e)}));e.push.apply(e,i)}return e},e.prototype.__createValuesPattern=function(){if(!(this.values.length<=1)){var e=(new ur).addVariables(this.variable);return this.values.forEach((function(t){return e.addValues(t)})),e}},e.prototype.__createSelfTypeFilter=function(){var e=this.identifier;if(this.definition.literal){var t=this.queryContainer.compactIRI(this.definition.literalType);if("variable"===e.token)return new Ct("datatype( "+e+" ) = "+t)}if(null!==this.definition.pointerType&&"variable"===e.token)return new Ct("! isLiteral( "+e+" )")},e.prototype.__createPartialSearchPatterns=function(){return[this.__createTypesSearchPatterns()].concat(this.__createSubPropertiesPatterns())},e.prototype.__createSubPropertiesPatterns=function(){var e=[];return this.subProperties.forEach((function(t){e.push.apply(e,t.getSearchPatterns())})),e},e.prototype.__createTypesSearchPatterns=function(){var e=this.__createTypesPattern(),t=this.propertyType===ri.EMPTY?e:this._getContextGraph().addPattern(e);return this._types.length?(this.__addTypesTo(e),t):(new Bt).addPattern(t)},e.prototype.__addTypesTo=function(e){var t,r=this.__createTypesTokens(),n=e.properties.find((function(e){return"a"===e.verb}));n||(n=new Zt("a"),e.addProperty(n)),(t=n.objects).unshift.apply(t,r)},e.prototype.__createTypesTokens=function(){var e=this;return this._types.map((function(t){return e.queryContainer.compactIRI(t)}))},e.prototype.__createSearchAllPattern=function(){var e=this.__createAllPattern();return this._types.length&&this.__addTypesTo(e),this._getContextGraph().addPattern(e)},e.prototype.__createSearchGraphPattern=function(){var e=new Dt(this.__getSelfToken());if(this._types.length){var t=new or(this.__getSelfToken());this.__addTypesTo(t),e.addPattern(t)}return e.addPattern(this.__createGraphSubPattern())},e.prototype.__getValuedPatterns=function(){var e;if(!this.optional){var t=new or(this.identifier),r=[t],n=this.__createValuesPattern();if(n&&r.push(n),this._types.length){var i=this.__createTypesTokens();t.addProperty((e=new Zt("a")).addObject.apply(e,i))}return this.subProperties.forEach((function(e){var n=e.__getValuedPatterns();n&&(e.__addPropertyTo(t),r.push.apply(r,n))})),t.properties.length?r:r.slice(1)}},e.prototype.getConstructPatterns=function(){var e=[],t=this.__createSelfConstructPattern();return t&&e.push(t),this.subProperties.forEach((function(t){var r=t.getConstructPatterns();e.push.apply(e,r)})),e},e.prototype.__createSelfConstructPattern=function(){switch(this.propertyType){case ri.EMPTY:return this.__createTypesPattern();case ri.PARTIAL:return this.__createPartialConstructPattern();case ri.ALL:case ri.FULL:return this.__createCompleteConstructPattern().addProperty(new Zt(this.queryContainer.compactIRI(je.document)).addObject(this._getContextVariable()));default:return}},e.prototype.__createCompleteConstructPattern=function(){switch(this.propertyType){case ri.ALL:return this.__createAllPattern();case ri.FULL:return this.__createGraphSubPattern();default:throw new ni("Invalid property type")}},e.prototype.__createPartialConstructPattern=function(){var e=this.__createTypesPattern().addProperty(new Zt(this.queryContainer.compactIRI(je.document)).addObject(this._getContextVariable()));return this.subProperties.forEach((function(t){e.addProperty(new Zt(t.__createIRIToken()).addObject(t.identifier))})),e},e.prototype.__createTypesPattern=function(){return new or(this.identifier).addProperty(new Zt("a").addObject(this._getVariable("types")))},e.prototype.__createAllPattern=function(){return new or(this.__getSelfToken()).addProperty(new Zt(this._getVariable("_predicate")).addObject(this._getVariable("_object")))},e.prototype.__createGraphSubPattern=function(){return new or(this._getVariable("_subject")).addProperty(new Zt(this._getVariable("_predicate")).addObject(this._getVariable("_object")))},e.prototype.__getSelfToken=function(){var e=this.identifier;if("literal"===e.token)throw new ni("Property is not a resource.");return e},e.prototype.getSchemaFor=function(e){switch(this.propertyType){case void 0:return new ge;case ri.EMPTY:case ri.PARTIAL:return this.__createSchema();default:return Se._combineSchemas([this.queryContainer.context.registry.getSchemaFor(e),this.__createSchema()])}},e.prototype.__createSchema=function(){var e=new ge;return this.subProperties.forEach((function(t){e.properties.set(t.name,t.definition)})),e},e.prototype._getSearchSchema=function(){return this._searchSchema?this._searchSchema:this._searchSchema=this.queryContainer.getGeneralSchema()},e}(),ui=function(e){function t(t){var r=e.call(this,{queryContainer:t.queryContainer,name:t.containerPropertyType,definition:new he,optional:!1,propertyType:ri.PARTIAL})||this;return r.containerIRI=t.containerIRI,r.containerPropertyType=t.containerPropertyType,r}return g.c(t,e),t.prototype.__createSelfPattern=function(){var e=new ar("DISTINCT").addVariable(this.variable);switch(this.containerPropertyType){case ei.CHILD:e.addPattern(this.__createChildSelfPattern());break;case ei.MEMBER:e.addPattern.apply(e,this.__createMemberSelfPattern());break;default:throw new lr("Invalid container type.")}var t=this.__getValuedPatterns();return t&&e.addPattern.apply(e,t),this.__addOrderTo(e),this.__addLimitTo(e),this.__addOffsetTo(e),e},t.prototype.__createChildSelfPattern=function(){return new or(this.containerIRI).addProperty(new Zt(this.queryContainer.compactIRI(Ye.contains)).addObject(this.identifier))},t.prototype.__createMemberSelfPattern=function(){var e=this.queryContainer.getVariable("membershipResource"),t=this.queryContainer.getVariable("hasMemberRelation");return[(new ar).addVariable(e,t).addPattern(new or(this.containerIRI).addProperty(new Zt(this.queryContainer.compactIRI(Ye.membershipResource)).addObject(e)).addProperty(new Zt(this.queryContainer.compactIRI(Ye.hasMemberRelation)).addObject(t))),new or(e).addProperty(new Zt(t).addObject(this.identifier))]},t.prototype.__addLimitTo=function(e){void 0!==this._limit&&e.addModifier(new $t(this._limit))},t.prototype.__addOffsetTo=function(e){void 0!==this._offset&&e.addModifier(new qt(this._offset))},t.prototype.__addOrderTo=function(e){if(this.order){var t=this.getProperty(this.order.path,{create:!0});if(!t)throw new T.a('Property "'+this.order.path+"\" hasn't been defined.");var r=t.identifier,n="variable"===r.token?r:"( "+r+" )";e.addModifier(new Vt(n,this.order.flow)),this.__createSubPatternsFrom(t).filter((function(t){if("subject"!==t.token)return!0;var r=e.where.groupPattern.patterns.find((function(e){return"subject"===e.token&&e.subject===t.subject}));if(!r)return!0;t.properties.forEach((function(e){var t=r.properties.find((function(t){return e.toString()===t.toString()}));t||r.addProperty(e),e.objects.forEach((function(e){t.objects.find((function(t){return t.toString()===e.toString()}))||t.addObject(e)}))}))})).forEach((function(t){e.addPattern(t)}))}},t.prototype.__createSubPatternsFrom=function(e){for(var t=[];e!==this;){var r=e.getSelfPattern();if("optional"!==r.token?t.unshift(r):t=[r.addPattern.apply(r,t)],!e.parent)break;e=e.parent}return t},t.prototype.__addTypesTo=function(e){},t.prototype.setOrder=function(e){this.order=e},t.prototype.setLimit=function(e){this._limit=e},t.prototype.setOffset=function(e){this._offset=e},t}(si),ci=function(e){function t(t){return e.call(this,{queryContainer:t.queryContainer,name:"document",definition:new he,optional:!1,propertyType:ri.PARTIAL,values:t.values})||this}return g.c(t,e),t.prototype.__createSelfPattern=function(){},t}(si),fi=function(e){function t(t,r){var n=e.call(this,t.replace(/[.]/g,"__").replace(/[^0-9A-Z_a-z\xC0-\xD6\xD8-\xF6\xF8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/g,"_"))||this;return n.index=r,n}return g.c(t,e),t.prototype.toString=function(){return"?_"+this.index},t}(fr),li=function(e){function t(t,r){var n=this,i=t.getObjectSchema();if((n=e.call(this,{iriResolver:pi(i),targetToken:void 0,fluentPathFactory:dn.createFrom,deniableFluentPathFactory:vn.createFrom})||this).context=t,n._generalSchema=i,n._prefixesTuples=Array.from(i.prefixes),n._variablesCounter=0,n._variablesMap=new Map,"uris"in r){var o=r.uris.map(n.compactIRI,n);n._queryProperty=new ci({queryContainer:n,values:o})}else{var a=n.compactIRI(r.uri);n._queryProperty=new ui({queryContainer:n,containerIRI:a,containerPropertyType:r.containerPropertyType})}return n}return g.c(t,e),t.prototype.getVariable=function(e){if(this._variablesMap.has(e))return this._variablesMap.get(e);var t=new fi(e,this._variablesCounter++);return this._variablesMap.set(e,t),t},t.prototype.compactIRI=function(e){var t=this.__getCompactedIRI(e);return this.iriResolver.resolve(t)},t.prototype.__getCompactedIRI=function(e){if(w(e))return e;var t=this._prefixesTuples.find((function(t){var r=t[1];return e.startsWith(r)}));if(!t)return e;var r=t[0],n=t[1];return r+":"+e.substr(n.length)},t.prototype.getPrologues=function(){return this._prefixesTuples.filter(this.__isUsedPrefix,this).map(hi)},t.prototype.__isUsedPrefix=function(e){var t=e[0];return!!this.iriResolver.prefixes.get(t)},t.prototype.digestProperty=function(e,t){return Se.digestProperty(e,t,this._generalSchema)},t.prototype.getGeneralSchema=function(){return Se.combineDigestedObjectSchemas([this._generalSchema])},t.prototype.serializeLiteral=function(e,t){if(!this.context.jsonldConverter.literalSerializers.has(e))throw new T.a('Type "'+e+"\" hasn't a defined serializer.");return this.context.jsonldConverter.literalSerializers.get(e).serialize(t)},t}(Jr);function pi(e){var t=new dr(void 0,e.vocab);return Array.from(e.prefixes.keys()).forEach((function(e){return t.prefixes.set(e,!1)})),t}function hi(e){var t=e[0],r=e[1];return new Kt(t,new Nt(r))}var di=function(){function e(e,t){this._queryContainer=e,this._resource=b(t)?new Ot(t):this._queryContainer.compactIRI(t)}return e.prototype.getToken=function(){return this._resource},e.prototype.toString=function(){return""+this._resource},e}(),gi=function(){function e(e,t){this._value=t,this._queryContainer=e,Object(_.isDate)(t)?this.withType(se.dateTime):this._literal=new Ut(t)}return e.prototype.withType=function(e){se.hasOwnProperty(e)&&(e=se[e]);var t=this._queryContainer.serializeLiteral(e,this._value),r=this._queryContainer.compactIRI(e);return this._literal=new tr(t,r),this},e.prototype.withLanguage=function(e){var t=this._queryContainer.serializeLiteral(se.string,this._value),r=new Lt(e);return this._literal=new tr(t,r),this},e.prototype.getToken=function(){return this._literal},e.prototype.toString=function(){return""+this._literal},e}(),yi=function(){function e(t,r){this.inherit=e.INHERIT,this.all=e.ALL,this._queryContainer=t,this._queryProperty=r}return e.prototype.property=function(e){for(var t=this._queryProperty;t;){var r=t.getProperty(e,{create:!0});if(r)return r.identifier;t=t.parent}throw new T.a('The property "'+e+'" was not declared.')},e.prototype.value=function(e){return new gi(this._queryContainer,e)},e.prototype.object=function(e){var t=x.getID(e);return new di(this._queryContainer,t)},e.prototype.withType=function(e){if(this._queryProperty.hasProperties())throw new lr("Types must be specified before the properties.");return this._queryProperty.addType(e),this},e.prototype.properties=function(t){if(t===e.ALL)return this._queryProperty.setType(ri.ALL),this;if(t===e.FULL)return this._queryProperty.setType(ri.FULL),this;for(var r in this._queryProperty.setType(ri.PARTIAL),t){var n=t[r],i=Object(_.isObject)(n)?n:{"@id":n},o=this._queryProperty.addProperty(r,i),a=i.query;if(a){var s=new vi(this._queryContainer,o);if(s!==a.call(void 0,s))throw new T.a("The provided query builder was not returned")}}return this},e.ALL=Object.freeze({}),e.FULL=Object.freeze({}),e.INHERIT=Object.freeze({}),e}(),vi=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return g.c(t,e),t.prototype.filter=function(e){return this._queryProperty.addFilter(e),this},t.prototype.values=function(){for(var e=this,t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var n=t.map((function(t){var r=t.getToken();if("blankNode"===r.token)throw new T.a('Cannot assign blank nodes ("'+r.label+'").');if(e._queryProperty.definition.literal&&"literal"!==r.token)throw new T.a('"'+r+'" is not a literal value.');if(null!==e._queryProperty.definition.pointerType&&"literal"===r.token)throw new T.a('"'+r+'" is not a resource value.');return r}));return this._queryProperty.addValues(n),this._queryProperty.setObligatory({inheritParents:!0}),this},t}(yi),mi=function(e){function t(t,r){return e.call(this,t,r)||this}return g.c(t,e),t.prototype.orderBy=function(e,t){return this._queryProperty.setOrder({path:e,flow:bi(t)}),this},t.prototype.limit=function(e){return this._queryProperty.setLimit(e),this},t.prototype.offset=function(e){return this._queryProperty.setOffset(e),this},t}(vi);function bi(e){if(void 0!==e){var t=e.toUpperCase();switch(t){case"ASC":case"DESC":return t;case"ASCENDING":case"DESCENDING":return t.slice(0,-6);default:throw new T.a("Invalid flow order.")}}}var wi={TYPE:je.VolatileResource,is:function(e){return we.is(e)&&e.$hasType(wi.TYPE)},create:function(e){var t=Object.assign({},e);return wi.createFrom(t)},createFrom:function(e){var t=we.createFrom(e);return t.$addType(wi.TYPE),t}},_i={targets:{"@id":je.target,"@type":"@id","@container":"@set"}},Pi={TYPE:je.QueryMetadata,SCHEMA:_i,is:function(e){return wi.is(e)&&e.$hasType(Pi.TYPE)}},Ti=function(){function e(e){this.definition=e.definition,this.pathBuilderFn=e.pathBuilderFn,this.propertyType=e.propertyType,this.optional=e.optional,this.subProperties=new Map,this.values=e.values?e.values:[]}return e.prototype.setType=function(e){this.propertyType=oi(this.propertyType,e)},e.prototype.setProperty=function(e,t){this.subProperties.set(e,t)},e.prototype.getProperty=function(t,r){if(this.subProperties.has(t)){n=this.subProperties.get(t);return r&&n.mergeData(t,r),n}if(!r)throw new Error('Property "'+t+"\" doesn't exists.");var n=new e(r);return this.subProperties.set(t,n),n},e.prototype.mergeData=function(e,t){this!==t&&(this.setType(t.propertyType),this.__mergeDefinition(e,t.definition))},e.prototype.__mergeDefinition=function(e,t){for(var r in t){var n=this.definition[r],i=t[r];if(null===n&&(this.definition[r]=i),i!==n)throw new T.a('Property "'+e+'" has different "'+r+'": "'+n+'", "'+i+'".')}},e.prototype.getSchema=function(){var e=new ge;return this.subProperties.forEach((function(t,r){e.properties.set(r,t.definition)})),e},e}(),Ei=function(e){function t(t){var r=t.uri,n=t.propertyType;return e.call(this,{definition:new he,propertyType:n,optional:!1,values:[new Nt(r)]})||this}return g.c(t,e),t.prototype.__mergeDefinition=function(e,t){},t}(Ti),Oi=function(){function e(e,t){this.registry=e,this.queryContainer=t}return Object.defineProperty(e.prototype,"jsonldConverter",{get:function(){return this.queryContainer.context.jsonldConverter},enumerable:!0,configurable:!0}),e.prototype.compactDocuments=function(e,t){var r=this;t||(t=e.map((function(e){return e["@id"]})));var n=new Map;return e.forEach((function(e){var t=r.registry.getPointer(e["@id"],!0);t.$_queryableMetadata||(t.$_queryableMetadata=new Ei({uri:t.$id,propertyType:ri.PARTIAL}));var i=new Set;t.$getPointers(!0).forEach((function(e){return i.add(e.$id)})),e["@graph"].forEach((function(r){var o=r["@id"],a=o!==e["@id"]?t.$getPointer(o,!0):t;n.set(o,{node:r,document:t,resource:a}),i.delete(o)})),i.forEach((function(e){return t.$removePointer(e)}))})),t.forEach((function(e){var t=n.get(e);if(!t)throw new T.a("Invalid data provided.");var i=r.queryContainer._queryProperty,o=t.resource.$_queryableMetadata;r.__processNode(n,t,i,o)})),n.forEach((function(e){var t,n=e.node,i=e.resource,o=e.document;if(!e.isCompacted){var a=g.a({},n,((t={})[je.document]=void 0,t[je.checksum]=void 0,t)),s=r.queryContainer.context.registry.getSchemaFor(a);r.jsonldConverter.update(i,a,s,o),i.$_queryableMetadata=void 0}r.registry.decorate(i)})),e.map(ce.getID).map((function(e){return n.get(e)})).filter(_._isExistingValue).forEach((function(e){var t=e.resource,r=e.node;t.$_syncSnapshot();var n=r[je.checksum];if(n&&"string"!=typeof n){var i=ce.getPropertyLiterals(n,se.string)[0];i&&(t.$eTag='"'+i+'"',t.$_resolved=!0)}})),t.map((function(e){return n.get(e).resource}))},e.prototype.__processNode=function(e,t,r,n){var i,o=this,a=t.node,s=t.document,u=t.resource;t.isCompacted=!0;var c=r.getSchemaFor(a),f=function(e,t){return{hasPointer:function(r){return!!e.has(r)||t.$hasPointer(r)},getPointer:function(r){return e.has(r)?e.get(r).resource:t.$getPointer(r)}}}(e,s),l=g.a({},a,((i={})[je.document]=void 0,i[je.checksum]=void 0,i));this.jsonldConverter.update(u,l,c,f,!r._isComplete()),r._isPartial()?r.subProperties.forEach((function(t,r){u.hasOwnProperty(r)&&t.pathBuilderFn&&Object.defineProperty(u,r,{enumerable:!1,configurable:!0,writable:!0});var i=n.getProperty(r,t);u.hasOwnProperty(r)&&(void 0!==t.propertyType&&(Array.isArray(u[r])?u[r]:[u[r]]).forEach((function(a){if(x.is(a)){var u=e.get(a.$id);if(!u)throw new T.a("Invalid data provided.");u.resource.$_queryableMetadata?(u.resource.$_queryableMetadata.mergeData(r,i),u.document!==s||u.isCompacted?i.propertyType=void 0:n.setProperty(r,u.resource.$_queryableMetadata)):u.document===s?u.resource.$_queryableMetadata=i:(u.resource.$_queryableMetadata=new Ti({propertyType:i.propertyType,optional:i.optional,definition:Object.assign(new he,i.definition,{uri:null})}),i.propertyType=void 0),o.__processNode(e,u,t,u.resource.$_queryableMetadata)}})))})):u.$_queryableMetadata=void 0},e}();var Si=function(){function e(){}return e.prototype.parse=function(e){return new Promise((function(t){return t(e)}))},e}(),xi=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return g.c(t,e),t.prototype.parse=function(t){return e.prototype.parse.call(this,t).then((function(e){return e}))},t}(Pe),Ri=function(){function e(){}return e.executeRawASKQuery=function(t,r,n){return void 0===n&&(n={}),n=Object.assign(n,e.DEFAULT_OPTIONS),Oe.b.setAcceptHeader("application/sparql-results+json",n),Oe.b.setContentTypeHeader("application/sparql-query",n),Oe.a.post(t,r,n,e.RESULTS_PARSER)},e.executeASKQuery=function(t,r,n){return void 0===n&&(n={}),e.executeRawASKQuery(t,r,n).then((function(e){var t=e[0],r=e[1];return[t.boolean,r]}))},e.executeRawSELECTQuery=function(t,r,n){return void 0===n&&(n={}),n=Object.assign(n,e.DEFAULT_OPTIONS),Oe.b.setAcceptHeader("application/sparql-results+json",n),Oe.b.setContentTypeHeader("application/sparql-query",n),Oe.a.post(t,r,n,e.RESULTS_PARSER)},e.executeSELECTQuery=function(t,r,n,i){return void 0===i&&(i={}),e.executeRawSELECTQuery(t,r,i).then((function(t){for(var r=t[0],i=t[1],o=[],a=0,s=r.results.bindings;a<s.length;a++){var u=s[a],c={};for(var f in u){var l=u[f];c[f]=e.__parseRawBindingProperty(l,n)}o.push(c)}return[{vars:r.head.vars,bindings:o},i]}))},e.executeRawCONSTRUCTQuery=function(t,r,n){return void 0===n&&(n={}),n=Object.assign(n,e.DEFAULT_OPTIONS),Oe.b.setAcceptHeader("application/ld+json",n),Oe.b.setContentTypeHeader("application/sparql-query",n),Oe.a.post(t,r,n,e.STRING_PARSER)},e.executeRawDESCRIBEQuery=function(t,r,n){return void 0===n&&(n={}),n=Object.assign(n,e.DEFAULT_OPTIONS),Oe.b.setAcceptHeader("application/ld+json",n),Oe.b.setContentTypeHeader("application/sparql-query",n),Oe.a.post(t,r,n,e.STRING_PARSER)},e.executeUPDATE=function(t,r,n){return void 0===n&&(n={}),n=Object.assign(n,e.DEFAULT_OPTIONS),Oe.b.setAcceptHeader("application/ld+json",n),Oe.b.setContentTypeHeader("application/sparql-update",n),Oe.a.post(t,r,n)},e.__parseRawBindingProperty=function(e,t){switch(e.type){case"uri":return k(t,e.value);case"bnode":throw new Ee("BNodes cannot be queried directly");case"literal":return"datatype"in e?ue.parse(e.value,e.datatype):ue.parse(e.value);default:throw new T.a("The bindingProperty has an unsupported type")}},e.DEFAULT_OPTIONS={},e.RESULTS_PARSER=new xi,e.STRING_PARSER=new Si,e}(),ji=r(10),Ai={targetMembers:{"@id":je.targetMember,"@type":"@id","@container":"@set"}},Ci={TYPE:je.AddMemberAction,SCHEMA:Ai,is:function(e){return we.is(e)&&e.$hasType(Ci.TYPE)},create:function(e){var t=Object.assign({},e);return Ci.createFrom(t)},createFrom:function(e){var t=we.createFrom(e);return t.$addType(Ci.TYPE),t}},Ii={targetMembers:{"@id":je.targetMember,"@type":"@id","@container":"@set"}},Di={TYPE:je.RemoveMemberAction,SCHEMA:Ii,is:function(e){return we.is(e)&&e.$hasType(Di.TYPE)},create:function(e){var t=Object.assign({},e);return Di.createFrom(t)},createFrom:function(e){var t=we.createFrom(e);return t.$addType(Di.TYPE),t}},Mi={documentsMetadata:{"@id":je.documentMetadata,"@type":"@id","@container":"@set"}},Fi={TYPE:je.ResponseMetadata,SCHEMA:Mi,is:function(e){return wi.is(e)&&e.$hasType(Fi.TYPE)}},Ni=function(){function e(){this.token="ldpatch",this.prologues=[],this.statements=[]}return e.prototype.toString=function(){return this.prologues.concat(this.statements).join(" ")},e}(),ki=function(){function e(e,t){this.token="prefix",this.namespace=e,this.iri=t}return e.prototype.toString=function(){return"@prefix "+this.namespace+": "+this.iri+"."},e}(),Li=function(){function e(){this.token="add",this.triples=[]}return e.prototype.toString=function(){return"Add { "+this.triples.join(". ")+". }."},e}(),$i=function(){function e(){this.token="delete",this.triples=[]}return e.prototype.toString=function(){return"Delete { "+this.triples.join(". ")+". }."},e}(),Ui=function(){function e(e,t,r,n){this.token="updateList",this.subject=e,this.predicate=t,this.slice=r,this.collection=n}return e.prototype.toString=function(){return"UpdateList "+this.subject+" "+this.predicate+" "+this.slice+" "+this.collection+"."},e}(),Yi=function(){function e(e,t){this.token="slice",Object(_.isNumber)(e)&&(this.minIndex=e),Object(_.isNumber)(t)&&(this.maxIndex=t)}return e.prototype.toString=function(){var e="..";return void 0!==this.minIndex&&(e=this.minIndex+e),void 0!==this.maxIndex&&(e+=this.maxIndex),e},e}(),qi=new he;qi.literal=!1,qi.pointerType=be.ID,qi.containerType=F.SET;var Bi=function(){function e(e){this.prefixesMap=new Map,this.context=e,this.addToken=new Li,this.deleteToken=new $i,this.updateLists=[]}return e.prototype.getPatch=function(){var e,t=new Ni;return this.prefixesMap.forEach((function(e){return t.prologues.push(e)})),(e=t.statements).push.apply(e,this.updateLists),this.addToken.triples.length&&t.statements.push(this.addToken),this.deleteToken.triples.length&&t.statements.push(this.deleteToken),""+t},e.prototype.addResource=function(e,t,r){var n,i=this,o=this.__getSchema(e,t,r),a=b(e)?new Ot(e):this.__compactIRI(o,e),s=[],u=new or(a),c=new or(a);new Set(["types"].concat(Object.keys(t),Object.keys(r))).forEach((function(e){if("$id"!==e){var n,f,l,p,h="types"===e?"a":i._getPropertyIRI(o,e),d="a"===h?qi:o.getProperty(e),g=t[e],y=r[e];if(d&&d.containerType===F.LIST&&Object(_._isExistingValue)(g)){var v=[];if(Object(_._isExistingValue)(y)?(d.containerType=F.SET,v.push.apply(v,function(e,t){var r=function(e,t){return{identifier:""+e,object:e,index:t}},n=e.map(r),i=t.map(r),o=new Set(i),a=[],s=0,u=i;n.forEach((function(e){var t=u.findIndex((function(t){return t.identifier===e.identifier}));-1===t?(e.index-=s++,a.push(e)):(o.delete(u[t]),u=u.slice(t+1))}));var c,f=[];return a.forEach((function(e){c&&c.slice[0]===e.index?c.slice=[c.slice[0],c.slice[1]+1]:f.push(c={slice:[e.index,e.index+1],objects:[]})})),c=void 0,o.forEach((function(e){if(c&&c.slice[1]===e.index)return c.slice=[c.slice[0],e.index+1],void c.objects.push(e.object);f.push(c={slice:[e.index,e.index+1],objects:[e.object]})})),f}(i.__getObjects(g,o,d),i.__getObjects(y,o,d)))):(c.addProperty(new Zt(h).addObject(new St)),v.push({slice:[0,void 0],objects:[]})),!v.length)return;i.__addPrefixFrom(h,o),v.forEach((function(e){var t=new St;e.objects.forEach((function(e){t.addObject(e),i.__addPrefixFrom(e,o)})),s.push(new Ui(a,h,e.objects.length?new Yi(e.slice[0],e.slice[0]):new(Yi.bind.apply(Yi,[void 0].concat(e.slice))),t))}))}else{var m=i.__getObjects(g,o,d),b=i.__getObjects(y,o,d),w=(n=m,f=function(e){return[""+e,e]},l=new Map(b.map(f)),p=new Map(n.map(f)),l.forEach((function(e,t){p.has(t)&&(p.delete(t),l.delete(t))})),{toAdd:Array.from(l.values()),toDelete:Array.from(p.values())}),P=function(e,t){if(e.length){var r=new Zt(h);e.forEach((function(e){r.addObject(e),i.__addPrefixFrom(e,o)})),t.addProperty(r)}};P(w.toAdd,u),P(w.toDelete,c)}}})),(n=this.updateLists).push.apply(n,s),s.forEach((function(e){return i.__addPrefixFrom(e.predicate,o)})),u.properties.length&&this.addToken.triples.push(u),u.properties.forEach((function(e){return i.__addPrefixFrom(e.verb,o)})),c.properties.length&&this.deleteToken.triples.push(c),c.properties.forEach((function(e){return i.__addPrefixFrom(e.verb,o)})),this.__addPrefixFrom(a,o)},e.prototype.__getSchema=function(e,t,r){var n=new Set;"types"in t&&t.types.forEach(n.add,n),"types"in r&&r.types.forEach(n.add,n);var i={$id:e,types:Array.from(n)},o=this.context.registry.getSchemaFor(i),a=t.$_queryableMetadata||t.$_queryableMetadata;return a?Se._combineSchemas([o,a.getSchema()]):o},e.prototype._getPropertyIRI=function(e,t){var r=e.properties.get(t),n=r&&r.uri?r.uri:t;return this.__compactIRI(e,n)},e.prototype.__getObjects=function(e,t,r){var n,i=(Array.isArray(e)?r&&null===r.containerType?e.slice(0,1):e:[e]).filter(_._isExistingValue);if(r&&r.containerType===F.LIST){if(!Object(_._isExistingValue)(e))return[];var o=new St;return(n=o.objects).push.apply(n,this.__expandValues(i,t,r)),[o]}return r&&r.containerType===F.LANGUAGE?this.__expandLanguageMap(i,t):this.__expandValues(i,t,r)},e.prototype.__expandValues=function(e,t,r){var n=this,i=r&&null!==r.literal?r.literal:null;return e.map((function(e){return(null!==i?i:!x.is(e))?n.__expandLiteral(e,t,r):n.__expandPointer(e,t)})).filter(_._isExistingValue)},e.prototype.__expandLanguageMap=function(e,t){var r=this;if(!e.length)return[];var n=e[0];return Object.keys(n).map((function(e){var i=n[e],o=new he;return o.language=e,o.literalType=se.string,r.__expandLiteral(i,t,o)})).filter(_._isExistingValue)},e.prototype.__expandPointer=function(e,t){var r=x.is(e)?e.$id:e;return Object(_.isString)(r)?b(r)?new Ot(r):this.__compactIRI(t,r):null},e.prototype.__expandLiteral=function(e,t,r){var n=r&&r.literalType?r.literalType:le(e);return null!==n&&this.context.jsonldConverter.literalSerializers.has(n)?(e=this.context.jsonldConverter.literalSerializers.get(n).serialize(e),n!==se.string?new tr(e,this.__compactIRI(t,n)):r&&"string"==typeof r.language?new tr(e,new Lt(r.language)):new Ut(e)):null},e.prototype.__compactIRI=function(e,t){t=e.resolveURI(t,{vocab:!0});var r=Array.from(e.prefixes.entries()).find((function(e){var r=e[1];return t.startsWith(r)}));return r?new Jt(r[0],t.substr(r[1].length)):new Nt(t)},e.prototype.__addPrefixFrom=function(e,t){var r=this;if("a"!==e){if("objects"in e)return e.objects.forEach((function(e){r.__addPrefixFrom(e,t)}));if("type"in e)return this.__addPrefixFrom(e.type,t);if("prefixedName"===e.token){var n=e.namespace;if(!this.prefixesMap.has(n)){var i=t.prefixes.get(n);this.prefixesMap.set(n,new ki(n,new Nt(i)))}}}},e}();var Vi={PROTOTYPE:{get:function(e,t){var r=this;if(!this.context.registry.inScope(e,!0))return Promise.reject(new T.a('"'+e+'" is out of scope.'));var n=this.context.getObjectSchema().resolveURI(e,{base:!0});if(this.context.registry.hasPointer(n,!0)){var i=this.context.registry.getPointer(n,!0);if(i.$isResolved()&&(!t||!t.ensureLatest))return Promise.resolve(i)}return Oe.a.get(n,t).then((function(e){return r._parseResponseData(e,n)}))},resolve:function(e,t){return this.get(e.$id,t)},exists:function(e,t){if(!this.context.registry.inScope(e,!0))return Promise.reject(new T.a('"'+e+'" is out of scope.'));var r=this.context.getObjectSchema().resolveURI(e,{base:!0});return Oe.a.head(r,t).then((function(){return!0})).catch((function(e){return!("response"in e&&404===e.response.status)&&Promise.reject(e)}))},refresh:function(e,t){var r=this;if(!ke.is(e))return Promise.reject(new T.a("The resource isn't a resolvable pointer."));if(!this.context.registry.inScope(e.$id,!0))return Promise.reject(new T.a('"'+e.$id+'" is out of scope.'));var n=this.context.getObjectSchema().resolveURI(e.$id,{base:!0});return Oe.a.get(n,t).then((function(e){return r._parseResponseData(e,n)})).catch((function(t){return"response"in t&&304===t.response.status?e:Promise.reject(t)}))},save:function(e,t){if(!ke.is(e))return Promise.reject(new T.a("The resource isn't a resolvable pointer."));if(!this.context.registry.inScope(e.$id,!0))return Promise.reject(new T.a('"'+e.$id+'" is out of scope.'));var r=this.context.getObjectSchema().resolveURI(e.$id,{base:!0});if(!e.$isDirty())return Promise.resolve(e);var n=JSON.stringify(e);return Oe.a.put(r,n,t).then((function(){return e}))},saveAndRefresh:function(e,t){var r=this;return this.save(e,t).then((function(){return r.refresh(e,t)}))},delete:function(e,t){var r=this;if(!this.context.registry.inScope(e,!0))return Promise.reject(new T.a('"'+e+'" is out of scope.'));var n=this.context.getObjectSchema().resolveURI(e,{base:!0});return Oe.a.delete(n,t).then((function(){r.context.registry.removePointer(n)}))},_parseResponseData:function(e,t){return g.b(this,void 0,void 0,(function(){var r;return g.d(this,(function(n){return(r=this.context.registry.getPointer(t,!0)).$eTag=e.getETag(),r.$_resolved=!0,[2,r]}))}))}},isDecorated:function(e){return P.hasPropertiesFrom(Vi.PROTOTYPE,e)},decorate:function(e){if(Vi.isDecorated(e))return e;var t=P.decorateMultiple(e,lt);return P.definePropertiesFrom(Vi.PROTOTYPE,t)}},Hi=new Re;function zi(e,t){t&&Oe.b.setPreferredInteractionModel(t,e),Oe.b.setAcceptHeader("application/ld+json",e)}function Gi(e){return Fe(e.context.registry)}function Wi(e,t,r){return 204!==r.status&&r.data?Hi.parse(r.data).then((function(n){var i=Ie.getFreeNodes(n);!function(e,t){if(t.length){var r=_e.parseFreeNodes(e.context.registry,t).getPointers(!0).find(Fi.is);r&&r.documentsMetadata.forEach((function(e){return t=e.relatedDocument,void e.bNodesMap.entries.forEach((function(e){var r=e.entryKey,n=e.entryValue,i=t.$getPointer(r.$id,!0);t.$removePointer(r.$id),i.$id=n.$id,t.$_addPointer(i)}));var t}))}}(e,i);var o=r.getHeader("Preference-Applied");return null!==o&&o.hasValue("return=representation")?e._parseResponseData(r,t.$id):t})):t}function Xi(e){return ke.is(e)}function Qi(e){return e.__CarbonLDP_persisting__}function Ji(e,t,r,n,i){if(ke.is(n))throw new T.a("Cannot persist an already resolvable pointer.");var o=He.is(n)?n:He.decorate(n);o.$_normalize(),o.$registry=e.context.registry;var a=JSON.stringify(o);return i&&Oe.b.setSlug(i,r),Object.defineProperty(o,"__CarbonLDP_persisting__",{configurable:!0,value:!0}),Oe.a.post(t,a,r).then((function(t){delete o.__CarbonLDP_persisting__;var r=t.getHeader("Location");if(null===r||r.values.length<1)throw new ji.a("The response is missing a Location header.",t);if(1!==r.values.length)throw new ji.a("The response contains more than one Location header.",t);o.$id=r.values[0].toString();var n=e.context.registry._addPointer(o);return n.$getFragments().forEach(n.$__modelDecorator.decorate),Wi(e,n,t)})).catch((function(t){return delete o.__CarbonLDP_persisting__,Gi(e)(t)}))}function Ki(e,t,r,n,i,o){if(!t.context.registry.inScope(r,!0))return Promise.reject(new T.a('"'+r+'" is out of scope.'));var a=t.context.getObjectSchema().resolveURI(r,{base:!0});o=Oe.b.isOptions(i)?i:o||{};var s=Object(_.isString)(i)||Array.isArray(i)?i:null;if(zi(o,Ye.Container),Oe.b.setPreferredRetrieval(e,o),Oe.b.setContentTypeHeader("application/ld+json",o),!Array.isArray(n))return Xi(n)?Promise.reject(new T.a("The object is already a resolvable pointer.")):Qi(n)?Promise.reject(new T.a("The object is already being persisted.")):Ji(t,a,o,n,s?s.toString():void 0);var u=n.findIndex((function(e){return Xi(e)}));if(-1!==u)return Promise.reject(new T.a('The object in "'+u+'" is already a resolvable pointer.'));var c=n.findIndex((function(e){return Qi(e)}));if(-1!==c)return Promise.reject(new T.a('The object in "'+c+'" is already being persisted.'));var f=n.map((function(e,r){var n=Oe.b.cloneOptions(o),i=s&&r<s.length?s[r]:void 0;return Ji(t,a,n,e,i)}));return Promise.all(f)}function Zi(e,t,r){if(!ke.is(t))return Promise.reject(new T.a("The document isn't a resolvable pointer."));if(!e.context.registry.inScope(t.$id))return Promise.reject(new T.a('"'+t.$id+'" is out of scope.'));var n=e.context.getObjectSchema().resolveURI(t.$id,{base:!0});if(!t.$isDirty())return Promise.resolve(t);t.$_normalize(),zi(r),Oe.b.setContentTypeHeader("text/ldpatch",r),Oe.b.setIfMatchHeader(t.$eTag,r);var i=new Bi(e.context);i.addResource(t.$id,t.$_snapshot,t),t.$getPointers(!0).forEach((function(e){i.addResource(e.$id,e.$_snapshot,e)})),t.$__savedFragments.filter((function(e){return!t.$hasPointer(e.$id)})).forEach((function(e){i.addResource(e.$id,e.$_snapshot,{})}));var o=i.getPatch();return Oe.a.patch(n,o,r).then((function(r){return Wi(e,t,r)})).catch(Gi(e))}function eo(e,t){return t.map((function(t){return Object(_.isString)(t)?e.getPointer(t):x.is(t)?t:void 0})).filter((function(e){return!!e}))}function to(e,t,r,n){if(void 0===n&&(n={}),!e.context.registry.inScope(t,!0))return Promise.reject(new T.a('"'+t+'" is out of scope.'));var i=e.context.getObjectSchema().resolveURI(t,{base:!0});zi(n,Ye.Container),Oe.b.setContentTypeHeader("application/ld+json",n);var o=_e.createFrom({registry:e.context.registry}),a=eo(e.context.registry,r);o._addPointer(Ci.createFrom({targetMembers:a}));var s=JSON.stringify(o);return Oe.a.put(i,s,n).then((function(){})).catch(Gi(e))}function ro(e,t,r,n){if(void 0===n&&(n={}),!e.context.registry.inScope(t,!0))return Promise.reject(new T.a('"'+t+'" is out of scope.'));var i=e.context.getObjectSchema().resolveURI(t,{base:!0});zi(n,Ye.Container),Oe.b.setContentTypeHeader("application/ld+json",n),Oe.b.setRetrievalPreferences({include:[je.PreferSelectedMembershipTriples],omit:[je.PreferMembershipTriples]},n);var o=_e.createFrom({registry:e.context.registry}),a=eo(e.context.registry,r);o._addPointer(Di.createFrom({targetMembers:a}));var s=JSON.stringify(o);return Oe.a.delete(i,s,n).then((function(){})).catch(Gi(e))}var no={PROTOTYPE:{get:function(e,t){return void 0===t&&(t={}),zi(t,Ye.RDFSource),Vi.PROTOTYPE.get.call(this,e,t).catch(Gi(this))},exists:function(e,t){return void 0===t&&(t={}),zi(t,Ye.RDFSource),Vi.PROTOTYPE.exists.call(this,e,t).catch(Gi(this))},create:function(e,t,r,n){return Ki("minimal",this,e,t,r,n)},createAndRetrieve:function(e,t,r,n){return Ki("representation",this,e,t,r,n)},refresh:function(e,t){return void 0===t&&(t={}),zi(t,Ye.RDFSource),Oe.b.setIfNoneMatchHeader(e.$eTag,t),Vi.PROTOTYPE.refresh.call(this,e,t).catch(Gi(this))},save:function(e,t){return void 0===t&&(t={}),Oe.b.setPreferredRetrieval("minimal",t),Zi(this,e,t)},saveAndRefresh:function(e,t){return void 0===t&&(t={}),Oe.b.setPreferredRetrieval("representation",t),Zi(this,e,t)},delete:function(e,t){return void 0===t&&(t={}),zi(t,Ye.RDFSource),Vi.PROTOTYPE.delete.call(this,e,t).catch(Gi(this))},addMember:function(e,t,r){return to(this,e,[t],r)},addMembers:function(e,t,r){return to(this,e,t,r)},removeMember:function(e,t,r){return ro(this,e,[t],r)},removeMembers:function(e,t,r){return Array.isArray(t)?ro(this,e,t,r):function(e,t,r){if(void 0===r&&(r={}),!e.context.registry.inScope(t,!0))return Promise.reject(new T.a('"'+t+'" is out of scope.'));var n=e.context.getObjectSchema().resolveURI(t,{base:!0});return zi(r,Ye.Container),Oe.b.setRetrievalPreferences({include:[je.PreferMembershipTriples],omit:[je.PreferMembershipResources,je.PreferContainmentTriples,je.PreferContainmentResources,je.PreferContainer]},r),Oe.a.delete(n,r).then((function(){})).catch(Gi(e))}(this,e,t||r)},_parseResponseData:function(e,t){var r=this;return Hi.parse(e.data).then((function(n){var i=Ie.getDocuments(n);t=function(e,t){var r=t.getHeader("Content-Location");if(!r)return e;if(1!==r.values.length)throw new ji.a("The response must contain one Content-Location header.",t);var n=""+r;if(!n)throw new ji.a("The response doesn't contain a valid 'Content-Location' header.",t);return n}(t,e);var o=i.find((function(e){return e["@id"]===t}));if(!o)throw new ji.a('No document "'+t+'" was returned.',e);var a=r.context.registry.register(t),s=new Set;a.$getPointers(!0).forEach((function(e){return s.add(e.$id)}));var u=o["@graph"].map((function(e){var t=a.$getPointer(e["@id"]),n=r.context.registry.getSchemaFor(e);return r.context.jsonldConverter.update(t,e,n,a),"$document"in t&&s.delete(t.$id),t}));return s.forEach((function(e){return a.$removePointer(e)})),u.forEach((function(e){e.$_syncSnapshot(),r.context.registry.decorate(e)})),a.$eTag=e.getETag(),a.$_resolved=!0,a}))}},isDecorated:function(e){return P.hasPropertiesFrom(no.PROTOTYPE,e)},decorate:function(e){if(no.isDecorated(e))return e;var t=P.decorateMultiple(e,Vi);return P.definePropertiesFrom(no.PROTOTYPE,t)}};function io(e,t){var r="containerPropertyType"in e._queryProperty?new mi(e,e._queryProperty):new yi(e,e._queryProperty);if(void 0!==t.rootType&&e._queryProperty.setType(t.rootType),t.queryBuilderFn&&t.queryBuilderFn.call(void 0,r)!==r)throw new T.a("The provided query builder was not returned")}function oo(e,t){if(!("order"in e._queryProperty&&e._queryProperty.order))return t;var r=e._queryProperty.order,n=r.path,i="DESC"===r.flow?-1:1;return t.sort((function(e,t){e=ii(e,n),t=ii(t,n);var r=x.is(e)?e.$id:e,o=x.is(t)?t.$id:t;if(r===o)return 0;if(void 0===r)return-1*i;if(void 0===o)return i;if(function(e,t){return typeof e!=typeof t||"object"==typeof e&&e instanceof Date!=t instanceof Date}(e,t)){if(x.is(e))return-1*i;if(x.is(t))return i;if(Object(_.isNumber)(e))return-1*i;if(Object(_.isNumber)(t))return i;if(Object(_.isDate)(e))return-1*i;if(Object(_.isDate)(t))return i;if(Object(_.isBoolean)(e))return-1*i;if(Object(_.isBoolean)(t))return i;if(Object(_.isString)(e))return-1*i;if(Object(_.isString)(t))return i}else if(x.is(e)){var a=E.isBNodeID(r),s=E.isBNodeID(o);if(a&&!s)return-1*i;if(s&&!a)return i}return r<o?-1*i:r>o?i:0}))}function ao(e,t,r,n){var i,o,a,s=(i=(o=(new At).addTriple(new or(new Nt("cldp-sdk://metadata-"+_.UUIDUtils.generate())).addProperty(new Zt("a").addObject(n.compactIRI(je.VolatileResource)).addObject(n.compactIRI(je.QueryMetadata))).addProperty(new Zt(n.compactIRI(je.target)).addObject(n._queryProperty.identifier)))).addTriple.apply(o,n._queryProperty.getConstructPatterns())).addPattern.apply(i,n._queryProperty.getSearchPatterns()),u=(a=new er(s)).addPrologues.apply(a,n.getPrologues());return Oe.b.setRetrievalPreferences({include:[je.PreferResultsContexts]},r),Ri.executeRawCONSTRUCTQuery(t,u.toString(),r).then((function(e){return e[0]})).then((function(e){return(new Re).parse(e)})).then((function(t){var r=Ie.getFreeNodes(t),i=_e.parseFreeNodes(e.context.registry,r).getPointers(!0).filter(Pi.is).map((function(e){return e.targets})).reduce((function(e,t){return e.concat(t)}),[]).map((function(e){return e.$id})),o=t.filter(Ie.is);return new Oi(e.context.registry,n).compactDocuments(o,i)})).then((function(e){return oo(n,e)})).catch(Fe(e.context.registry))}function so(e,t,r,n){if(!e.context.registry.inScope(t,!0))return Promise.reject(new T.a('"'+t+'" is out of scope.'));var i=e.context.getObjectSchema().resolveURI(t,{base:!0}),o=new li(e.context,{containerPropertyType:n.containerPropertyType,uri:i});return io(o,n),ao(e,i,r,o)}function uo(e,t,r,n){for(var i=0,o=t;i<o.length;i++){var a=o[i];if(!e.context.registry.inScope(a,!0))return Promise.reject(new T.a('"'+a+'" is out of scope.'))}var s=t.map((function(t){return e.context.getObjectSchema().resolveURI(t,{base:!0})})),u=new li(e.context,{uris:s});io(u,n);var c=1===s.length?s[0]:e.context.baseURI;return Oe.b.setRetrievalPreferences({include:[je.PreferDocumentChecksums]},r),ao(e,c,r,u)}function co(e,t,r){if(void 0===r&&(r={}),!e.context.registry.inScope(t.$id,!0))return Promise.reject(new T.a('"'+t.$id+'" is out of scope.'));var n=e.context.getObjectSchema().resolveURI(t.$id,{base:!0}),i=new li(e.context,{uris:[n]});return function e(t,r){r.subProperties.forEach((function(r,n){e(t._addSubProperty(n,r),r)}))}(i._queryProperty,t.$_queryableMetadata),Oe.b.setRetrievalPreferences({include:[je.PreferDocumentChecksums]},r),ao(e,n,r,i).then((function(e){return e[0]}))}var fo={PROTOTYPE:{get:function(e,t,r){var n="object"==typeof t?t:{};if(r=Object(_.isFunction)(t)?t:r,"string"!=typeof e)return uo(this,e,n,{rootType:r?void 0:ri.FULL,queryBuilderFn:r});var i=e,o=this.context.registry.hasPointer(i)?this.context.registry.getPointer(i,!0):void 0;if(r){var a=o?o.types:[];return function(e,t,r,n){return uo(e,[t],r,{queryBuilderFn:n}).then((function(e){return e[0]}))}(this,i,n,(function(e){return a.forEach((function(t){return e.withType(t)})),r.call(void 0,e)}))}return o&&o.$isQueried()&&(n.ensureLatest=!0),no.PROTOTYPE.get.call(this,i,n).then((function(e){if(!e.$_queryableMetadata)return e;var t=e.$getFragments();return t.push(e),t.forEach((function(e){e.$_queryableMetadata=void 0})),e}))},resolve:function(e,t,r){return this.get(e.$id,t,r)},refresh:function(e,t){return e.$isQueried()?co(this,e,t):no.PROTOTYPE.refresh.call(this,e,t)},saveAndRefresh:function(e,t){var r=this;if(!e.$_queryableMetadata)return no.PROTOTYPE.saveAndRefresh.call(this,e,t);if(null===e.$eTag)return Promise.reject(new lr('The document "'+e.$id+'" is locally outdated and cannot be saved.'));var n=Oe.b.cloneOptions(t||{});return this.save(e,n).then((function(e){return co(r,e,t)}))},getChildren:function(e,t,r){var n="object"==typeof t?t:{};return r=Object(_.isFunction)(t)?t:r,Oe.b.setRetrievalPreferences({include:[je.PreferDocumentChecksums]},n),so(this,e,n,{rootType:r?void 0:ri.FULL,containerPropertyType:ei.CHILD,queryBuilderFn:r})},getMembers:function(e,t,r){var n="object"==typeof t?t:{};return r=Object(_.isFunction)(t)?t:r,Oe.b.setRetrievalPreferences({include:[je.PreferDocumentChecksums]},n),so(this,e,n,{rootType:r?void 0:ri.FULL,containerPropertyType:ei.MEMBER,queryBuilderFn:r})},listChildren:function(e,t){return void 0===t&&(t={}),so(this,e,t,{containerPropertyType:ei.CHILD,rootType:ri.EMPTY})},listMembers:function(e,t){return void 0===t&&(t={}),so(this,e,t,{rootType:ri.EMPTY,containerPropertyType:ei.MEMBER})}},isDecorated:function(e){return P.hasPropertiesFrom(fo.PROTOTYPE,e)},decorate:function(e){if(fo.isDecorated(e))return e;var t=P.decorateMultiple(e,no);return P.definePropertiesFrom(fo.PROTOTYPE,t)}},lo=function(e){function t(){var t=e.call(this)||this;return t.token="ask",t.datasets=[],t}return g.c(t,e),t.prototype.toString=function(e){var t="ASK",r=bt(e);return this.datasets.length&&(t+=r+this.datasets.join(r)),t+=r+this.where.toString(e),this.modifiers.length&&(t+=r+this.modifiers.join(r)),t},t}(jt);function po(e,t){return function(r){var n,i=new dr(t.iriResolver),o=function(e,t){var r=t(Yn.create(e));return(Array.isArray(r)?r:[r]).map((function(e){return e.getPattern()}))}(i,r),a=(n=br(t.targetToken.queryClause,{where:new Rt})).addPattern.apply(n,o),s=br(t.targetToken,{queryClause:a}),u=br(t,{iriResolver:i,targetToken:s}),c=Qn.createFrom(e,u,{});return e(u,c)}}var ho=function(e,t,r){return Object.assign(r,{where:po(e,t)})};function go(e,t,r){return function(n){var i=new dr(t.iriResolver),o=t.targetToken.queryClause.datasets.concat(new It(i.resolve(n),r)),a=br(t.targetToken.queryClause,{datasets:o}),s=br(t.targetToken,{queryClause:a}),u=br(t,{iriResolver:i,targetToken:s});return yo.createFrom(e,u,{})}}var yo={createFrom:function(e,t,r){return ho(e,t,Object.assign(r,{from:go(e,t),fromNamed:go(e,t,!0)}))}};function vo(e,t){return function(){var r=new lo,n=br(t.targetToken,{queryClause:r}),i=new pr({iriResolver:t.iriResolver,targetToken:n});return yo.createFrom(e,i,{})}}var mo={createFrom:function(e,t,r){return Object.assign(r,{ask:vo(e,t)})}};function bo(e,t,r){return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var o=new nr(r);n.length&&o.addVariable.apply(o,n.map((function(e){return new fr(e)})));var a=br(t.targetToken,{queryClause:o}),s=new pr({iriResolver:t.iriResolver,targetToken:a});return yo.createFrom(e,s,{})}}var wo={createFrom:function(e,t,r){return Object.assign(r,{select:bo(e,t),selectDistinct:bo(e,t,"DISTINCT"),selectReduced:bo(e,t,"REDUCED"),selectAll:function(){return bo(e,t)()},selectAllDistinct:function(){return bo(e,t,"DISTINCT")()},selectAllReduced:function(){return bo(e,t,"REDUCED")()}})}};function _o(e){var t=new yt(new Nt(e)),r=this.targetToken.prologues.concat(t),n=br(this.targetToken,{prologues:r}),i=br(this,{targetToken:n});return Eo.createFrom(i,{})}function Po(e){var t=br(this,{iriResolver:new dr(this.iriResolver,e)});return Eo.createFrom(t,{})}function To(e,t){var r=new dr(this.iriResolver),n=this.targetToken.prologues.slice();if(r.prefixes.has(e)){var i=n.findIndex((function(t){return"prefix"===t.token&&t.namespace===e}));-1!==i&&n.splice(i,1)}n.push(new Kt(e,new Nt(t))),r.prefixes.set(e,!1);var o=br(this.targetToken,{prologues:n}),a=br(this,{iriResolver:r,targetToken:o});return Eo.createFrom(a,{})}var Eo={createFrom:function(e,t){var r=wo.createFrom.bind(null,e.selectFinishClauseFactory),n=mo.createFrom.bind(null,e.askFinishClauseFactory);return hr.createFrom(r,n)(e,Object.assign(t,{base:_o.bind(e),vocab:Po.bind(e),prefix:To.bind(e)}))}},Oo=function(e,t){void 0===e&&(e=yr.createFrom),void 0===t&&(t=yr.createFrom);var r=new gr({iriResolver:new dr,targetToken:new er(void 0),selectFinishClauseFactory:e,askFinishClauseFactory:t});return Eo.createFrom(r,this)};var So,xo=function(e){function t(t,r){var n=function(e,t){return function(r,n){var i=yr.createFrom(r,n);return Object.assign(i,{execute:function(){return e.executeSELECTQuery(t,i.toCompactString())}})}}(t,r),i=function(e,t){return function(r,n){var i=yr.createFrom(r,n);return Object.assign(i,{execute:function(){return e.executeASKQuery(t,i.toCompactString())}})}}(t,r);return e.call(this,n,i)||this}return g.c(t,e),t}(Oo),Ro={PROTOTYPE:{executeASKQuery:function(e,t,r){if(!this.context.registry.inScope(e,!0))return Promise.reject(new T.a('"'+e+'" is out of scope.'));var n=this.context.getObjectSchema().resolveURI(e,{base:!0});return r=r||{},Oe.b.setAcceptHeader("application/ld+json; q=0.9",r),Ri.executeASKQuery(n,t,r).then((function(e){return e[0]})).catch(Fe(this.context.registry))},executeSELECTQuery:function(e,t,r){if(!this.context.registry.inScope(e,!0))return Promise.reject(new T.a('"'+e+'" is out of scope.'));var n=this.context.getObjectSchema().resolveURI(e,{base:!0});return r=r||{},Oe.b.setAcceptHeader("application/ld+json; q=0.9",r),Ri.executeSELECTQuery(n,t,this.context.registry,r).then((function(e){return e[0]})).catch(Fe(this.context.registry))},executeUPDATE:function(e,t,r){if(!this.context.registry.inScope(e,!0))return Promise.reject(new T.a('"'+e+'" is out of scope.'));var n=this.context.getObjectSchema().resolveURI(e,{base:!0});return Ri.executeUPDATE(n,t,r).then((function(){})).catch(Fe(this.context.registry))},sparql:function(e){if(!this.context.registry.inScope(e,!0))throw new T.a('"'+e+'" is out of scope.');var t=this.context.getObjectSchema().resolveURI(e,{base:!0}),r=this.context.registry.getGeneralSchema(),n=new xo(this,t).base(r.base).vocab(r.vocab);return r.prefixes.forEach((function(e,t){n=n.prefix(t,e)})),n}},isDecorated:function(e){return P.hasPropertiesFrom(Ro.PROTOTYPE,e)},decorate:function(e){if(Ro.isDecorated(e))return e;var t=P.decorateMultiple(e,lt);return P.definePropertiesFrom(Ro.PROTOTYPE,t)}},jo={create:function(e){return jo.createFrom(g.a({},e))},createFrom:function(e){return P.decorateMultiple(e,fo,Ro,gt)},is:function(e){return Object(_.isObject)(e)&&fo.isDecorated(e)&&Ro.isDecorated(e)&&gt.isDecorated(e)}},Ao=r(46),Co=r.n(Ao),Io=r(47),Do={SCHEMA:{target:{"@id":je.target,"@type":"@id"}},is:function(e){return we.is(e)&&e.hasOwnProperty("target")}},Mo={maxReconnectAttempts:10,reconnectDelay:1e3},Fo=function(){function e(e){this.context=e,this._options=Mo,this._attempts=0,this._subscriptionsQueue=[]}return e.prototype.setOptions=function(e){this._options=g.a({},Mo,e)},e.prototype.connect=function(e,t){if(this._client){var r=new lr("The messaging service is already connect"+(this._client.connected?"ed":"ing")+".");throw t&&t(r),r}this._subscriptionsMap&&this._subscriptionsMap.clear(),this.reconnect(e,t)},e.prototype.reconnect=function(e,t){var r=this;void 0===t&&(t=this.__broadcastError.bind(this)),this._client?this._client.connected&&this._client.disconnect():this._attempts=0,this._subscriptionsMap||(this._subscriptionsMap=new Map);var n=new Co.a(this.context.resolve("/broker"));this._client=Io.over(n,{debug:!1,heartbeat:!1}),this._client.connect({},(function(){r._subscriptionsQueue.forEach((function(e){return e()})),r._subscriptionsQueue.length=0,r._attempts=0,e&&e()}),(function(n){var i,o=null===r._options.maxReconnectAttempts||r._options.maxReconnectAttempts>=r._attempts;if("reason"in n){if(o)return 1==++r._attempts&&r.__saveSubscriptions(),void setTimeout((function(){return r.reconnect(e,t)}),r._options.reconnectDelay);r._client=void 0,r._subscriptionsQueue.length=0,i="CloseEventError: "+n.reason}else if("body"in n){if(!r._client||!r._client.connected&&o)return;i=n.headers.message+": "+n.body.trim()}else i="Unknown error: "+n;t(new Error(i))}))},e.prototype.subscribe=function(e,t,r){this._client||this.connect(),this._subscriptionsMap.has(e)||this._subscriptionsMap.set(e,new Map);var n=this._subscriptionsMap.get(e);if(!n.has(t)){var i=_.UUIDUtils.generate();n.set(t,{id:i,errorCallback:r});var o=this.__makeSubscription(i,e,t,r);if(this._client.connected)return o();this._subscriptionsQueue.push(o)}},e.prototype.unsubscribe=function(e,t){if(this._client&&this._subscriptionsMap&&this._subscriptionsMap.has(e)){var r=this._subscriptionsMap.get(e);if(r.has(t)){var n=r.get(t).id;r.delete(t),0===r.size&&this._subscriptionsMap.delete(e),this._client.unsubscribe(n)}}},e.prototype.__broadcastError=function(e){this._subscriptionsMap&&this._subscriptionsMap.forEach((function(t){return t.forEach((function(t){t.errorCallback&&t.errorCallback(e)}))}))},e.prototype.__makeSubscription=function(e,t,r,n){var i=this;return function(){return i._client.subscribe(t,(function(e){(new Re).parse(e.body).then((function(e){var t=Ie.getResources(e),r=_e.parseFreeNodes(i.context.registry,t).getPointers(!0).find(Do.is);if(!r)throw new Error("No message was returned by the notification.");return r})).then(r).catch(n)}),{id:e})}},e.prototype.__saveSubscriptions=function(){var e=this;!this._subscriptionsQueue.length&&this._subscriptionsMap&&this._subscriptionsMap.forEach((function(t,r){return t.forEach((function(t,n){var i=e.__makeSubscription(t.id,r,n,t.errorCallback);e._subscriptionsQueue.push(i)}))}))},e}(),No={relatedDocument:{"@id":je.relatedDocument,"@type":"@id"},bNodesMap:{"@id":je.bNodesMap,"@type":"@id"}},ko={TYPE:je.DocumentMetadata,SCHEMA:No},Lo={errorCode:{"@id":je.errorCode,"@type":se.string},errorMessage:{"@id":je.errorMessage,"@language":"en"},errorParameters:{"@id":je.errorParameters,"@type":"@id"}},$o={TYPE:je.Error,SCHEMA:Lo},Uo={entries:{"@id":je.entry,"@type":"@id","@container":"@set"}},Yo={TYPE:je.Map,SCHEMA:Uo,is:function(e){return we.is(e)&&e.$hasType(Yo.TYPE)&&e.hasOwnProperty("entries")}},qo={SCHEMA:{entryKey:{"@id":je.entryKey},entryValue:{"@id":je.entryValue}}},Bo={errorDetails:{"@id":je.errorDetails,"@type":"@id"}},Vo={TYPE:je.ValidationError,SCHEMA:Bo},Ho={TYPE:je.ChildCreatedEvent,SCHEMA:g.a({},Do.SCHEMA,{details:{"@id":je.details,"@type":"@id"}})},zo={createdDocuments:{"@id":je.createdDocument,"@type":"@id","@container":"@set"}},Go={TYPE:je.DocumentCreatedEventDetails,SCHEMA:zo},Wo={TYPE:je.DocumentDeletedEvent,SCHEMA:Do.SCHEMA},Xo={TYPE:je.DocumentModifiedEvent,SCHEMA:Do.SCHEMA},Qo={TYPE:je.MemberAddedEvent,SCHEMA:g.a({},Do.SCHEMA,{details:{"@id":je.details,"@type":"@id"}})},Jo={SCHEMA:{members:{"@id":je.member,"@type":"@id","@container":"@set"}}},Ko={TYPE:je.MemberAddedEventDetails,SCHEMA:Jo.SCHEMA},Zo={TYPE:je.MemberRemovedEvent,SCHEMA:g.a({},Do.SCHEMA,{details:{"@id":je.details,"@type":"@id"}})},ea={TYPE:je.MemberRemovedEventDetails,SCHEMA:Jo.SCHEMA},ta={namespace:"http://www.w3.org/ns/shacl#",ValidationReport:"http://www.w3.org/ns/shacl#ValidationReport",ValidationResult:"http://www.w3.org/ns/shacl#ValidationResult",conforms:"http://www.w3.org/ns/shacl#conforms",detail:"http://www.w3.org/ns/shacl#detail",focusNode:"http://www.w3.org/ns/shacl#focusNode",result:"http://www.w3.org/ns/shacl#result",resultMessage:"http://www.w3.org/ns/shacl#resultMessage",resultPath:"http://www.w3.org/ns/shacl#resultPath",resultSeverity:"http://www.w3.org/ns/shacl#resultSeverity",shapesGraphWellFormed:"http://www.w3.org/ns/shacl#shapesGraphWellFormed",sourceConstraintComponent:"http://www.w3.org/ns/shacl#sourceConstraintComponent",sourceShape:"http://www.w3.org/ns/shacl#sourceShape",value:"http://www.w3.org/ns/shacl#value"},ra={conforms:{"@id":ta.conforms,"@type":se.boolean},results:{"@id":ta.result,"@type":"@id","@container":"@set"},shapesGraphWellFormed:{"@id":ta.shapesGraphWellFormed,"@type":se.boolean}},na={TYPE:ta.ValidationReport,SCHEMA:ra},ia={focusNode:{"@id":ta.focusNode,"@type":"@id"},resultPath:{"@id":ta.resultPath,"@type":"@id"},value:{"@id":ta.value},sourceShape:{"@id":ta.sourceShape,"@type":"@id"},sourceConstraintComponent:{"@id":ta.sourceConstraintComponent,"@type":"@id"},detail:{"@id":ta.detail,"@type":"@id"},resultMessage:{"@id":ta.resultMessage,"@type":se.string},resultSeverity:{"@id":ta.resultSeverity,"@type":"@id"}},oa={TYPE:ta.ValidationResult,SCHEMA:ia},aa={buildDate:{"@id":je.buildDate,"@type":se.dateTime},version:{"@id":je.version,"@type":se.string}},sa={TYPE:je.PlatformInstance,SCHEMA:aa},ua={instance:{"@id":je.instance,"@type":"@id"}},ca={TYPE:je.Platform,SCHEMA:ua},fa=function(e){function t(){var t=e.call(this,void 0)||this;return t._baseURI="",t._generalObjectSchema=new ge,t.registry=st.createFrom({context:t,__modelDecorator:ye}),t.__registerDefaultObjectSchemas(),t.__registerDefaultDecorators(),t}return g.c(t,e),t.prototype.__registerDefaultObjectSchemas=function(){this.extendObjectSchema(Ze).extendObjectSchema(ca).extendObjectSchema(sa).extendObjectSchema(Ci).extendObjectSchema(Di).extendObjectSchema($o).extendObjectSchema(Yo).extendObjectSchema(qo.SCHEMA).extendObjectSchema(ko).extendObjectSchema(Ce).extendObjectSchema(Fi).extendObjectSchema(Vo).extendObjectSchema(na).extendObjectSchema(oa).extendObjectSchema(Pi).extendObjectSchema(Ho).extendObjectSchema(Go).extendObjectSchema(Wo).extendObjectSchema(Xo).extendObjectSchema(Qo).extendObjectSchema(Ko).extendObjectSchema(Zo).extendObjectSchema(ea)},t.prototype.__registerDefaultDecorators=function(){},t.instance=new t,t}(it),la=function(e){function t(t){var r=e.call(this,fa.instance)||this;return r._baseURI=t,r.registry=ut.createFrom({context:r}),r.repository=jo.createFrom({context:r}),r.messaging=new Fo(r),r}return g.c(t,e),t.__mergePaths=function(e,r){if(!r)return e;if(!e)return _.ObjectUtils.clone(r,{objects:!0});for(var n=0,i=Object.keys(r);n<i.length;n++){var o=i[n],a=r[o];if(null!==a){var s=e[o];if(s){if(Object(_.isString)(a))Object(_.isObject)(s)?s.slug=a:e[o]=a;else if(void 0!==a.slug||void 0!==a.paths){var u=Object(_.isString)(s)?e[o]={slug:s}:s;void 0!==a.slug&&(u.slug=a.slug),void 0!==a.paths&&(u.paths=t.__mergePaths(u.paths,a.paths))}}else e[o]=Object(_.isObject)(a)?_.ObjectUtils.clone(a,{objects:!0}):a}else delete e[o]}return e},t.prototype._resolvePath=function(e){for(var t=e.split("."),r=[],n="",i=this._settings&&this._settings.paths;t.length;){var o=t.shift();r.push(o);var a=i?i[o]:null;if(!a)throw new lr('The path "'+r.join(".")+"\" hasn't been declared.");var s=Object(_.isString)(a)?a:a.slug;if(!s)throw new lr('The path "'+r.join(".")+"\" doesn't have a slug set.");n=E.resolve(n,s),i=Object(_.isObject)(a)?a.paths:void 0}return this.resolve(n)},t.prototype._extendPaths=function(e){this._settings.paths=t.__mergePaths(this._settings.paths,e)},t.prototype._extendsSettings=function(e){this._extendPaths(e.paths),delete e.paths,_.ObjectUtils.extend(this._settings,e)},t}(it),pa=r(21),ha=r(11),da=r(12),ga=r(17);!function(e){e[e.CONTINUE=100]="CONTINUE",e[e.SWITCHING_PROTOCOLS=101]="SWITCHING_PROTOCOLS",e[e.OK=200]="OK",e[e.CREATED=201]="CREATED",e[e.ACCEPTED=202]="ACCEPTED",e[e.NON_AUTHORITATIVE_INFORMATION=203]="NON_AUTHORITATIVE_INFORMATION",e[e.NO_CONTENT=204]="NO_CONTENT",e[e.RESET_CONTENT=205]="RESET_CONTENT",e[e.PARTIAL_CONTENT=206]="PARTIAL_CONTENT",e[e.MULTIPLE_CHOICES=300]="MULTIPLE_CHOICES",e[e.MOVED_PERMANENTLY=301]="MOVED_PERMANENTLY",e[e.FOUND=302]="FOUND",e[e.SEE_OTHER=303]="SEE_OTHER",e[e.NOT_MODIFIED=304]="NOT_MODIFIED",e[e.USE_PROXY=305]="USE_PROXY",e[e.TEMPORARY_REDIRECT=307]="TEMPORARY_REDIRECT",e[e.BAD_REQUEST=400]="BAD_REQUEST",e[e.UNAUTHORIZED=401]="UNAUTHORIZED",e[e.PAYMENT_REQUIRED=402]="PAYMENT_REQUIRED",e[e.FORBIDDEN=403]="FORBIDDEN",e[e.NOT_FOUND=404]="NOT_FOUND",e[e.METHOD_NOT_ALLOWED=405]="METHOD_NOT_ALLOWED",e[e.NOT_ACCEPTABLE=406]="NOT_ACCEPTABLE",e[e.PROXY_AUTHENTICATION_REQUIRED=407]="PROXY_AUTHENTICATION_REQUIRED",e[e.REQUEST_TIME_OUT=408]="REQUEST_TIME_OUT",e[e.CONFLICT=409]="CONFLICT",e[e.GONE=410]="GONE",e[e.LENGTH_REQUIRED=411]="LENGTH_REQUIRED",e[e.PRECONDITION_FAILED=412]="PRECONDITION_FAILED",e[e.REQUEST_ENTITY_TOO_LARGE=413]="REQUEST_ENTITY_TOO_LARGE",e[e.REQUEST_URI_TOO_LARGE=414]="REQUEST_URI_TOO_LARGE",e[e.UNSUPPORTED_MEDIA_TYPE=415]="UNSUPPORTED_MEDIA_TYPE",e[e.REQUESTED_RANGE_NOT_SATISFIABLE=416]="REQUESTED_RANGE_NOT_SATISFIABLE",e[e.EXPECTATION_FAILED=417]="EXPECTATION_FAILED",e[e.INTERNAL_SERVER_ERROR=500]="INTERNAL_SERVER_ERROR",e[e.NOT_IMPLEMENTED=501]="NOT_IMPLEMENTED",e[e.BAD_GATEWAY=502]="BAD_GATEWAY",e[e.SERVICE_UNAVAILABLE=503]="SERVICE_UNAVAILABLE",e[e.GATEWAY_TIME_OUT=504]="GATEWAY_TIME_OUT",e[e.HTTP_VERSION_NOT_SUPPORTED=505]="HTTP_VERSION_NOT_SUPPORTED"}(So||(So={}));var ya={TYPE:et.TYPE,is:function(e){return et.is(e)&&Ze.is(e)},create:et.create,createFrom:et.createFrom},va={namespace:"http://www.w3.org/1999/02/22-rdf-syntax-ns#",type:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type"},ma=function(e){function t(t){var r=e.call(this,function(e){return _.isString(e)?function(e){if(!E.hasProtocol(e))throw new T.a('The URL must contain a valid protocol: "http://", "https://".');return e.endsWith("/")?e:e+"/"}(e):function(e){if(!_.isString(e.host))throw new T.a("The settings object must contains a valid host string.");if(v(e.host))throw new T.a("The host must not contain a protocol.");if(e.host.includes(":"))throw new T.a("The host must not contain a port.");var t=!1===e.ssl?"http://":"https://",r=e.host.endsWith("/")?e.host.slice(0,-1):e.host,n=""+t+r+"/";return _.isNumber(e.port)?n.slice(0,-1)+":"+e.port+"/":n}(e)}(t))||this;return r._settings={vocabulary:"vocabularies/main/#",paths:{system:{slug:".system/",paths:{platform:"platform/",credentials:"credentials/",roles:"roles/"}},users:{slug:"users/",paths:{me:"me/"}}}},r._extendsSettings(function(e){return _.isString(e)?{}:Object.assign({},e,{ssl:null,host:null,port:null})}(t)),r.documents=r.registry.getPointer(r._baseURI,!0),r}return g.c(t,e),Object.defineProperty(t,"version",{get:function(){return"5.2.0"},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"version",{get:function(){return t.version},enumerable:!0,configurable:!0}),t.prototype.getPlatformMetadata=function(){var e=this;return _.promiseMethod((function(){var t=e._resolvePath("system.platform");return e.documents.$get(t)}))},t.AbstractContext=it,t.AccessPoint=rt,t.TransientAccessPoint=tt,t.Errors=i,t.FreeResources=_e,t.HTTP=o,t.JSONLD=a,t.LDP=s,t.LDPatch=u,t.Messaging=c,t.Vocabularies=d,t.ObjectSchemaUtils=de,t.ObjectSchemaDigester=Se,t.DigestedObjectSchemaProperty=he,t.PointerType=be,t.ContainerType=F,t.DigestedObjectSchema=ge,t.Document=Ze,t.Fragment=Ue,t.TransientFragment=$e,t.Pointer=x,t.RDF=f,t.Resource=we,t.GlobalContext=fa,t.SHACL=l,t.SPARQL=p,t.System=h,t.Utils=_,t}(la);r.d(t,"default",(function(){return wa}));const ba=new ma("https://data-itesm.lab.base22.com/");function wa(e){return ba.documents.$executeSELECTQuery("\n            PREFIX educore: <http://www.ebu.ch/metadata/ontologies/ebucore/ebucore#>\n            PREFIX w3: <http://www.w3.org/2000/01/rdf-schema#>\n            SELECT ?keyword ?label (COUNT(?label) AS ?count)\n            WHERE {\n                <https://data-itesm.lab.base22.com/movies/> <http://www.w3.org/ns/ldp#contains> ?movie .\n                ?movie educore:Keyword ?keyword .\n                ?keyword w3:label ?label .\n            }\n            GROUP BY ?keyword ?label\n            ORDER BY DESC(?count)\n            LIMIT "+e).then(e=>{let t=[];return e.bindings.forEach(e=>{let r={weight:e.count,keyword:e.label,link:e.keyword.$id};t.push(r)}),t})}}]);